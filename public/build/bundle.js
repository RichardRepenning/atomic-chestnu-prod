var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(u(e,n))}function l(t,e,n,r){if(t){const i=h(t,e,n,r);return t[0](i)}}function h(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function f(t,e,n,r,i,o,s){const a=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(a){const i=h(e,n,r,s);t.p(i,a)}}function d(t,e,n=e){return t.set(n),e}function p(e){return e&&s(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let m=v?()=>window.performance.now():()=>Date.now(),g=v?t=>requestAnimationFrame(t):t;const y=new Set;function b(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&g(b)}function w(t){let e;return 0===y.size&&g(b),{promise:new Promise((n=>{y.add(e={c:t,f:n})})),abort(){y.delete(e)}}}function I(t,e){t.appendChild(e)}function E(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function A(){return S(" ")}function N(){return S("")}function D(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function O(t){return function(e){return e.preventDefault(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function P(t){return""===t?null:+t}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e){t.value=null==e?"":e}function L(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function j(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function V(t,e,n){t.classList[n?"add":"remove"](e)}function F(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const U=new Set;let $,q=0;function z(t,e,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${s(r,1-r)}}\n`}const l=c+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${a}`,f=t.ownerDocument;U.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(x("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${l}`,d.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${h} ${r}ms linear ${i}ms 1 both`,q+=1,h}function B(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),q-=i,q||g((()=>{q||(U.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),U.clear())})))}function H(t){$=t}function G(){if(!$)throw new Error("Function called outside component initialization");return $}function Y(t){G().$$.on_mount.push(t)}function K(t){G().$$.on_destroy.push(t)}function W(){const t=G();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=F(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function X(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const J=[],Q=[],Z=[],tt=[],et=Promise.resolve();let nt=!1;function rt(){nt||(nt=!0,et.then(ct))}function it(){return rt(),et}function ot(t){Z.push(t)}function st(t){tt.push(t)}let at=!1;const ut=new Set;function ct(){if(!at){at=!0;do{for(let t=0;t<J.length;t+=1){const e=J[t];H(e),lt(e.$$)}for(H(null),J.length=0;Q.length;)Q.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];ut.has(e)||(ut.add(e),e())}Z.length=0}while(J.length);for(;tt.length;)tt.pop()();nt=!1,at=!1,ut.clear()}}function lt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}let ht;function ft(){return ht||(ht=Promise.resolve(),ht.then((()=>{ht=null}))),ht}function dt(t,e,n){t.dispatchEvent(F(`${e?"intro":"outro"}${n}`))}const pt=new Set;let vt;function mt(){vt={r:0,c:[],p:vt}}function gt(){vt.r||o(vt.c),vt=vt.p}function yt(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function bt(t,e,n,r){if(t&&t.o){if(pt.has(t))return;pt.add(t),vt.c.push((()=>{pt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const wt={duration:0};function It(n,r,i,a){let u=r(n,i),c=a?0:1,l=null,h=null,f=null;function d(){f&&B(n,f)}function p(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(r){const{delay:i=0,duration:s=300,easing:a=e,tick:v=t,css:g}=u||wt,y={start:m()+i,b:r};r||(y.group=vt,vt.r+=1),l||h?h=y:(g&&(d(),f=z(n,c,r,s,i,a,g)),r&&v(0,1),l=p(y,s),ot((()=>dt(n,r,"start"))),w((t=>{if(h&&t>h.start&&(l=p(h,s),h=null,dt(n,l.b,"start"),g&&(d(),f=z(n,c,l.b,l.duration,0,a,u.css))),l)if(t>=l.end)v(c=l.b,1-c),dt(n,l.b,"end"),h||(l.b?d():--l.group.r||o(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;c=l.a+l.d*a(e/l.duration),v(c,1-c)}return!(!l&&!h)})))}return{run(t){s(u)?ft().then((()=>{u=u(),v(t)})):v(t)},end(){d(),l=h=null}}}const Et="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Tt(t,e){bt(t,1,1,(()=>{e.delete(t.key)}))}function _t(t,e,n,r,i,o,s,a,u,c,l,h){let f=t.length,d=o.length,p=f;const v={};for(;p--;)v[t[p].key]=p;const m=[],g=new Map,y=new Map;for(p=d;p--;){const t=h(i,o,p),a=n(t);let u=s.get(a);u?r&&u.p(t,e):(u=c(a,t),u.c()),g.set(a,m[p]=u),a in v&&y.set(a,Math.abs(p-v[a]))}const b=new Set,w=new Set;function I(t){yt(t,1),t.m(a,l),s.set(t.key,t),l=t.first,d--}for(;f&&d;){const e=m[d-1],n=t[f-1],r=e.key,i=n.key;e===n?(l=e.first,f--,d--):g.has(i)?!s.has(r)||b.has(r)?I(e):w.has(i)?f--:y.get(r)>y.get(i)?(w.add(r),I(e)):(b.add(i),f--):(u(n,s),f--)}for(;f--;){const e=t[f];g.has(e.key)||u(e,s)}for(;d;)I(m[d-1]);return m}function xt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function kt(t){return"object"==typeof t&&null!==t?t:{}}function St(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function At(t){t&&t.c()}function Nt(t,e,n){const{fragment:i,on_mount:a,on_destroy:u,after_update:c}=t.$$;i&&i.m(e,n),ot((()=>{const e=a.map(r).filter(s);u?u.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(ot)}function Dt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ot(e,n,r,s,a,u,c=[-1]){const l=$;H(e);const h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let f=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),f&&function(t,e){-1===t.$$.dirty[0]&&(J.push(t),rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),f=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(T)}else h.fragment&&h.fragment.c();n.intro&&yt(e.$$.fragment),Nt(e,n.target,n.anchor),ct()}H(l)}class Ct{$destroy(){Dt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Pt=function(t,e){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Mt(t,e){function n(){this.constructor=t}Pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Rt=function(){return(Rt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Lt(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function jt(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Vt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ft(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ut(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ft(arguments[e]));return t}function $t(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qt(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=qt(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var zt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ht(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gt=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Yt.prototype.create),o}return Mt(e,t),e}(Error),Yt=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Kt(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Gt(i,a,r);return u},t}();function Kt(t,e){return t.replace(Wt,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Wt=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jt(t,e){var n=new Qt(t,e);return n.subscribe.bind(n)}var Qt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Zt),void 0===r.error&&(r.error=Zt),void 0===r.complete&&(r.complete=Zt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Zt(){}var te=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),ee="[DEFAULT]",ne=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=ee);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new zt;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Rt({identifier:ee,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService(ee)}catch(t){}try{for(var r=Vt(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ft(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=ee),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Lt(this,void 0,void 0,(function(){var t;return jt(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ut(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===ee?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:ee:t},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var re,ie=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ne(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function oe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var se,ae=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(se||(se={}));var ue,ce={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},le=se.INFO,he=((re={})[se.DEBUG]="log",re[se.VERBOSE]="log",re[se.INFO]="info",re[se.WARN]="warn",re[se.ERROR]="error",re),fe=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=he[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,oe(["["+i+"]  "+t.name+":"],n))}},de=function(){function t(t){this.name=t,this._logLevel=le,this._logHandler=fe,this._userLogHandler=null,ae.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in se))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ce[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oe([this,se.DEBUG],t)),this._logHandler.apply(this,oe([this,se.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oe([this,se.VERBOSE],t)),this._logHandler.apply(this,oe([this,se.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oe([this,se.INFO],t)),this._logHandler.apply(this,oe([this,se.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oe([this,se.WARN],t)),this._logHandler.apply(this,oe([this,se.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oe([this,se.ERROR],t)),this._logHandler.apply(this,oe([this,se.ERROR],t))},t}();function pe(t){ae.forEach((function(e){e.setLogLevel(t)}))}var ve,me=((ue={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ue["bad-app-name"]="Illegal App name: '{$appName}",ue["duplicate-app"]="Firebase App named '{$appName}' already exists",ue["app-deleted"]="Firebase App named '{$appName}' already deleted",ue["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ue["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ue),ge=new Yt("app","Firebase",me),ye="@firebase/app",be="[DEFAULT]",we=((ve={})[ye]="fire-core",ve["@firebase/analytics"]="fire-analytics",ve["@firebase/auth"]="fire-auth",ve["@firebase/database"]="fire-rtdb",ve["@firebase/functions"]="fire-fn",ve["@firebase/installations"]="fire-iid",ve["@firebase/messaging"]="fire-fcm",ve["@firebase/performance"]="fire-perf",ve["@firebase/remote-config"]="fire-rc",ve["@firebase/storage"]="fire-gcs",ve["@firebase/firestore"]="fire-fst",ve["fire-js"]="fire-js",ve["firebase-wrapper"]="fire-js-all",ve),Ie=new de("@firebase/app"),Ee=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=qt(void 0,t),this.container=new ie(e.name),this._addComponent(new te("app",(function(){return o}),"PUBLIC"));try{for(var s=Vt(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=be),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=be),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Ie.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ge.create("app-deleted",{appName:this.name_})},t}();Ee.prototype.name&&Ee.prototype.options||Ee.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Te(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=be);var s=o.name;if("string"!=typeof s||!s)throw ge.create("bad-app-name",{appName:String(s)});if(Xt(e,s))throw ge.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=we[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Ie.warn(u.join(" "))}o(new te(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:pe,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ge.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ce[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:se[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=ae;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Xt(e,t=t||be))throw ge.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return Ie.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw ge.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&qt(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var l=Vt(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(t){s={error:t}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _e=function t(){var e=Te(Ee);return e.INTERNAL=Rt(Rt({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){qt(e,t)},createSubscribe:Jt,ErrorFactory:Yt,deepExtend:qt}),e}(),xe=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&Ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Se=_e.initializeApp;_e.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ht()&&Ie.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Se.apply(void 0,t)};var Ae=_e;!function(t,e){t.INTERNAL.registerComponent(new te("platform-logger",(function(t){return new xe(t)}),"PRIVATE")),t.registerVersion(ye,"0.6.14",e),t.registerVersion("fire-js","")}(Ae),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function _(t,e,n){this.code=S+t,this.message=e||A[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new _(e.substring(S.length),t.message,t.serverResponse):null}E(_,Error),_.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},_.prototype.toJSON=function(){return this.w()};var k,S="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function M(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}k=D("__EID__")?"__EID__":void 0,E(C,Error),C.prototype.name="CustomError",E(P,C),P.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new R((function(){return new U}),(function(t){t.reset()}));function F(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=$(t,e)}function Y(t,e){var n;return(n=0<=(e=$(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function W(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var ut=s.navigator;if(ut){var ct=ut.userAgent;if(ct){J=ct;break t}}J=""}function lt(t){return st(J,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===It&&e||"",this.b=wt}function yt(t){return t instanceof gt&&t.constructor===gt&&t.b===wt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.sa=!0,gt.prototype.ra=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt,wt={},It={};function Et(){if(void 0===bt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(t){s.console&&s.console.error(t.message)}bt=t}else bt=t}return bt}function Tt(t,e){this.a=e===At?t:""}function _t(t){return t instanceof Tt&&t.constructor===Tt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=yt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new Tt(t=e?e.createScriptURL(t):t,At)}(t=n.replace(kt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?yt(t):encodeURIComponent(String(t))})))}Tt.prototype.sa=!0,Tt.prototype.ra=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var kt=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Nt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ct=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Nt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ct);t=e&&Ot.test(e[1])?new Nt(t,Lt):null}return t}function Rt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Lt))}var Lt={},jt=new Nt("about:invalid#zClosurez",Lt);function Vt(t,e,n){this.a=n===Ft?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Ut(t,e,n,r){return t=t instanceof Nt?t:Rt(t),e=e||s,n=n instanceof gt?yt(n):n||"",e.open(Dt(t),n,r,void 0)}function $t(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=l;var Bt,Ht,Gt=lt("Opera"),Yt=lt("Trident")||lt("MSIE"),Kt=lt("Edge"),Wt=Kt||Yt,Xt=lt("Gecko")&&!(st(J.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),Jt=st(J.toLowerCase(),"webkit")&&!lt("Edge");function Qt(){var t=s.document;return t?t.documentMode:void 0}t:{var Zt="",te=(Ht=J,Xt?/rv:([^\);]+)(\)|;)/.exec(Ht):Kt?/Edge\/([\d\.]+)/.exec(Ht):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Jt?/WebKit\/(\S+)/.exec(Ht):Gt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(te&&(Zt=te?te[1]:""),Yt){var ee=Qt();if(null!=ee&&ee>parseFloat(Zt)){Bt=String(ee);break t}}Bt=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String(Bt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=at(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==s[2].length,0==a[2].length)||at(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Yt){var oe=Qt();ne=oe||(parseInt(Bt,10)||void 0)}else ne=void 0;var se=ne;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var ae=!Yt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}q(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){s.setTimeout((function(){throw t}),0)}function me(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!lt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!lt("Trident")&&!lt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),ge||(he(),ge=!0),ye.add(t,e)}var ge=!1,ye=new j;function be(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){ve(t)}L(V,t)}ge=!1}function we(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Re(n,Ee,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Re(n,Te,t)}))}catch(t){Re(this,Te,t)}}var Ie=0,Ee=2,Te=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new R((function(){return new _e}),(function(t){t.reset()}));function ke(t,e,n){var r=xe.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof we)return t;var e=new we(l);return Re(e,Ee,t),e}function Ne(t){return new we((function(e,n){n(t)}))}function De(t,e,n){Le(t,e,n,null)||me(w(e,t))}function Oe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)De(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ce(t,e){if(t.a==Ie)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Ie&&1==r?Ce(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ve(n),Fe(n,i,Te,e)))}t.c=null}else Re(t,Te,e)}function Pe(t,e){t.b||t.a!=Ee&&t.a!=Te||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Me(t,e,n,r){var i=ke(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Pe(t,i),i.a}function Re(t,e,n){t.a==Ie&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Te||n instanceof qe||function(t,e){t.g=!0,me((function(){t.g&&$e.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof we)return Pe(t,ke(e||l,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function je(t){t.h||(t.h=!0,me(t.gc,t))}function Ve(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(t){$e.call(null,t)}L(xe,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Me(this,d(t)?t:null,d(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Me(this,null,t,e)},t.cancel=function(t){if(this.a==Ie){var e=new qe(t);me((function(){Ce(this,e)}),this)}},t.$c=function(t){this.a=Ie,Re(this,Ee,t)},t.ad=function(t){this.a=Ie,Re(this,Te,t)},t.gc=function(){for(var t;t=Ve(this);)Fe(this,t,this.a,this.i);this.h=!1};var $e=ve;function qe(t){C.call(this,t)}function ze(){this.xa=this.xa,this.pa=this.pa}E(qe,C),qe.prototype.name="cancel";function Be(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t)}ze.prototype.xa=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var He=Object.freeze||function(t){return t},Ge=!Yt||9<=Number(se),Ye=Yt&&!ie("9"),Ke=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(t){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Xe,We);var Je=He({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Xe.prototype.g=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Ze,this.va=this.Pa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new tn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Qe]?In(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=gn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=mn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ke||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Qe]?En(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=bn(n),t&&t[Qe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Qe])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function dn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&fn(t),n.call(r,e)}function mn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Xe(e,this))}function gn(t){return(t=t[sn])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function wn(){ze.call(this),this.v=new nn(this),this.ac=this,this.gb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&rn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function xn(t){var e=null;return new we((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function kn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(wn,ze),wn.prototype[Qe]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;vt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Tn(s,r,!0,t)&&i}if(i=Tn(s=t.b=n,r,!0,t)&&i,i=Tn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=An.prototype).W=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Cn?(this.i=void 0!==e?e:t.i,Pn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Rn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Pn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Mn(this,n[4]),this.f=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Kn(null,this.i))}function Pn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=$n(e,Gn)),t.b=new Kn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Cn?new Cn(t):new Cn(t,void 0)}function Fn(t,e,n,r){var i=new Cn(null,void 0);return t&&Pn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $n(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cn.prototype.toString=function(){var t=[],e=this.c;e&&t.push($n(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push($n(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push($n(n,"/"==n.charAt(0)?Hn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",$n(n,Yn)),t.join("")},Cn.prototype.resolve=function(t){var e=new Cn(this),n=!!t.c;n?Pn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Bn=/[#\?:]/g,Hn=/[#\?]/g,Gn=/[#\?@]/g,Yn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=kn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Jn(t,e){Wn(t),e=er(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Qn(t,e){return Wn(t),e=er(t,e),Dn(t.a.b,e)}function Zn(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),X(n)),t.b+=n.length)}function tr(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),ir(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Kn.prototype).add=function(t,e){Wn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Wn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Wn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=W(e,this.a.get(er(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Qn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(sr,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function ur(){var t=Ar();return Yt&&!!se&&11==se||/Edge\/\d+/.test(t)}function cr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function lr(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Mt(t)||jt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||s.window;try{t.close()}catch(t){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),xr(Ar())==Tr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Mt(void 0!==n.href?n.href:String(n))||jt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Rt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ut("",r,n,s),t=Dt(e),s&&(Wt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new Vt(t=(r=Et())?r.createHTML(t):t,null,Ft),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ut(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new we((function(e){"complete"==s.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function yr(t){return t=t||Ar(),!("file:"!==Pr()&&"ionic:"!==Pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function wr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Ir(){return Ae.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ae.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=Ir();return"ReactNative"===t||"Node"===t}var Tr="Firefox",_r="Chrome";function xr(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?Tr:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":_r:"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=xr(i=Ar()):"Worker"===r&&(r=xr(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=s.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!s.indexedDB}catch(t){return wr()&&!!s.indexedDB}return!1}function Or(){return(Cr()||"chrome-extension:"===Pr()||yr())&&!Er()&&Dr()&&!wr()}function Cr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return s.location&&s.location.protocol||null}function Mr(t){return!fr(t=t||Ar())&&xr(t)!=Tr}function Rr(t){return void 0===t?null:nr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=xr(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function $r(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=Ir(),this.b=fr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Br(){return!(!Nr("fireauth.oauthhelper",s)&&!Nr("fireauth.iframe",s))}$r.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==Pr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Gr={};function Yr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Kr.abcd}catch(Ht){Hr=!1}function Wr(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Jr(t){var e={};return Xr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Qr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new _("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ri]),Wr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(t){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Wr(this,"phoneNumber",t[ii])}function si(t){var e={},n=t[li],r=t[fi],i=t[di];if(t=ti(t[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[gi]=n||null,e[pi]=r):(e[vi]=r||null,e[gi]=r||null,e[pi]=n||null),e[mi]=t||null,Wr(this,bi,i),Wr(this,yi,Qr(e))}E(oi,Zr),oi.prototype.w=function(){var t=oi.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",fi="newEmail",di="requestType",pi="email",vi="fromEmail",mi="multiFactorInfo",gi="previousEmail",yi="data",bi="operation";function wi(t){var e=jn(t=Vn(t),Ii)||null,n=jn(t,Ei)||null,r=jn(t,xi)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new _("argument-error",Ii+", "+Ei+"and "+xi+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Ti)||null,languageCode:jn(t,_i)||null,tenantId:jn(t,ki)||null})}var Ii="apiKey",Ei="oobCode",Ti="continueUrl",_i="languageCode",xi="mode",ki="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new wi(t)}catch(t){return null}}function Ni(t){var e=t[Mi];if(void 0===e)throw new _("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new _("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[ji];var r=n[Ri];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new _("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new _("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new _("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new _("missing-android-pkg-name")}}else if(void 0!==n)throw new _("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[Pi])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new _("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new _("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new _("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new _("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var Di="android",Oi="dynamicLinkDomain",Ci="handleCodeInApp",Pi="iOS",Mi="url",Ri="installApp",Li="minimumVersion",ji="packageName",Vi="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function $i(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function qi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function zi(t){try{return new qi(t)}catch(t){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=$i(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(t){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Yi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Gi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Gi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Gi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ki(t){for(var e in Yi)if(Yi[e].fa==t)return Yi[e];return null}function Wi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Ji];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Xi])return new Qi(t)}catch(t){}return null}var Xi="idToken",Ji="providerId";function Qi(t){var e=t[Ji];if(!e&&t[Xi]){var n=zi(t[Xi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Zi(t){Qi.call(this,t),Wr(this,"profile",Qr((t=jr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=jn(e,"link"),r=jn(Vn(n),"link");return e=jn(e,"deep_link_id"),jn(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new _("internal-error","Internal assert: no raw session string available");if(t&&e)throw new _("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}E(Zi,Qi),E(to,Zi),E(eo,Zi),E(no,Zi),E(ro,Zi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then((function(t){if(t[Qs]){var n=zi(t[Qs]);if(!n||e!=n.i)throw new _("user-mismatch");return t}throw new _("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new _("user-mismatch"):t}))}function lo(t,e){if(!e)throw new _("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(t){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new _("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(t){}}return null}function go(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ki(t)||{}).Ja||null,this.ob=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new _("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function bo(t){go.call(this,t,Gi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function Io(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function To(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function _o(){bo.call(this,"google.com"),this.Ca("profile")}function xo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function ko(){go.call(this,"twitter.com",Hi)}function So(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new _("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function Do(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Oo(t,e){if(!(e=Co(e)))throw new _("argument-error","Invalid email link!");return new Ao(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ai(t=io(t)))&&t.operation===ui?t:null}function Po(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new _("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Po(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||Ae.auth()}catch(t){throw new _("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function jo(t,e){if(!t)throw new _("missing-verification-id");if(!e)throw new _("missing-verification-code");return new Po({eb:t,cb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return xo(o,n);case"facebook.com":return Io(n);case"github.com":return To(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Fo(t){if(!t.isOAuthProvider)throw new _("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new _("invalid-auth-event");if(this.g&&this.a)throw new _("invalid-auth-event");if(this.g&&!this.f)throw new _("invalid-auth-event")}function $o(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return wa(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,Ia(t,n)},lo.prototype.c=function(t,e){return co(Ea(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return wa(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ia(t,n)},po.prototype.c=function(t,e){return co(Ea(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ka=function(t){return this.Ib=dt(t),this},E(yo,go),E(bo,go),bo.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},bo.prototype.Qb=function(){return X(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new _("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},E(wo,bo),Wr(wo,"PROVIDER_ID","facebook.com"),Wr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Eo,bo),Wr(Eo,"PROVIDER_ID","github.com"),Wr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),E(_o,bo),Wr(_o,"PROVIDER_ID","google.com"),Wr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),E(ko,go),Wr(ko,"PROVIDER_ID","twitter.com"),Wr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Da,{email:this.a,oobCode:this.f}):ru(t,Qa,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Oa,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ba,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return co(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Do,{PROVIDER_ID:"password"}),Xr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.fb(Ro(this))},Po.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,ru(t,tu,n)},Po.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",co(t=ru(t,eu,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new _("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then((function(t){return function(t,e){return ru(t,Ga,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(e){return function(t,e){return ru(t,Ya,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new _("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Lo,{PROVIDER_ID:"phone"}),Xr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zo,Bo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=$t("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=$t("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",_.call(this,e,n)}function Go(t,e,n){_.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function Yo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Vo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new _(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Ko(){}function Wo(t){return t.c||(t.c=t.b())}function Xo(){}function Jo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}E(Ho,_),E(Go,_),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Go.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,E(Xo,Ko),Xo.prototype.a=function(){var t=Jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Jo(this)&&(t[0]=!0,t[1]=!0),t},zo=new Xo,E(Qo,Ko),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,ts(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null,es.prototype.reset=function(t,e,n,r,i){delete this.a},rs.prototype.toString=function(){return this.name};var is=new rs("SEVERE",1e3),os=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);function us(t){return t.c?t.c:t.a?us(t.a):(M("Root logger has no level set."),null)}ns.prototype.log=function(t,e,n){if(t.value>=us(this).value)for(d(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},ls=null;function hs(t){var e;if(ls||(ls=new ns(""),cs[""]=ls,ls.c=ss),!(e=cs[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(as,e,void 0)}function ds(t){this.f=t}function ps(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ds,Ko),ds.prototype.a=function(){return new ps(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),E(ps,wn);var vs=0;function ms(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){wn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ps.prototype).open=function(t,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=vs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ys(this),3==this.readyState&&ms(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Ua=function(t){var e=this.i;e&&e.log(os,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(os,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(os,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(bs,wn);var ws="";bs.prototype.b=hs("goog.net.XhrIo");var Is=/^https?$/i,Es=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():zo.a(),t.C=t.D?Wo(t.D):Wo(zo),t.a.onreadystatechange=b(t.Vb,t);try{fs(t.b,Cs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return fs(t.b,Cs(t,"Error opening Xhr: "+e.message)),void xs(t,e)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=Sn(t),r=kn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=_s,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!G(Es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ns(t),0<t.g&&(t.u=function(t){return Yt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,Cs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=_n(t.Ma,t.g,t)),fs(t.b,Cs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){fs(t.b,Cs(t,"Send error: "+e.message)),xs(t,e)}}function _s(t){return"content-type"==t.toLowerCase()}function xs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ks(t),As(t)}function ks(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Ds(t)&&2==Os(t))fs(t.b,Cs(t,"Local request error detected and ignored"));else if(t.i&&4==Ds(t))_n(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ds(t)){fs(t.b,Cs(t,"Request complete")),t.c=!1;try{var e,n=Os(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(On)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Is.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ds(t)?t.a.statusText:""}catch(e){fs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Os(t)+"]",ks(t)}}finally{As(t)}}}function As(t,e){if(t.a){Ns(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ns(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ds(t){return t.a?t.a.readyState:0}function Os(t){try{return 2<Ds(t)?t.a.status:-1}catch(t){return-1}}function Cs(t,e){return e+" ["+t.R+" "+t.l+" "+Os(t)+"]"}function Ps(t){var e=Bs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ms(t,e,n){t.a=!0,t.c=n,t.f=!e,Vs(t)}function Rs(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Ls(t,e,n,r){t.g.push([e,n,r]),t.a&&Vs(t)}function js(t){return H(t.g,(function(t){return d(t[1])}))}function Vs(t){if(t.h&&t.a&&js(t)){var e=t.h,n=qs[e];n&&(s.clearTimeout(n.a),delete qs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,js(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ps?(Ls(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new $s(e),qs[e.a]=e,t.h=e.a)}function Fs(){C.call(this)}function Us(){C.call(this)}function $s(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,Cs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),bs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ss(this):this.Jc())},t.Jc=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fs(this.b,"Can not get response: "+t.message),null}},Ps.prototype.cancel=function(t){if(this.a)this.c instanceof Ps&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Us(this),Rs(this),Ms(this,!1,t))}},Ps.prototype.m=function(t,e){this.i=!1,Ms(this,t,e)},Ps.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Ls(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},Ps.prototype.$goog_Thenable=!0,E(Fs,C),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",E(Us,C),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",$s.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function zs(t){var e,n=document,r=_t(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ps(o);return e=window.setTimeout((function(){Hs(i,!0);var t=new Ks(Ys,"Timeout reached for loading script "+r);Rs(a),Ms(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,!1,e),Rs(a),Ms(a,!0,null))},i.onerror=function(){Hs(i,!0,e);var t=new Ks(Gs,"Error while loading script "+r);Rs(a),Ms(a,!1,t)},vt(o={},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=_t(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Bs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,Ys=1;function Ks(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Ws(t){this.f=t}function Xs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=dt(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=dt(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=s.XMLHttpRequest||n&&Ae.INTERNAL.node&&Ae.INTERNAL.node.XMLHttpRequest)&&!wr())throw new _("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new ds(self):Er()?this.f=new Ws(n):this.f=new Qo,this.b=null}E(Ks,C),E(Ws,Ko),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Js,Qs="idToken",Zs=new $r(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new $r(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Pn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=Ar();return!((t=xr(t)!=_r?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&se&&!(9<se))})()||wr()?t=b(t.u,t):(Js||(Js=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ls(t,null,e,void 0)}(zs(xt(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Xs.prototype.T=function(){return this.b},Xs.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new _("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),En(a,"ready",(function(){u&&clearTimeout(u),Be(this)})),En(a,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),Ts(a,t,n,r,i)};var ua=new gt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function la(t,e,n,r,i,o,s){var a=Vn(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new we((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new _("network-request-failed"))}),r,u?void 0:nr(Lr(i)),t.a,t.v.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!mr.test(t))throw new _("invalid-email")}function fa(t){"email"in t&&ha(t)}function da(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new _("multi-factor-auth-required",null,dt(t));throw new _("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new _("internal-error")}else{if(!t.sessionInfo)throw new _("missing-verification-id");if(!t.code)throw new _("missing-verification-code")}}Xs.prototype.s=function(t,e,n,r,i){var o=this;Js.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xs.prototype.zb=function(){return ru(this,Ha,{})},Xs.prototype.Bb=function(t,e){return ru(this,za,{idToken:t,email:e})},Xs.prototype.Cb=function(t,e){return ru(this,Ba,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ma(t){if(!t.phoneVerificationInfo)throw new _("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new _("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new _("missing-verification-code")}function ga(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new _("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Yo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,Ka,e)}function Ia(t,e){return e.returnIdpCredential=!0,ru(t,Xa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Wa,e)}function Ta(t){if(!t.oobCode)throw new _("invalid-action-code")}(t=Xs.prototype).Db=function(t,e){var n={idToken:t},r=[];return ht(va,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,za,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Va,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ra,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,La,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,ja,t)},t.fb=function(t){return ru(this,Za,t)},t.nb=function(t,e){return ru(this,$a,{oobCode:t,newPassword:e})},t.Ra=function(t){return ru(this,xa,{oobCode:t})},t.jb=function(t){return ru(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},xa={endpoint:"resetPassword",A:Ta,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new _("internal-error")},B:!0},ka={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new _("weak-password")},G:da,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},Aa={endpoint:"deleteAccount",N:["idToken"]},Na={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new _("internal-error")}},Da={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ha,G:da,V:!0,B:!0},Oa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ha,G:da,V:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},Pa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},Ma={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new _("internal-error");ha(t)},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",B:!0},Va={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new _("internal-error");ha(t)},Z:"email",B:!0},Fa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ua={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new _("internal-error")}},$a={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},qa={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},za={endpoint:"setAccountInfo",N:["idToken"],A:fa,V:!0},Ba={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(fa(t),!t.password)throw new _("weak-password")},G:da,V:!0},Ha={endpoint:"signupNewUser",G:da,V:!0,B:!0},Ga={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new _("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new _("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new _("internal-error")},B:!0,Na:!0},Ya={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new _("internal-error")},B:!0,Na:!0},Ka={endpoint:"verifyAssertion",A:ga,Ya:ya,G:ba,V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:ga,Ya:ya,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new _("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);da(t)},V:!0,B:!0},Xa={endpoint:"verifyAssertion",A:function(t){if(ga(t),!t.idToken)throw new _("internal-error")},Ya:ya,G:ba,V:!0},Ja={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new _("invalid-custom-token")},G:da,V:!0,B:!0},Qa={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new _("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new _("internal-error");pa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Yo(t);da(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qs]^!!t.refreshToken)throw new _("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ne(new _("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),la(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new _("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new _(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new _(r[i],e);return!e&&t&&(e=Rr(t)),new _("internal-error",e)}function su(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new we((function(t,e){function n(){Ur(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},Se(zs(r=xt(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new we((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new gt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new $r(3e4,6e4),cu=new $r(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Fn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return Ae.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=cr();return function(t){return ru(t,Fa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:vr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(cr())}))}function mu(t){return t.m||(t.m=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=$o(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function gu(t){return t.l||(t.C=t.c?Sr(t.c,du(t.b)):null,t.l=new Xs(t.g,D(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=dt(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||Ae.INTERNAL.reactNative&&Ae.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Ae.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=dt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ft(e)||Ln(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Jn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!jn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Jn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Jn(t.b,"eid"),(s=du(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Ob=function(t,e,n){var r=new _("popup-closed-by-user"),i=new _("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return mu(t).then((function(){return function(t,e){return t.rb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&dr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new we((function(e){return function n(){xn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return xn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Ar();return!Mr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ne(new _("popup-blocked"));if(s&&!Mr())return this.ma().o((function(e){dr(t),i(e)})),r(),Se();this.a||(this.a=vu(gu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw dr(t),i(e),e}));return r(),e})).then((function(){(Fo(n),s)||lr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=vu(gu(this)));var i=this;return this.a.then((function(){Fo(e),lr(yu(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return mu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new _("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){K(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&jr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Rr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Eu=[];function Tu(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function xu(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).o((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(t.a,(function(t){return t==e}))}}function Au(){if(!Cu())throw new _("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(q(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),Tu(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new xu(new _u(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new we((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=Nu(t)),t.i}function Ou(t,e){var n=0;return new we((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!s.indexedDB}catch(t){return!1}}function Pu(t){return t.objectStore("firebaseLocalStorage")}function Mu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function ju(t){return Du(t).then((function(t){var e=Pu(Mu(t,!1));return e.getAll?Ru(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Cu()){var t=Vr(),r="__sak"+t;return Iu||(Iu=new Au),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function $u(){if(!function(){var t="Node"==Ir();if(!(t=qu()||t&&Ae.INTERNAL.node&&Ae.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new _("internal-error","The LocalStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=qu()||Ae.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function zu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==Ir();if(!(t=Hu()||t&&Ae.INTERNAL.node&&Ae.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new _("internal-error","The SessionStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Hu()||Ae.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=s.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=Wu,t.Node=Xu,t.ReactNative=Ju,t.Worker=Qu,this.a=t[Ir()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},xu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Au.prototype).set=function(t,e){var n=this,r=!1;return Ou(this,(function(e){return Ru((e=Pu(Mu(e,!0))).get(t))})).then((function(i){return Ou(n,(function(o){if(o=Pu(Mu(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Ou(this,(function(e){return Ru(Pu(Mu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Ou(this,(function(r){return n=!0,e.b++,Ru(Pu(Mu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=$u.prototype).get=function(t){var e=this;return Se().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&un(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=zu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Se().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Yu,Ku,Wu={F:$u,bb:Bu},Xu={F:$u,bb:Bu},Ju={F:bu,bb:zu},Qu={F:$u,bb:zu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Fr(Ar())||!br()),e=Mr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},Yu||(Yu=new Gu),t=Yu;try{this.g=!ur()&&Br()||!s.indexedDB?new t.a.F:new Fu(wr()?new Uu:new t.a.F)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Uu}this.v=new Uu,this.f=b(this.Yb,this),this.b={}}function ec(){return Ku||(Ku=new tc),Ku}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ft(this.a)&&(nc(this,"local").ca(this.f),this.h||(ur()||!Br())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Yt&&se&&10==se&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(yc):yc),this.reset()}E(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=W(128,dc);function mc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function gc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(mc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(mc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}E(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new _("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;gc(e,t),t=[];var n=8*e.g;56>e.c?gc(e,vc,56-e.c):gc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(mc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function xc(t){return t.f||(t.f=t.ma().then((function(){return new we((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),kc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(jn(o=Vn(i),"firebaseError")||null))?x(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)}))}var n=new Uo("unknown",null,null,null,new _("no-auth-event")),r=!1,i=xn(500).then((function(){return kc(t).then((function(){r||_c(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Bo||(Bo=new qo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function kc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return $o(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?gr().then((function(){return new we((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new _("cordova-not-ready")}))},t.Ob=function(t,e){return e(new _("operation-not-supported-in-this-environment")),Se()},t.Mb=function(){return Ne(new _("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ne(new _("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Se().then((function(){return Fo(e),xc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new _("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",s);if("string"!=typeof u)throw new _("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ne(new _("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new _("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",s)))throw new _("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",s)))throw new _("invalid-cordova-configuration");e=Ar(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=xn(2e3).then((function(){e(new _("redirect-cancelled-by-user"))})))},l=function(){qr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return kc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),xc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new _("no-auth-event")),t(e))}))},t.Sa=function(t){K(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",F:"session"};function Nc(t){return ic(t.b,Ac,t.a)}function Dc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Hc,this.C=new Xc,this.g=new Sc(zc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Oc(this.D,this.v,this.m,k,this.J)}function Oc(t,e,n,r,i){var o=Ae.SDK_VERSION||null;return yr()?new Ic(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Pc(t){t.a.Xb()&&Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Tb()||Gc(t.b)}function Mc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Nc(t.g).then((function(){Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Pc(t)})).o((function(){Pc(t)}))}function Rc(t,e){K(t.h,(function(t){return t==e}))}Dc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Oc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(t){if(!t)throw new _("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Gc(this.b),e};var Lc=new $r(2e3,1e4),jc=new $r(3e4,6e4);function Vc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Fc(e))throw new _("operation-not-supported-in-this-environment");return o=e,Nc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new we((function(){})):Nc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function $c(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Dc.prototype.qa=function(){return this.b.qa()};var qc={};function zc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Bc(t,e,n,r){var i=zc(e,n,r);return qc[i]||(qc[i]=new Dc(t,e,n,r)),qc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Wc(t,!1,null,null))}function Yc(t){t.g&&!t.i&&Wc(t,!1,null,null)}function Kc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Kc(t,n):Kc(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Jc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Qc(t,e){this.a=e,Wr(this,"verificationId",t)}function Zc(t,e,n,r){return new Lo(t).fb(e,n).then((function(t){return new Qc(t,r)}))}function tl(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new _("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new _("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;q(e[nl]||[],(function(t){(t=ti(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Wc(t,a,e,null)})).o((function(e){Wc(t,a,null,e)}))}(this,t,e):Ne(new _("invalid-auth-event")):(Wc(this,!1,null,null),Se())}else Ne(new _("invalid-auth-event"))},Hc.prototype.qa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new _("timeout");t.a&&t.a.cancel(),t.a=xn(jc.get()).then((function(){t.b||(t.g=!0,Wc(t,!0,null,e))}))}(t))}))},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new _("invalid-auth-event"))}else Ne(new _("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=jo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){_.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),Wr(this,"resolver",this.b)}function ol(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(t){}return null}function sl(){}function al(t){Wr(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new _("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t,e){t.stop(),t.b=xn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?Se():new we((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dl(t,!0)})).o((function(e){t.i(e)&&dl(t,!1)}))}function pl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function ml(t,e){t.b=zi(e[Qs]||""),t.a=e.refreshToken,vl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new _("internal-error")):r(new _("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):r(new _("internal-error"))}))}(t.f,e).then((function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,vl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yl(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function bl(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Ae.SDK_VERSION?Sr(Ae.SDK_VERSION):null;this.a=new Xs(this.l,D(k),r),t.emulatorConfig&&ia(this.a,t.emulatorConfig),this.b=new pl(this.a),Al(this,e[Qs]),ml(this.b,e),Wr(this,"refreshToken",this.b.a),Ol(this,n||{}),wn.call(this),this.R=!1,this.s&&Or()&&(this.i=Bc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ia(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Tl(i,t.f)},this.ba=null,this.O=new ll(this,n),Wr(this,"multiFactor",this.O)}function Il(t,e){t.ja&&hn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&un(e,"languageCodeChanged",t.Oa)}function El(t,e){t.X&&hn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&un(e,"emulatorConfigChanged",t.Aa)}function Tl(t,e){t.$=e,sa(t.a,Ae.SDK_VERSION?Sr(Ae.SDK_VERSION,t.$):null)}function _l(t,e){t.ba&&hn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&un(e,"frameworkChanged",t.Ba)}function xl(t){try{return Ae.app(t.m).auth()}catch(e){throw new _("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function kl(t){t.D||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.aa),un(t,"tokenChanged",t.aa))}function Sl(t){hn(t,"tokenChanged",t.aa),t.u.stop()}function Al(t,e){t.za=e,Wr(t,"_lat",e)}function Nl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Oe(e).then((function(){return t}))}function Dl(t){t.i&&!t.R&&(t.R=!0,Mc(t.i,t))}function Ol(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Cl(){}function Pl(t){return Se().then((function(){if(t.D)throw new _("app-deleted")}))}function Ml(t){return B(t.providerData,(function(t){return t.providerId}))}function Rl(t,e){e&&(Ll(t,e.providerId),t.providerData.push(e))}function Ll(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function jl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Vl(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Wr(t,"metadata",function(t){return new yl(t.a,t.b)}(e.metadata)):Wr(t,"metadata",new yl),q(e.providerData,(function(e){Rl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),hl(t.O,e.O.b))}function Fl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ma,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||jl(t,"isAnonymous",!1),e}))}))}function Ul(t,e){e[Qs]&&t.za!=e[Qs]&&(ml(t.b,e),t.dispatchEvent(new cl("tokenChanged")),Al(t,e[Qs]),jl(t,"refreshToken",t.b.a))}function $l(t,e){return Fl(t).then((function(){if(G(Ml(t),e))return Nl(t).then((function(){throw new _("provider-already-linked")}))}))}function ql(t,e,n){return Jr({user:t,credential:Vo(e),additionalUserInfo:e=Wi(e),operationType:n})}function zl(t,e){return Ul(t,e),t.reload().then((function(){return t}))}function Bl(t,e,n,r,i){if(!Or())return Ne(new _("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=Ki(n.providerId),s=Vr(t.uid+":::"),a=null;(!Mr()||br())&&t.s&&n.isOAuthProvider&&(a=yu(t.s,t.l,t.m,e,n,null,s,Ae.SDK_VERSION||null,null,null,t.tenantId));var u=pr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return Vc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new we((function(n,r){t.na(e,null,new _("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=$c(t.i,t,e,u,s)}))})).then((function(t){return u&&dr(u),t?Jr(t):null})).o((function(t){throw u&&dr(u),t})),Yl(t,r,i)}function Hl(t,e,n,r,i){if(!Or())return Ne(new _("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=null,s=Vr(t.uid+":::");return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Nl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Xl,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Jl(t.ha);throw o})).then((function(){if(o)throw o})),Yl(t,r,i)}function Gl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new _("internal-error");throw new _("auth-domain-config-required")}}function Yl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ne(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new cl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){Y(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),xl(t),b(t.jc,t))),n||e}))}function Kl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wl(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Rl(i,Jr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=dt(e.f);return delete n[nl],delete n[rl],vt(n,t),e.g(n)}))},E(il,_),sl.prototype.sb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Ro(t.a)}),ru(e,Ca,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),ru(e,Pa,n)}))}(this,t,e)},E(al,sl),E(ul,al),E(cl,We),(t=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=ti(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new oo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Ul(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return hl(e,r),Ul(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,dl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},pl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new _("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(wl,wn),wl.prototype.wa=function(t){this.ya=t,ra(this.a,t)},wl.prototype.la=function(){return this.ya},wl.prototype.Ga=function(){return X(this.$)},wl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(wl.prototype,"providerId","firebase"),(t=wl.prototype).reload=function(){var t=this;return Yl(this,Pl(this).then((function(){return Fl(t).then((function(){return Nl(t)})).then(Cl)})))},t.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},t.I=function(t){var e=this;return Yl(this,Pl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new _("internal-error");return t.accessToken!=e.za&&(Al(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),jl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new _("internal-error");Ol(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new bl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rl(this,e[n]);jl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},t.Lc=function(t){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Yl(this,t.c(this.a,this.uid).then((function(t){return Ul(e,t),n=ql(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Yl(this,$l(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=ql(e,t,"link"),zl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Yl(this,$l(this,"phone").then((function(){return Zc(xl(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Yl(this,Se().then((function(){return Zc(xl(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Yl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.ed=function(t){var e=this;return Yl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ul(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Yl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return Yl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ul(e,t),jl(e,"displayName",t.displayName||null),jl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),Nl(e)})).then(Cl))},t.cd=function(t){var e=this;return Yl(this,Fl(this).then((function(n){return G(Ml(e),t)?function(t,e,n){return ru(t,Na,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Ml(e),(function(t){n[t]||Ll(e,t)})),n[Lo.PROVIDER_ID]||Wr(e,"phoneNumber",null),Nl(e)})):Nl(e).then((function(){throw new _("no-such-provider")}))})))},t.delete=function(){var t=this;return Yl(this,this.I().then((function(e){return ru(t.a,Aa,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");Il(t,null),El(t,null),_l(t,null),t.J=[],t.D=!0,Sl(t),Wr(t,"refreshToken",null),t.i&&Rc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Bl(this,"linkViaPopup",t,(function(){return $l(e,t.providerId).then((function(){return Nl(e)}))}),!1)},t.Nc=function(t){return Bl(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Hl(this,"linkViaRedirect",t,(function(){return $l(e,t.providerId)}),!1)},t.Oc=function(t){return Hl(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Yl(this,this.I().then((function(n){return Ia(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=ql(i,t,"link"),zl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Yl(this,Se().then((function(){return co(Ea(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=ql(i,t,"reauthenticate"),Ul(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Yl(this,this.I().then((function(e){return n=e,void 0===t||ft(t)?{}:Fi(new Ni(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Yl(this,this.I().then((function(t){return r=t,void 0===e||ft(e)?{}:Fi(new Ni(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Yl(this,t=co(Se(t),n.uid).then((function(t){return e=ql(n,t,"reauthenticate"),Ul(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.O.w()),t};var Xl={name:"redirectUser",F:"session"};function Jl(t){return ic(t.b,Xl,t.a)}function Ql(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=eh("local"),n=eh("session"),r=eh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=jr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(th,t.a).then((function(t){return t?eh(t):e}))}))}))})).then((function(e){return t.c=e,Zl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(eh("local"),this.a,b(this.g,this))}function Zl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,eh(Zu[n]),t.a));return r.push(ic(t.b,th,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)De(t[a],w(o,a),s);else e(i)}))}(r)}Ql.prototype.g=function(){var t=this,e=eh("local");oh(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zl(t,"local").then((function(){t.c=e}))}))}))};var th={name:"persistence",F:"session"};function eh(t){return{name:"authUser",F:t}}function nh(t,e){return oh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function rh(t){return oh(t,(function(){return ic(t.b,t.c,t.a)}))}function ih(t,e,n){return oh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Kl(t||{})}))}))}function oh(t,e){return t.f=t.f.then(e,e),t.f}function sh(t){if(this.l=!1,Wr(this,"settings",new Jc),Wr(this,"app",t),!vh(this).options||!vh(this).options.apiKey)throw new _("invalid-api-key");t=Ae.SDK_VERSION?Sr(Ae.SDK_VERSION):null,this.a=new Xs(vh(this).options&&vh(this).options.apiKey,D(k),t),this.R=[],this.s=[],this.O=[],this.hb=Ae.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=Ae.INTERNAL.createSubscribe(b(this.Ac,this)),dh(this,null),this.i=new Ql(vh(this).options.apiKey+":"+vh(this).name),this.D=new Wl(vh(this).options.apiKey+":"+vh(this).name),this.$=bh(this,function(t){var e=vh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Xl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Kl(t||{})}))}(t.D,vh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Jl(t.D)}));return bh(t,e)}(t).then((function(){return ih(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return nh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:rh(t.i)}))):null})).then((function(e){dh(t,e||null)}));return bh(t,n)}(this)),this.h=bh(this,function(t){return t.$.then((function(){return hh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(eh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=vh(t).options.authDomain,n=vh(t).options.apiKey;e&&Or()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Bc(e,n,vh(t).name,t.P),Mc(t.b,t),mh(t)&&Dl(mh(t)),t.m){Dl(t.m);var r=t.m;r.wa(t.la()),Il(r,t),Tl(r=t.m,t.J),_l(r,t),ia((r=t.m).a,t.P),El(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Jr({protocol:t.c,host:t.a,port:t.g,options:Jr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ah(t){We.call(this,"languageCodeChanged"),this.h=t}function uh(t){We.call(this,"emulatorConfigChanged"),this.c=t}function ch(t){We.call(this,"frameworkChanged"),this.f=t}function lh(t){return t.Oa||Ne(new _("auth-domain-config-required"))}function hh(t){if(!Or())return Ne(new _("operation-not-supported-in-this-environment"));var e=lh(t).then((function(){return t.b.qa()})).then((function(t){return t?Jr(t):null}));return bh(t,e)}function fh(t,e){var n={};return n.apiKey=vh(t).options.apiKey,n.authDomain=vh(t).options.authDomain,n.appName=vh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new wl(t,e);return n&&(i.ha=n),r&&Tl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return mh(t)&&e.uid==mh(t).uid?(Vl(mh(t),e),t.da(e)):(dh(t,e),Dl(e),t.da(e))})).then((function(){yh(t)}))}function dh(t,e){mh(t)&&(function(t,e){K(t.S,(function(t){return t==e}))}(mh(t),t.Ba),hn(mh(t),"tokenChanged",t.ya),hn(mh(t),"userDeleted",t.za),hn(mh(t),"userInvalidated",t.Aa),Sl(mh(t))),e&&(e.S.push(t.Ba),un(e,"tokenChanged",t.ya),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&kl(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),Il(e,t),Tl(e,t.J),_l(e,t),ia(e.a,t.P),El(e,t))}function ph(t,e){var n=null,r=null;return bh(t,e.then((function(e){return n=Vo(e),r=Wi(e),fh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Jr({user:mh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(t){return t.app}function mh(t){return t.currentUser}function gh(t){return mh(t)&&mh(t)._lat||null}function yh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](gh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](gh(t))}}function bh(t,e){return t.R.push(e),e.oa((function(){Y(t.R,e)})),e}function wh(){}function Ih(){this.a={},this.b=1e12}Ql.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new _("invalid-persistence-type"),n=new _("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),oh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zl(n,t)})).then((function(){if(n.c=eh(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},E(sh,wn),E(ah,We),E(uh,We),E(ch,We),(t=sh.prototype).xb=function(t){return bh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new _("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&gr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ia(this.a,this.P),this.dispatchEvent(new uh(this.P))}},t.Gc=function(t){this.J.push(t),sa(this.a,Ae.SDK_VERSION?Sr(Ae.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:mh(this)&&mh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ph(i,wa(i.a,o))}))},t.Xc=function(t){if(!Or())return Ne(new _("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),r=Vr(),i=null;(!Mr()||br())&&vh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",t,null,r,Ae.SDK_VERSION||null,null,null,this.T(),this.P));var o=pr(i,n&&n.ua,n&&n.ta);return bh(this,n=lh(this).then((function(n){return Vc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new we((function(t,n){e.na("signInViaPopup",null,new _("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=$c(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&dr(o),t?Jr(t):null})).o((function(t){throw o&&dr(o),t})))},t.Yc=function(t){if(!Or())return Ne(new _("operation-not-supported-in-this-environment"));var e=this;return bh(this,lh(this).then((function(){return function(t){return oh(t,(function(){return t.b.set(th,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return hh(this).then((function(e){return t.b&&Yc(t.b.b),e})).o((function(e){throw t.b&&Yc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new _("null-user"));if(this.S!=t.tenantId)return Ne(new _("tenant-id-mismatch"));var e=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Tl(e,r),Vl(e,t),e}(t,n,e.D,e.Ga());return bh(this,this.h.then((function(){if(vh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return mh(e)&&t.uid==mh(e).uid?(Vl(mh(e),t),e.da(t)):(dh(e,r),Dl(r),e.da(r))})).then((function(){yh(e)})))},t.Ab=function(){var t=this;return bh(this,this.h.then((function(){return t.b&&Yc(t.b.b),mh(t)?(dh(t,null),rh(t.i).then((function(){yh(t)}))):Se()})))},t.Zc=function(){var t=this;return ih(this.i,vh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=mh(t)&&e){n=mh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Vl(mh(t),e),mh(t).I();(mh(t)||e)&&(dh(t,e),e&&(Dl(e),e.ha=t.D),t.b&&Mc(t.b,t),yh(t))}}))},t.da=function(t){return nh(this.i,t)},t.mc=function(){yh(this),this.da(mh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return ph(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(mh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),bh(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(gh(t)))})))}(this,(function(){t.next(mh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return bh(this,this.h.then((function(){return mh(e)?mh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return ph(e,ru(e.a,Ja,{token:t}))})).then((function(t){var n=t.user;return jl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ph(n,ru(n.a,Qa,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ph(n,ru(n.a,ka,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return ph(e,t.ka(e.a))}))},t.Sc=function(t){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=mh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(t,t.a.zb()).then((function(e){var n=e.user;return jl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return mh(this)&&mh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&mh(this)&&kl(mh(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&mh(this)&&Sl(mh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),bh(this,this.h.then((function(){e.l||G(e.s,t)&&t(gh(e))})))},t.removeAuthTokenListener=function(t){K(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(eh("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Yc(this.b.b)),Promise.resolve()},t.hc=function(t){return bh(this,function(t,e){return ru(t,Sa,{identifier:e,continueUri:Cr()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Co(t)},t.wb=function(t,e){var n=this;return bh(this,Se().then((function(){var t=new Ni(e);if(!t.c)throw new _("argument-error",Ci+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return bh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return bh(this,this.a.Ra(t).then((function(t){return new si(t)})))},t.jb=function(t){return bh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return bh(this,Se().then((function(){return void 0===e||ft(e)?{}:Fi(new Ni(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return bh(this,Zc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return bh(this,Se().then((function(){var r=e||cr(),i=Oo(t,r);if(!(r=Co(r)))throw new _("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new _("tenant-id-mismatch");return n.$a(i)})))},wh.prototype.render=function(){},wh.prototype.reset=function(){},wh.prototype.getResponse=function(){},wh.prototype.execute=function(){};var Eh=null;function Th(t,e){return(e=_h(e))&&t.a[e]||null}function _h(t){return(t=void 0===t?1e12:t)?t.toString():null}function xh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function kh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sh(){}function Ah(){}Ih.prototype.render=function(t,e){return this.a[this.b.toString()]=new xh(t,e),this.b++},Ih.prototype.reset=function(t){var e=Th(this,t);t=_h(t),e&&t&&(e.delete(),delete this.a[t])},Ih.prototype.getResponse=function(t){return(t=Th(this,t))?t.getResponse():null},Ih.prototype.execute=function(t){(t=Th(this,t))&&t.execute()},xh.prototype.getResponse=function(){return kh(this),this.b},xh.prototype.execute=function(){kh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},xh.prototype.delete=function(){kh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(Sh,"FACTOR_ID","phone"),Ah.prototype.g=function(){return Eh||(Eh=new Ih),Se(Eh)},Ah.prototype.c=function(){};var Nh=null;function Dh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new gt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ch=new $r(3e4,6e4);Dh.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new _("network-request-failed"))}),Ch.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new _("internal-error"));delete s[e.a]},Se(zs(xt(Oh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new _("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Dh.prototype.c=function(){this.b--};var Ph=null;function Mh(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Nh||(Nh=new Ah),a=Nh):(Ph||(Ph=new Dh),a=Ph),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[jh])throw new _("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vh],!s.document)throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new _("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Rh];this.a[Rh]=function(t){if(Fh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Lh];this.a[Lh]=function(){if(Fh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Nr(l,s);"function"==typeof t&&t()}}}var Rh="callback",Lh="expired-callback",jh="sitekey",Vh="size";function Fh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Uh(t,e){return t.h.push(e),e.oa((function(){Y(t.h,e)})),e}function $h(t){if(t.D)throw new _("internal-error","RecaptchaVerifier instance has been destroyed.")}function qh(t,e,n){var r=!1;try{this.b=n||Ae.app()}catch(t){throw new _("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new _("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ae.SDK_VERSION?Sr(Ae.SDK_VERSION,o):null,Mh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(k),r)}function zh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new _("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Bh.length)throw new _("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new _("argument-error",t+" failed: "+r)}(t=Mh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Uh(this,Se().then((function(){if(Cr()&&!wr())return gr();throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Ua,{})})).then((function(e){t.a[jh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){$h(this);var t=this;return Uh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',qt(s.name),'"'),s.type){o.push(' type="',qt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){$h(this);var t=this;return Uh(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){$h(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){$h(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(qh,Mh);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Gh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Yh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Kh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Xh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Jh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Qh(t){return p(t)&&"string"==typeof t.uid}function Zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tf(t,e){for(var n in e){var r=e[n].name;t[r]=rf(r,t[n],e[n].j)}}function ef(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){zh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function nf(t,e,n,r){t[e]=rf(e,n,r)}function rf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return zh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tf(sh.prototype,{jb:{name:"applyActionCode",j:[Hh("code")]},Ra:{name:"checkActionCode",j:[Hh("code")]},nb:{name:"confirmPasswordReset",j:[Hh("code"),Hh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hh("email"),Hh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Hh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Hh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Yh(),Kh(),"nextOrObserver"),Kh("opt_error",!0),Kh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Yh(),Kh(),"nextOrObserver"),Kh("opt_error",!0),Kh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Hh("email"),Zh(Yh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Hh("email"),Yh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Hh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Xh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Xh()]},Tc:{name:"signInWithCustomToken",j:[Hh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Hh("email"),Hh("password")]},Vc:{name:"signInWithEmailLink",j:[Hh("email"),Hh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wl)}},Wh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Hh("url"),Yh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Hh("code")]}}),ef(sh.prototype,{lc:{name:"languageCode",kb:Zh(Hh(),Wh(),"languageCode")},ti:{name:"tenantId",kb:Zh(Hh(),Wh(),"tenantId")}}),sh.Persistence=Zu,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",tf(wl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Xh()]},qb:{name:"linkWithCredential",j:[Xh()]},Dc:{name:"linkWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xh()]},tb:{name:"reauthenticateWithCredential",j:[Xh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zh(Yh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},cd:{name:"unlink",j:[Hh("provider")]},Bb:{name:"updateEmail",j:[Hh("email")]},Cb:{name:"updatePassword",j:[Hh("password")]},ed:{name:"updatePhoneNumber",j:[Xh("phone")]},Db:{name:"updateProfile",j:[Yh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Hh("email"),Zh(Yh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),tf(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ef(Jc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gh("appVerificationDisabledForTesting")}}),tf(Qc.prototype,{confirm:{name:"confirm",j:[Hh("verificationCode")]}}),nf(uo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,No,Mo,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zh(Hh(),Yh(),"json")]),nf(Do,"credential",(function(t,e){return new Ao(t,e)}),[Hh("email"),Hh("password")]),tf(Ao.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(wo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),nf(wo,"credential",Io,[Zh(Hh(),Yh(),"token")]),nf(Do,"credentialWithLink",Oo,[Hh("email"),Hh("emailLink")]),tf(Eo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),nf(Eo,"credential",To,[Zh(Hh(),Yh(),"token")]),tf(_o.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),nf(_o,"credential",xo,[Zh(Hh(),Zh(Yh(),Wh()),"idToken"),Zh(Hh(),Wh(),"accessToken",!0)]),tf(ko.prototype,{Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),nf(ko,"credential",So,[Zh(Hh(),Yh(),"token"),Hh("secret",!0)]),tf(bo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},credential:{name:"credential",j:[Zh(Hh(),Zh(Yh(),Wh()),"optionsOrIdToken"),Zh(Hh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),tf(po.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(lo.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),nf(Lo,"credential",jo,[Hh("verificationId"),Hh("verificationCode")]),tf(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zh(Hh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Jh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Jh(t.session,ao)&&Qh(t.multiFactorHint):t.session&&t.multiFactorUid?Jh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tf(Po.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(_.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(Go.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(Ho.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(il.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),tf(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Hh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Qh},Hh(),"multiFactorInfoIdentifier")]}}),tf(qh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(wi,"parseLink",Ai,[Hh("link")]),nf(Sh,"assertion",(function(t){return new ul(t)}),[Xh("phone")]),function(){if(void 0===Ae||!Ae.INTERNAL||!Ae.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:uo,Error:_};nf(t,"EmailAuthProvider",Do,[]),nf(t,"FacebookAuthProvider",wo,[]),nf(t,"GithubAuthProvider",Eo,[]),nf(t,"GoogleAuthProvider",_o,[]),nf(t,"TwitterAuthProvider",ko,[]),nf(t,"OAuthProvider",bo,[Hh("providerId")]),nf(t,"SAMLAuthProvider",yo,[Hh("providerId")]),nf(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sh)}}]),nf(t,"RecaptchaVerifier",qh,[Zh(Hh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Yh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Ae.app.App)}}]),nf(t,"ActionCodeURL",wi,[]),nf(t,"PhoneMultiFactorGenerator",Sh,[]),Ae.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ae.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ae.registerVersion("@firebase/auth","0.16.3"),Ae.INTERNAL.extendNamespace({User:wl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Ne=function(t,e){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function De(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oe,Ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pe=Pe||{},Me=Ce||self;function Re(){}function Le(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function je(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ve="closure_uid_"+(1e9*Math.random()>>>0),Fe=0;function Ue(t,e,n){return t.call.apply(t.bind,arguments)}function $e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function qe(t,e,n){return(qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ue:$e).apply(null,arguments)}function ze(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Be(){return Date.now()}function He(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ge(){this.j=this.j,this.i=this.i}Ge.prototype.j=!1,Ge.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Ve)&&t[Ve]||(t[Ve]=++Fe))},Ge.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ye=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ke=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function We(t){return Array.prototype.concat.apply([],arguments)}function Xe(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Je(t){return/^[\s\xa0]*$/.test(t)}var Qe,Ze=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tn(t,e){return-1!=t.indexOf(e)}function en(t,e){return t<e?-1:t>e?1:0}t:{var nn=Me.navigator;if(nn){var rn=nn.userAgent;if(rn){Qe=rn;break t}}Qe=""}function on(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function sn(t){var e={};for(var n in t)e[n]=t[n];return e}var an="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function un(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<an.length;o++)n=an[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cn(t){return cn[" "](t),t}cn[" "]=Re;var ln,hn,fn=tn(Qe,"Opera"),dn=tn(Qe,"Trident")||tn(Qe,"MSIE"),pn=tn(Qe,"Edge"),vn=pn||dn,mn=tn(Qe,"Gecko")&&!(tn(Qe.toLowerCase(),"webkit")&&!tn(Qe,"Edge"))&&!(tn(Qe,"Trident")||tn(Qe,"MSIE"))&&!tn(Qe,"Edge"),gn=tn(Qe.toLowerCase(),"webkit")&&!tn(Qe,"Edge");function yn(){var t=Me.document;return t?t.documentMode:void 0}t:{var bn="",wn=(hn=Qe,mn?/rv:([^\);]+)(\)|;)/.exec(hn):pn?/Edge\/([\d\.]+)/.exec(hn):dn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hn):gn?/WebKit\/(\S+)/.exec(hn):fn?/(?:Version)[ \/]?(\S+)/.exec(hn):void 0);if(wn&&(bn=wn?wn[1]:""),dn){var In=yn();if(null!=In&&In>parseFloat(bn)){ln=String(In);break t}}ln=bn}var En,Tn={};function _n(t){return function(t,e){var n=Tn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Ze(String(ln)).split("."),r=Ze(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=en(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||en(0==s[2].length,0==a[2].length)||en(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Me.document&&dn){var xn=yn();En=xn||(parseInt(ln,10)||void 0)}else En=void 0;var kn=En,Sn=!dn||9<=Number(kn),An=dn&&!_n("9"),Nn=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Me.addEventListener("test",Re,e),Me.removeEventListener("test",Re,e)}catch(t){}return t}();function Dn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function On(t,e){if(Dn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(mn){t:{try{cn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Cn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Dn.prototype.b=function(){this.defaultPrevented=!0},He(On,Dn);var Cn={2:"touch",3:"pen",4:"mouse"};On.prototype.b=function(){On.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,An)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Pn="closure_listenable_"+(1e6*Math.random()|0),Mn=0;function Rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Mn,this.Y=this.Z=!1}function Ln(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function jn(t){this.src=t,this.a={},this.b=0}function Vn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ye(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ln(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Fn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}jn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Fn(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Rn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Un="closure_lm_"+(1e6*Math.random()|0),$n={};function qn(t,e,n,r,i){if(r&&r.once)return Bn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qn(t,e[o],n,r,i);return null}return n=Qn(n),t&&t[Pn]?t.va(e,n,je(r)?!!r.capture:!!r,i):zn(t,e,n,!1,r,i)}function zn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=je(i)?!!i.capture:!!i;if(s&&!Sn)return null;var a=Xn(t);if(a||(t[Un]=a=new jn(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Wn,e=Sn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Nn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bn(t,e[o],n,r,i);return null}return n=Qn(n),t&&t[Pn]?t.wa(e,n,je(r)?!!r.capture:!!r,i):zn(t,e,n,!0,r,i)}function Hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Hn(t,e[o],n,r,i);else r=je(r)?!!r.capture:!!r,n=Qn(n),t&&t[Pn]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Fn(o=t.a[e],n,r,i))&&(Ln(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Xn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Fn(e,n,r,i)),(n=-1<t?e[t]:null)&&Gn(n))}function Gn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Pn])Vn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xn(e))?(Vn(n,t),0==n.b&&(n.src=null,e[Un]=null)):Ln(t)}}}function Yn(t){return t in $n?$n[t]:$n[t]="on"+t}function Kn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Gn(t),n.call(r,e)}function Wn(t,e){if(t.Y)return!0;if(!Sn){if(!e)t:{e=["window","event"];for(var n=Me,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Kn(t,e=new On(e,this))}return Kn(t,new On(e,this))}function Xn(t){return(t=t[Un])instanceof jn?t:null}var Jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(t){return"function"==typeof t?t:(t[Jn]||(t[Jn]=function(e){return t.handleEvent(e)}),t[Jn])}function Zn(){Ge.call(this),this.c=new jn(this),this.J=this,this.C=null}function tr(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Dn(e,t);else if(e instanceof Dn)e.target=e.target||t;else{var i=e;un(e=new Dn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=er(s,r,!0,e)&&i}if(i=er(s=e.a=t,r,!0,e)&&i,i=er(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=er(s=e.a=n[o],r,!1,e)&&i}function er(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Vn(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}He(Zn,Ge),Zn.prototype[Pn]=!0,(Oe=Zn.prototype).addEventListener=function(t,e,n,r){qn(this,t,e,n,r)},Oe.removeEventListener=function(t,e,n,r){Hn(this,t,e,n,r)},Oe.G=function(){if(Zn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ln(n[r]);delete e.a[t],e.b--}}this.C=null},Oe.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Oe.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var nr=Me.JSON.stringify;function rr(){this.b=this.a=null}var ir,or=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new ar}),(function(t){t.reset()}));function sr(){var t=hr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ar(){this.next=this.b=this.a=null}function ur(t){Me.setTimeout((function(){throw t}),0)}function cr(t,e){ir||function(){var t=Me.Promise.resolve(void 0);ir=function(){t.then(fr)}}(),lr||(ir(),lr=!0),hr.add(t,e)}rr.prototype.add=function(t,e){var n=or.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ar.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ar.prototype.reset=function(){this.next=this.b=this.a=null};var lr=!1,hr=new rr;function fr(){for(var t;t=sr();){try{t.a.call(t.b)}catch(t){ur(t)}var e=or;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}lr=!1}function dr(t,e){Zn.call(this),this.b=t||1,this.a=e||Me,this.f=qe(this.Za,this),this.g=Be()}function pr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function vr(t,e,n){if("function"==typeof t)n&&(t=qe(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=qe(t.handleEvent,t)}return 2147483647<Number(e)?-1:Me.setTimeout(t,e||0)}function mr(t){t.a=vr((function(){t.a=null,t.c&&(t.c=!1,mr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}He(dr,Zn),(Oe=dr.prototype).aa=!1,Oe.M=null,Oe.Za=function(){if(this.aa){var t=Be()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),tr(this,"tick"),this.aa&&(pr(this),this.start()))}},Oe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Be())},Oe.G=function(){dr.X.G.call(this),pr(this),delete this.a};var gr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:mr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Me.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ge);function yr(t){Ge.call(this),this.b=t,this.a={}}He(yr,Ge);var br=[];function wr(t,e,n,r){Array.isArray(n)||(n&&(br[0]=n.toString()),n=br);for(var i=0;i<n.length;i++){var o=qn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ir(t){on(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Gn(t)}),t),t.a={}}function Er(){this.a=!0}function Tr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return nr(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}yr.prototype.G=function(){yr.X.G.call(this),Ir(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Er.prototype.info=function(){};var _r={},xr=null;function kr(){return xr=xr||new Zn}function Sr(t){Dn.call(this,_r.Fa,t)}function Ar(t){var e=kr();tr(e,new Sr(e,t))}function Nr(t,e){Dn.call(this,_r.STAT_EVENT,t),this.stat=e}function Dr(t){var e=kr();tr(e,new Nr(e,t))}function Or(t){Dn.call(this,_r.Ga,t)}function Cr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Me.setTimeout((function(){t()}),e)}_r.Fa="serverreachability",He(Sr,Dn),_r.STAT_EVENT="statevent",He(Nr,Dn),_r.Ga="timingevent",He(Or,Dn);var Pr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Mr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Rr(){}function Lr(t){var e;return(e=t.a)||(e=t.a={}),e}function jr(){}Rr.prototype.a=null;var Vr,Fr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ur(){Dn.call(this,"d")}function $r(){Dn.call(this,"c")}function qr(){}function zr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new yr(this),this.P=Br,t=vn?125:void 0,this.R=new dr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}He(Ur,Dn),He($r,Dn),He(qr,Rr),Vr=new qr;var Br=45e3,Hr={},Gr={};function Yr(t,e,n){t.H=1,t.i=vi(ci(e)),t.j=n,t.I=!0,Kr(t,null)}function Kr(t,e){t.u=Be(),Jr(t),t.l=ci(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ai(n.b,"t",r),t.D=0,t.a=To(t.g,t.g.C?e:null),0<t.O&&(t.F=new gr(qe(t.Ca,t,t.a),t.O)),wr(t.J,t.a,"readystatechange",t.Xa),e=t.B?sn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ar(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Wr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Xr(t,n);if(i==Gr){4==e&&(t.h=4,Dr(14),r=!1),Tr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Hr){t.h=4,Dr(15),Tr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Tr(t.c,t.f,i,null),ni(t,i)}4==e&&0==n.length&&(t.h=1,Dr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),vo(e),e.F=!0,Dr(11))):(Tr(t.c,t.f,n,"[Invalid Chunked Response]"),ei(t),ti(t))}function Xr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Gr:(n=Number(e.substring(n,r)),isNaN(n)?Hr:(r+=1)+n>e.length?Gr:(e=e.substr(r,n),t.D=r+n,e))}function Jr(t){t.T=Be()+t.P,Qr(t,t.P)}function Qr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Cr(qe(t.Va,t),e)}function Zr(t){t.o&&(Me.clearTimeout(t.o),t.o=null)}function ti(t){0==t.g.v||t.A||yo(t.g,t)}function ei(t){Zr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,pr(t.R),Ir(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ni(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ri(n.b,t)))if(n.I=t.N,!t.C&&Ri(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;go(n),oo(n)}po(n),Dr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Cr(qe(n.Sa,n),6e3));if(1>=Mi(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else wo(n,11)}else if((t.C||n.a==t)&&go(n),!Je(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(tn(l,"spdy")||tn(l,"quic")||tn(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Li(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,pi(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Be()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Eo(u,u.C?u.ga:null,u.fa),d.C){ji(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Zr(p),Jr(p)),u.a=d}else fo(u);0<n.g.length&&uo(n)}else"stop"!=i[0]&&"close"!=i[0]||wo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?wo(n,7):io(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ar(4)}catch(t){}}function ri(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Le(t)||"string"==typeof t)Ke(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Le(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Le(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ii(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ii)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];si(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)si(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Oe=zr.prototype).setTimeout=function(t){this.P=t},Oe.Xa=function(t){t=t.target;var e=this.F;e&&3==to(t)?e.f():this.Ca(t)},Oe.Ca=function(t){try{if(t==this.a)t:{var e=to(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!vn&&!this.a.$())){this.A||4!=e||7==n||Ar(8==n||0>=r?3:2),Zr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Je(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Dr(12),ei(this),ti(this);break t}Tr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ni(this,u)}this.I?(Wr(this,e,o),vn&&this.b&&3==e&&(wr(this.J,this.R,"tick",this.Wa),this.R.start())):(Tr(this.c,this.f,o,null),ni(this,o)),4==e&&ei(this),this.b&&!this.A&&(4==e?yo(this.g,this):(this.b=!1,Jr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Dr(12)):(this.h=0,Dr(13)),ei(this),ti(this)}}}catch(t){}},Oe.Wa=function(){if(this.a){var t=to(this.a),e=this.a.$();this.D<e.length&&(Zr(this),Wr(this,t,e),this.b&&4!=t&&Jr(this))}},Oe.cancel=function(){this.A=!0,ei(this)},Oe.Va=function(){this.o=null;var t=Be();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Ar(3),Dr(17)),ei(this),this.h=2,ti(this)):Qr(this,this.T-t)},(Oe=ii.prototype).K=function(){oi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Oe.L=function(){return oi(this),this.a.concat()},Oe.get=function(t,e){return si(this.b,t)?this.b[t]:e},Oe.set=function(t,e){si(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Oe.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ai=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ui(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ui){this.a=void 0!==e?e:t.a,li(this,t.f),this.j=t.j,hi(this,t.c),fi(this,t.h),this.g=t.g,e=t.b;var n=new _i;n.c=e.c,e.a&&(n.a=new ii(e.a),n.b=e.b),di(this,n),this.i=t.i}else t&&(n=String(t).match(ai))?(this.a=!!e,li(this,n[1]||"",!0),this.j=mi(n[2]||""),hi(this,n[3]||"",!0),fi(this,n[4]),this.g=mi(n[5]||"",!0),di(this,n[6]||"",!0),this.i=mi(n[7]||"")):(this.a=!!e,this.b=new _i(null,this.a))}function ci(t){return new ui(t)}function li(t,e,n){t.f=n?mi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function hi(t,e,n){t.c=n?mi(e,!0):e}function fi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function di(t,e,n){e instanceof _i?(t.b=e,function(t,e){e&&!t.f&&(xi(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ki(this,e),Ai(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=gi(e,Ei)),t.b=new _i(e,t.a))}function pi(t,e,n){t.b.set(e,n)}function vi(t){return pi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Be()).toString(36)),t}function mi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gi(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ui.prototype.toString=function(){var t=[],e=this.f;e&&t.push(gi(e,bi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(gi(e,bi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(gi(n,"/"==n.charAt(0)?Ii:wi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",gi(n,Ti)),t.join("")};var bi=/[#\/\?@]/g,wi=/[#\?:]/g,Ii=/[#\?]/g,Ei=/[#\?@]/g,Ti=/#/g;function _i(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function xi(t){t.a||(t.a=new ii,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ki(t,e){xi(t),e=Ni(t,e),si(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,si((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&oi(t)))}function Si(t,e){return xi(t),e=Ni(t,e),si(t.a.b,e)}function Ai(t,e,n){ki(t,e),0<n.length&&(t.c=null,t.a.set(Ni(t,e),Xe(n)),t.b+=n.length)}function Ni(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Oe=_i.prototype).add=function(t,e){xi(this),this.c=null,t=Ni(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Oe.forEach=function(t,e){xi(this),this.a.forEach((function(n,r){Ke(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Oe.L=function(){xi(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Oe.K=function(t){xi(this);var e=[];if("string"==typeof t)Si(this,t)&&(e=We(e,this.a.get(Ni(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=We(e,t[n])}return e},Oe.set=function(t,e){return xi(this),this.c=null,Si(this,t=Ni(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Oe.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Oe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Di=function(t,e){this.b=t,this.a=e};function Oi(t){this.g=t||Ci,Me.PerformanceNavigationTiming?t=0<(t=Me.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Me.ia&&Me.ia.ya&&Me.ia.ya()&&Me.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ci=10;function Pi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Mi(t){return t.b?1:t.a?t.a.size:0}function Ri(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Li(t,e){t.a?t.a.add(e):t.b=e}function ji(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Vi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=De(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xe(t.c)}function Fi(){}function Ui(){this.a=new Fi}function $i(t,e,n){var r=n||"";try{ri(t,(function(t,n){var i=t;je(t)&&(i=nr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function qi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Oi.prototype.cancel=function(){var t,e;if(this.c=Vi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=De(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Fi.prototype.stringify=function(t){return Me.JSON.stringify(t,void 0)},Fi.prototype.parse=function(t){return Me.JSON.parse(t,void 0)};var zi=Me.JSON.parse;function Bi(t){Zn.call(this),this.headers=new ii,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Hi,this.D=this.F=!1}He(Bi,Zn);var Hi="",Gi=/^https?$/i,Yi=["POST","PUT"];function Ki(t){return"content-type"==t.toLowerCase()}function Wi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Xi(t),Qi(t)}function Xi(t){t.u||(t.u=!0,tr(t,"complete"),tr(t,"error"))}function Ji(t){if(t.b&&void 0!==Pe&&(!t.s[1]||4!=to(t)||2!=t.W()))if(t.l&&4==to(t))vr(t.za,0,t);else if(tr(t,"readystatechange"),4==to(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ai)[1]||null;if(!o&&Me.self&&Me.self.location){var s=Me.self.location.protocol;o=s.substr(0,s.length-1)}i=!Gi.test(o?o.toLowerCase():"")}e=i}if(e)tr(t,"complete"),tr(t,"success");else{t.h=6;try{var a=2<to(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Xi(t)}}finally{Qi(t)}}}function Qi(t,e){if(t.a){Zi(t);var n=t.a,r=t.s[0]?Re:null;t.a=null,t.s=null,e||tr(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Zi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Me.clearTimeout(t.m),t.m=null)}function to(t){return t.a?t.a.readyState:0}function eo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return on(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pi(t,e,n))}function no(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ro(t){this.pa=0,this.g=[],this.c=new Er,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=no("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=no("baseRetryDelayMs",5e3,t),this.Ra=no("retryDelaySeedMs",1e4,t),this.Ma=no("forwardChannelMaxRetries",2,t),this.ma=no("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Oi(t&&t.concurrentRequestLimit),this.ka=new Ui,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function io(t){if(so(t),3==t.v){var e=t.R++,n=ci(t.B);pi(n,"SID",t.J),pi(n,"RID",e),pi(n,"TYPE","terminate"),lo(t,n),(e=new zr(t,t.c,e,void 0)).H=2,e.i=vi(ci(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon&&(n=Me.navigator.sendBeacon(e.i.toString(),"")),!n&&Me.Image&&((new Image).src=e.i,n=!0),n||(e.a=To(e.g,null),e.a.ba(e.i)),e.u=Be(),Jr(e)}Io(t)}function oo(t){t.a&&(vo(t),t.a.cancel(),t.a=null)}function so(t){oo(t),t.j&&(Me.clearTimeout(t.j),t.j=null),go(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Me.clearTimeout(t.h),t.h=null)}function ao(t,e){t.g.push(new Di(t.Oa++,e)),3==t.v&&uo(t)}function uo(t){Pi(t.b)||t.h||(t.h=!0,cr(t.Ba,t),t.u=0)}function co(t,e){var n;n=e?e.f:t.R++;var r=ci(t.B);pi(r,"SID",t.J),pi(r,"RID",n),pi(r,"AID",t.P),lo(t,r),t.i&&t.l&&eo(r,t.i,t.l),n=new zr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ho(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Li(t.b,n),Yr(n,r,e)}function lo(t,e){t.f&&ri({},(function(t,n){pi(e,n,t)}))}function ho(t,e,n){n=Math.min(t.g.length,n);var r=t.f?qe(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{$i(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fo(t){t.a||t.j||(t.T=1,cr(t.Aa,t),t.o=0)}function po(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Cr(qe(t.Aa,t),bo(t,t.o)),t.o++,!0)}function vo(t){null!=t.s&&(Me.clearTimeout(t.s),t.s=null)}function mo(t){t.a=new zr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ci(t.la);pi(e,"RID","rpc"),pi(e,"SID",t.J),pi(e,"CI",t.H?"0":"1"),pi(e,"AID",t.P),lo(t,e),pi(e,"TYPE","xmlhttp"),t.i&&t.l&&eo(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=vi(ci(e)),n.j=null,n.I=!0,Kr(n,t)}function go(t){null!=t.m&&(Me.clearTimeout(t.m),t.m=null)}function yo(t,e){var n=null;if(t.a==e){go(t),vo(t),t.a=null;var r=2}else{if(!Ri(t.b,e))return;n=e.s,ji(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Be()-e.u;var i=t.u;tr(r=kr(),new Or(r,n,e,i)),uo(t)}else fo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Mi(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Cr(qe(t.Ba,t,e),bo(t,t.u)),t.u++,0)))}(t,e)||2==r&&po(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}function bo(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function wo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=qe(t.Ya,t);n||(n=new ui("//www.google.com/images/cleardot.gif"),Me.location&&"http"==Me.location.protocol||li(n,"https"),vi(n)),function(t,e){var n=new Er;if(Me.Image){var r=new Image;r.onload=ze(qi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ze(qi,n,r,"TestLoadImage: error",!1,e),r.onabort=ze(qi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ze(qi,n,r,"TestLoadImage: timeout",!1,e),Me.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Dr(2);t.v=0,t.f&&t.f.ra(e),Io(t),so(t)}function Io(t){t.v=0,t.I=-1,t.f&&(0==Vi(t.b).length&&0==t.g.length||(t.b.c.length=0,Xe(t.g),t.g.length=0),t.f.qa())}function Eo(t,e,n){var r=function(t){return t instanceof ui?ci(t):new ui(t,void 0)}(n);if(""!=r.c)e&&hi(r,e+"."+r.c),fi(r,r.h);else{var i=Me.location;r=function(t,e,n,r){var i=new ui(null,void 0);return t&&li(i,t),e&&hi(i,e),n&&fi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&on(t.V,(function(t,e){pi(r,e,t)})),e=t.A,n=t.na,e&&n&&pi(r,e,n),pi(r,"VER",t.ha),lo(t,r),r}function To(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bi(t.Na)).F=t.C,e}function _o(){}function xo(){if(dn&&!(10<=Number(kn)))throw Error("Environmental error: no available transport.")}function ko(t,e){Zn.call(this),this.a=new ro(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Je(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Je(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new No(this)}function So(t){Ur.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ao(){$r.call(this),this.status=1}function No(t){this.a=t}(Oe=Bi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Lr(this.H):Lr(Vr),this.a.onreadystatechange=qe(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Wi(this,t)}t=n||"";var i=new ii(this.headers);r&&ri(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ki,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Me.FormData&&t instanceof Me.FormData,!(0<=Ye(Yi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Zi(this),0<this.o&&((this.D=function(t){return dn&&_n(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=qe(this.xa,this)):this.m=vr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Wi(this,t)}},Oe.xa=function(){void 0!==Pe&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,tr(this,"timeout"),this.abort(8))},Oe.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,tr(this,"complete"),tr(this,"abort"),Qi(this))},Oe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qi(this,!0)),Bi.X.G.call(this)},Oe.za=function(){this.j||(this.A||this.l||this.g?Ji(this):this.Ua())},Oe.Ua=function(){Ji(this)},Oe.W=function(){try{return 2<to(this)?this.a.status:-1}catch(t){return-1}},Oe.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Oe.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),zi(e)}},Oe.ua=function(){return this.h},Oe.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Oe=ro.prototype).ha=8,Oe.v=1,Oe.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new zr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?un(r=sn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ho(this,n,e),pi(i=ci(this.B),"RID",t),pi(i,"CVER",22),this.A&&pi(i,"X-HTTP-Session-Id",this.A),lo(this,i),this.i&&r&&eo(i,this.i,r),Li(this.b,n),this.Ia&&pi(i,"TYPE","init"),this.da?(pi(i,"$req",e),pi(i,"SID","null"),n.U=!0,Yr(n,i,null)):Yr(n,i,e),this.v=2}}else 3==this.v&&(t?co(this,t):0==this.g.length||Pi(this.b)||co(this))},Oe.Aa=function(){if(this.j=null,mo(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Cr(qe(this.Ta,this),t)}},Oe.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Dr(10),oo(this),mo(this))},Oe.Sa=function(){null!=this.m&&(this.m=null,oo(this),po(this),Dr(19))},Oe.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Dr(2)):(this.c.info("Failed to ping google.com"),Dr(1))},(Oe=_o.prototype).ta=function(){},Oe.sa=function(){},Oe.ra=function(){},Oe.qa=function(){},Oe.Ja=function(){},xo.prototype.a=function(t,e){return new ko(t,e)},He(ko,Zn),ko.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Dr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Eo(t,null,t.fa),uo(t)},ko.prototype.close=function(){io(this.a)},ko.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ao(this.a,e)}else this.l?((e={}).__data__=nr(t),ao(this.a,e)):ao(this.a,t)},ko.prototype.G=function(){this.a.f=null,delete this.f,io(this.a),delete this.a,ko.X.G.call(this)},He(So,Ur),He(Ao,$r),He(No,_o),No.prototype.ta=function(){tr(this.a,"a")},No.prototype.sa=function(t){tr(this.a,new So(t))},No.prototype.ra=function(t){tr(this.a,new Ao(t))},No.prototype.qa=function(){tr(this.a,"b")},xo.prototype.createWebChannel=xo.prototype.a,ko.prototype.send=ko.prototype.h,ko.prototype.open=ko.prototype.g,ko.prototype.close=ko.prototype.close,Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Mr.COMPLETE="complete",jr.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",Zn.prototype.listen=Zn.prototype.va,Bi.prototype.listenOnce=Bi.prototype.wa,Bi.prototype.getLastError=Bi.prototype.Qa,Bi.prototype.getLastErrorCode=Bi.prototype.ua,Bi.prototype.getStatus=Bi.prototype.W,Bi.prototype.getResponseJson=Bi.prototype.Pa,Bi.prototype.getResponseText=Bi.prototype.$,Bi.prototype.send=Bi.prototype.ba;var Do=Pr,Oo=Mr,Co=_r,Po=10,Mo=11,Ro=jr,Lo=Bi,jo=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Vo=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fo=new de("@firebase/firestore");function Uo(){return Fo.logLevel}function $o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fo.logLevel<=se.DEBUG){var r=e.map(Bo);Fo.debug.apply(Fo,$t(["Firestore (8.2.7): "+t],r))}}function qo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fo.logLevel<=se.ERROR){var r=e.map(Bo);Fo.error.apply(Fo,$t(["Firestore (8.2.7): "+t],r))}}function zo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fo.logLevel<=se.WARN){var r=e.map(Bo);Fo.warn.apply(Fo,$t(["Firestore (8.2.7): "+t],r))}}function Bo(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ho(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+t;throw qo(e),new Error(e)}function Go(t,e){t||Ho()}function Yo(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ko(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wo=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ko(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Xo(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Qo(t){return t+"\0"}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zo=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.h,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Xo(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Zo.T=new Zo("");var ts={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},es=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Mt(e,t),e}(Error),ns=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Zo.fromBase64String(e))}catch(e){throw new es(ts.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Zo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),rs=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();rs.UNAUTHENTICATED=new rs(null),rs.R=new rs("google-credentials-uid"),rs.P=new rs("first-party-uid");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var is=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},os=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(rs.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),ss=function(){function t(t){var e=this;this.D=null,this.currentUser=rs.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?($o("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Go("string"==typeof n.accessToken),new is(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Go(null===t||"string"==typeof t),new rs(t)},t}(),as=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=rs.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),us=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new as(this.F,this.O))},t.prototype.v=function(t){t(rs.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),cs=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();cs.q=-1;var ls=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new es(ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new es(ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new es(ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new es(ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Xo(this.nanoseconds,t.nanoseconds):Xo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),hs=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new ls(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),fs=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ho(),void 0===n?n=t.length-e:n>t.length-e&&Ho(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new es(ts.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(fs),ps=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return ps.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new es(ts.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new es(ts.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new es(ts.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new es(ts.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(fs),ms=function(){function t(t){this.path=t}return t._t=function(e){return new t(ds.ot(e))},t.ft=function(e){return new t(ds.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ds.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return ds.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new ds(e.slice()))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gs(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ws=function(){function t(t){this.fields=t,t.sort(vs.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Jo(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Is=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Es(t){if(Go(!!t),"string"==typeof t){var e=0,n=Is.exec(t);if(Go(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ts(t.seconds),nanos:Ts(t.nanos)}}function Ts(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _s(t){return"string"==typeof t?Zo.fromBase64String(t):Zo.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ks(t){var e=t.mapValue.fields.__previous_value__;return xs(e)?ks(e):e}function Ss(t){var e=Es(t.mapValue.fields.__local_write_time__.timestampValue);return new ls(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function As(t){return null==t}function Ns(t){return 0===t&&1/t==-1/0}function Ds(t){return"number"==typeof t&&Number.isInteger(t)&&!Ns(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xs(t)?4:10:Ho()}function Cs(t,e){var n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ss(t).isEqual(Ss(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Es(t.timestampValue),r=Es(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return _s(t.bytesValue).isEqual(_s(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ts(t.geoPointValue.latitude)===Ts(e.geoPointValue.latitude)&&Ts(t.geoPointValue.longitude)===Ts(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ts(t.integerValue)===Ts(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ts(t.doubleValue),r=Ts(e.doubleValue);return n===r?Ns(n)===Ns(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(gs(n)!==gs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cs(n[i],r[i])))return!1;return!0}(t,e);default:return Ho()}}function Ps(t,e){return void 0!==(t.values||[]).find((function(t){return Cs(t,e)}))}function Ms(t,e){var n=Os(t),r=Os(e);if(n!==r)return Xo(n,r);switch(n){case 0:return 0;case 1:return Xo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ts(t.integerValue||t.doubleValue),r=Ts(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rs(t.timestampValue,e.timestampValue);case 4:return Rs(Ss(t),Ss(e));case 5:return Xo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=_s(t),r=_s(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Xo(n[i],r[i]);if(0!==o)return o}return Xo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Xo(Ts(t.latitude),Ts(e.latitude));return 0!==n?n:Xo(Ts(t.longitude),Ts(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ms(n[i],r[i]);if(o)return o}return Xo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Xo(r[s],o[s]);if(0!==a)return a;var u=Ms(n[r[s]],i[o[s]]);if(0!==u)return u}return Xo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ho()}}function Rs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Xo(t,e);var n=Es(t),r=Es(e),i=Xo(n.seconds,r.seconds);return 0!==i?i:Xo(n.nanos,r.nanos)}function Ls(t){return js(t)}function js(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Es(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_s(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ms.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=js(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+js(t.fields[o])}return e+"}"}(t.mapValue):Ho();var e,n}function Vs(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Fs(t){return!!t&&"integerValue"in t}function Us(t){return!!t&&"arrayValue"in t}function $s(t){return!!t&&"nullValue"in t}function qs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zs(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bs=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zs(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Cs(this.proto,t.proto)},t}(),Hs=function(){function t(t){void 0===t&&(t=Bs.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Os(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(vs.ct(),this.At);return null!=t?new Bs(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=zs(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Gs(t){var e=[];return ys(t.fields||{},(function(t,n){var r=new vs([t]);if(zs(n)){var i=Gs(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new ws(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Ys=function(t,e){this.key=t,this.version=e},Ks=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Mt(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ys),Ws=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Mt(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ys),Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ys),Js=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Qs(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Js(t,e,n,r,i,o,s)}function Zs(t){var e=Yo(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+Ls(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),As(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=fa(e.startAt)),e.endAt&&(n+="|ub:",n+=fa(e.endAt)),e.vt=n}return e.vt}function ta(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pa(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Cs(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ma(t.startAt,e.startAt)&&ma(t.endAt,e.endAt)}function ea(t){return ms.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var na=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Mt(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new ra(t,n,r):"array-contains"===n?new aa(t,r):"in"===n?new ua(t,r):"not-in"===n?new ca(t,r):"array-contains-any"===n?new la(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new ia(t,n):new oa(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Ms(e,this.value)):null!==e&&Os(this.value)===Os(e)&&this.Dt(Ms(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ho()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ra=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ms.ft(r.referenceValue),i}return Mt(e,t),e.prototype.matches=function(t){var e=ms.H(t.key,this.key);return this.Dt(e)},e}(na),ia=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=sa("in",n),r}return Mt(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(na),oa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=sa("not-in",n),r}return Mt(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(na);function sa(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ms.ft(t.referenceValue)}))}var aa=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Mt(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Us(e)&&Ps(e.arrayValue,this.value)},e}(na),ua=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Mt(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ps(this.value.arrayValue,e)},e}(na),ca=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Mt(e,t),e.prototype.matches=function(t){if(Ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ps(this.value.arrayValue,e)},e}(na),la=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Mt(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Us(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ps(e.value.arrayValue,t)}))},e}(na),ha=function(t,e){this.position=t,this.before=e};function fa(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ls(t)})).join(",")}var da=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pa(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function va(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?ms.H(ms.ft(s.referenceValue),n.key):Ms(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ma(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ga=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null,this.startAt,this.endAt};function ya(t,e,n,r,i,o,s,a){return new ga(t,e,n,r,i,o,s,a)}function ba(t){return new ga(t)}function wa(t){return!As(t.limit)&&"F"===t.limitType}function Ia(t){return!As(t.limit)&&"L"===t.limitType}function Ea(t){return t.xt.length>0?t.xt[0].field:null}function Ta(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function _a(t){return null!==t.collectionGroup}function xa(t){var e=Yo(t);if(null===e.Nt){e.Nt=[];var n=Ta(e),r=Ea(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new da(n)),e.Nt.push(new da(vs.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new da(vs.ht(),u))}}}return e.Nt}function ka(t){var e=Yo(t);if(!e.$t)if("F"===e.limitType)e.$t=Qs(e.path,e.collectionGroup,xa(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=xa(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new da(o.field,s))}var a=e.endAt?new ha(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ha(e.startAt.position,!e.startAt.before):null;e.$t=Qs(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.$t}function Sa(t,e,n){return new ga(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Aa(t,e){return ta(ka(t),ka(e))&&t.limitType===e.limitType}function Na(t){return Zs(ka(t))+"|lt:"+t.limitType}function Da(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+Ls(e.value);var e})).join(", ")+"]"),As(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fa(t.startAt)),t.endAt&&(e+=", endAt: "+fa(t.endAt)),"Target("+e+")"}(ka(t))+"; limitType="+t.limitType+")"}function Oa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):ms.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!va(t.startAt,xa(t),e)||t.endAt&&va(t.endAt,xa(t),e))}(t,e)}function Ca(t){return function(e,n){for(var r=!1,i=0,o=xa(t);i<o.length;i++){var s=o[i],a=Pa(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function Pa(t,e,n){var r=t.field.ut()?ms.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ms(r,i):Ho()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ho()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ma=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=hs.min()),void 0===o&&(o=hs.min()),void 0===s&&(s=Zo.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ra(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ns(e)?"-0":e}}function La(t){return{integerValue:""+t}}function ja(t,e){return Ds(e)?La(e):Ra(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Va=function(){this.qt=void 0};function Fa(t,e,n){return t instanceof qa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof za?Ba(t,e):t instanceof Ha?Ga(t,e):function(t,e){var n=$a(t,e),r=Ka(n)+Ka(t.Ut);return Fs(n)&&Fs(t.Ut)?La(r):Ra(t.Qt,r)}(t,e)}function Ua(t,e,n){return t instanceof za?Ba(t,e):t instanceof Ha?Ga(t,e):n}function $a(t,e){return t instanceof Ya?Fs(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e}(Va),za=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Mt(e,t),e}(Va);function Ba(t,e){for(var n=Wa(e),r=function(t){n.some((function(e){return Cs(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ha=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Mt(e,t),e}(Va);function Ga(t,e){for(var n=Wa(e),r=function(t){n=n.filter((function(e){return!Cs(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ya=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Mt(e,t),e}(Va);function Ka(t){return Ts(t.integerValue||t.doubleValue)}function Wa(t){return Us(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xa=function(t,e){this.field=t,this.transform=e},Ja=function(t,e){this.version=t,this.transformResults=e},Qa=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Za(t,e){return void 0!==t.updateTime?e instanceof Ks&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ks}var tu=function(){};function eu(t,e,n){return t instanceof su?function(t,e,n){var r=t.value;if(n.transformResults){var i=cu(t.fieldTransforms,e,n.transformResults);r=hu(t.fieldTransforms,r,i)}return new Ks(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof au?function(t,e,n){if(!Za(t.jt,e))return new Xs(t.key,n.version);var r=uu(t,e,n.transformResults?cu(t.fieldTransforms,e,n.transformResults):[]);return new Ks(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ws(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function nu(t,e,n){return t instanceof su?function(t,e,n){if(!Za(t.jt,e))return e;var r=t.value,i=lu(t.fieldTransforms,n,e);r=hu(t.fieldTransforms,r,i);var o=ou(e);return new Ks(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof au?function(t,e,n){if(!Za(t.jt,e))return e;var r=ou(e),i=uu(t,e,lu(t.fieldTransforms,n,e));return new Ks(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Za(t.jt,e)?new Ws(t.key,hs.min()):e}(t,e)}function ru(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Ks?e.field(o.field):void 0,a=$a(o.transform,s||null);null!=a&&(n=null==n?(new Hs).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function iu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Jo(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof za&&e instanceof za||t instanceof Ha&&e instanceof Ha?Jo(t.elements,e.elements,Cs):t instanceof Ya&&e instanceof Ya?Cs(t.Ut,e.Ut):t instanceof qa&&e instanceof qa}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function ou(t){return t instanceof Ks?t.version:hs.min()}var su=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Mt(e,t),e}(tu),au=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Mt(e,t),e}(tu);function uu(t,e,n){var r;return r=function(t,e){var n=new Hs(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof Ks?e.data():Bs.empty()),hu(t.fieldTransforms,r,n)}function cu(t,e,n){var r=[];Go(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Ks&&(a=e.field(o.field)),r.push(Ua(s,a,n[i]))}return r}function lu(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof Ks&&(u=n.field(s.field)),r.push(Fa(a,u,e))}return r}function hu(t,e,n){for(var r=new Hs(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var fu,du,pu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Mt(e,t),e}(tu),vu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Mt(e,t),e}(tu),mu=function(t){this.count=t};function gu(t){switch(t){case ts.OK:return Ho();case ts.CANCELLED:case ts.UNKNOWN:case ts.DEADLINE_EXCEEDED:case ts.RESOURCE_EXHAUSTED:case ts.INTERNAL:case ts.UNAVAILABLE:case ts.UNAUTHENTICATED:return!1;case ts.INVALID_ARGUMENT:case ts.NOT_FOUND:case ts.ALREADY_EXISTS:case ts.PERMISSION_DENIED:case ts.FAILED_PRECONDITION:case ts.ABORTED:case ts.OUT_OF_RANGE:case ts.UNIMPLEMENTED:case ts.DATA_LOSS:return!0;default:return Ho()}}function yu(t){if(void 0===t)return qo("GRPC error has no .code"),ts.UNKNOWN;switch(t){case fu.OK:return ts.OK;case fu.CANCELLED:return ts.CANCELLED;case fu.UNKNOWN:return ts.UNKNOWN;case fu.DEADLINE_EXCEEDED:return ts.DEADLINE_EXCEEDED;case fu.RESOURCE_EXHAUSTED:return ts.RESOURCE_EXHAUSTED;case fu.INTERNAL:return ts.INTERNAL;case fu.UNAVAILABLE:return ts.UNAVAILABLE;case fu.UNAUTHENTICATED:return ts.UNAUTHENTICATED;case fu.INVALID_ARGUMENT:return ts.INVALID_ARGUMENT;case fu.NOT_FOUND:return ts.NOT_FOUND;case fu.ALREADY_EXISTS:return ts.ALREADY_EXISTS;case fu.PERMISSION_DENIED:return ts.PERMISSION_DENIED;case fu.FAILED_PRECONDITION:return ts.FAILED_PRECONDITION;case fu.ABORTED:return ts.ABORTED;case fu.OUT_OF_RANGE:return ts.OUT_OF_RANGE;case fu.UNIMPLEMENTED:return ts.UNIMPLEMENTED;case fu.DATA_LOSS:return ts.DATA_LOSS;default:return Ho()}}(du=fu||(fu={}))[du.OK=0]="OK",du[du.CANCELLED=1]="CANCELLED",du[du.UNKNOWN=2]="UNKNOWN",du[du.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",du[du.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",du[du.NOT_FOUND=5]="NOT_FOUND",du[du.ALREADY_EXISTS=6]="ALREADY_EXISTS",du[du.PERMISSION_DENIED=7]="PERMISSION_DENIED",du[du.UNAUTHENTICATED=16]="UNAUTHENTICATED",du[du.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",du[du.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",du[du.ABORTED=10]="ABORTED",du[du.OUT_OF_RANGE=11]="OUT_OF_RANGE",du[du.UNIMPLEMENTED=12]="UNIMPLEMENTED",du[du.INTERNAL=13]="INTERNAL",du[du.UNAVAILABLE=14]="UNAVAILABLE",du[du.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var bu=function(){function t(t,e){this.H=t,this.root=e||Iu.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Iu.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Iu.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new wu(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new wu(this.root,t,this.H,!1)},t.prototype.ne=function(){return new wu(this.root,null,this.H,!0)},t.prototype.se=function(t){return new wu(this.root,t,this.H,!0)},t}(),wu=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Iu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Ho();if(this.right.le())throw Ho();var t=this.left.Ie();if(t!==this.right.Ie())throw Ho();return t+(this.le()?0:1)},t}();Iu.EMPTY=null,Iu.RED=!0,Iu.Ht=!1,Iu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Iu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Eu=function(){function t(t){this.H=t,this.data=new bu(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Tu(this.data.te())},t.prototype.ee=function(t){return new Tu(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Tu=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),_u=new bu(ms.H);function xu(){return _u}function ku(){return xu()}var Su=new bu(ms.H);function Au(){return Su}var Nu=new bu(ms.H);var Du=new Eu(ms.H);function Ou(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Du,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cu=new Eu(Xo);function Pu(){return Cu}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Mu=function(){function t(t){this.H=t?function(e,n){return t(e,n)||ms.H(e.key,n.key)}:function(t,e){return ms.H(t.key,e.key)},this.ge=Au(),this.Ve=new bu(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Ru=function(){function t(){this.be=new bu(ms.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Ho():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),Lu=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Mu.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Aa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ju=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Vu.Le(e,n)),new t(hs.min(),r,Pu(),xu(),Ou())},t}(),Vu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Zo.T,n,Ou(),Ou(),Ou())},t}(),Fu=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Uu=function(t,e){this.targetId=t,this.je=e},$u=function(t,e,n,r){void 0===n&&(n=Zo.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},qu=function(){function t(){this.Ge=0,this.ze=Hu(),this.He=Zo.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Ou(),e=Ou(),n=Ou();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ho()}})),new Vu(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Hu()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),zu=function(){function t(t){this.un=t,this.hn=new Map,this.ln=xu(),this._n=Bu(),this.fn=new Eu(Xo)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Ks?this.wn(r,t.We):t.We instanceof Ws&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Ho()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(ea(i))if(0===n){var o=new ms(i.path);this.En(e,o,new Ws(o,hs.min()))}else Go(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&ea(o.target)){var s=new ms(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Ws(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=Ou();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ju(t,n,this.fn,this.ln,r);return this.ln=xu(),this._n=Bu(),this.fn=new Eu(Xo),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new qu,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Eu(Xo),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||$o("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new qu),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bu(){return new bu(ms.H)}function Hu(){return new bu(ms.H)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gu={asc:"ASCENDING",desc:"DESCENDING"},Yu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ku=function(t,e){this.t=t,this.Bt=e};function Wu(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xu(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Ju(t,e){return Wu(t,e.j())}function Qu(t){return Go(!!t),hs.K(function(t){var e=Es(t);return new ls(e.seconds,e.nanos)}(t))}function Zu(t,e){return function(t){return new ds(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function tc(t){var e=ds.ot(t);return Go(Tc(e)),e}function ec(t,e){return Zu(t.t,e.path)}function nc(t,e){var n=tc(e);if(n.get(1)!==t.t.projectId)throw new es(ts.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new es(ts.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ms(sc(n))}function rc(t,e){return Zu(t.t,e)}function ic(t){var e=tc(t);return 4===e.length?ds.ct():sc(e)}function oc(t){return new ds(["projects",t.t.projectId,"databases",t.t.database]).rt()}function sc(t){return Go(t.length>4&&"documents"===t.get(4)),t.Y(5)}function ac(t,e,n){return{name:ec(t,e),fields:n.proto.mapValue.fields}}function uc(t,e){var n;if(e instanceof su)n={update:ac(t,e.key,e.value)};else if(e instanceof pu)n={delete:ec(t,e.key)};else if(e instanceof au)n={update:ac(t,e.key,e.data),updateMask:Ec(e.Gt)};else{if(!(e instanceof vu))return Ho();n={verify:ec(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof qa)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof za)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Ha)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Ya)return{fieldPath:e.field.rt(),increment:n.Ut};throw Ho()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ju(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ho()}(t,e.jt)),n}function cc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Qa.updateTime(Qu(t.updateTime)):void 0!==t.exists?Qa.exists(t.exists):Qa.Kt()}(e.currentDocument):Qa.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Go("REQUEST_TIME"===e.setToServerValue),n=new qa;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new za(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Ha(i)}else"increment"in e?n=new Ya(t,e.increment):Ho();var o=vs.lt(e.fieldPath);return new Xa(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=nc(t,e.update.name),o=new Bs({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new ws(e.map((function(t){return vs.lt(t)})))}(e.updateMask);return new au(i,o,s,n,r)}return new su(i,o,n,r)}if(e.delete){var a=nc(t,e.delete);return new pu(a,n)}if(e.verify){var u=nc(t,e.verify);return new vu(u,n)}return Ho()}function lc(t,e){return{documents:[rc(t,e.path)]}}function hc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rc(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(qs(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NAN"}};if($s(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qs(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NAN"}};if($s(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(t.field),op:gc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:yc(t.field),direction:mc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||As(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=pc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pc(e.endAt)),n}function fc(t){var e=ic(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Go(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=dc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new da(bc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return As(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=vc(n.startAt));var l=null;return n.endAt&&(l=vc(n.endAt)),ya(e,i,a,s,u,"F",c,l)}function dc(t){return t?void 0!==t.unaryFilter?[Ic(t)]:void 0!==t.fieldFilter?[wc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return dc(t)})).reduce((function(t,e){return t.concat(e)})):Ho():[]}function pc(t){return{before:t.before,values:t.position}}function vc(t){var e=!!t.before,n=t.values||[];return new ha(n,e)}function mc(t){return Gu[t]}function gc(t){return Yu[t]}function yc(t){return{fieldPath:t.rt()}}function bc(t){return vs.lt(t.fieldPath)}function wc(t){return na.create(bc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ho()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ic(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bc(t.unaryFilter.field);return na.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bc(t.unaryFilter.field);return na.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bc(t.unaryFilter.field);return na.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bc(t.unaryFilter.field);return na.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ho()}}function Ec(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function Tc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _c=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},xc=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Ho(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),kc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new _c,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Nc(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Mc(e.target.error);n.Bn.reject(new Nc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Nc(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||($o("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Oc(e)},t}(),Sc=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Bt())&&qo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return $o("SimpleDb","Removing database:",t),Cc(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Bt(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Lt(this,void 0,void 0,(function(){var e,n=this;return jt(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:($o("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Nc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new es(ts.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Nc(t,n))},i.onupgradeneeded=function(t){$o("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next((function(){$o("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Lt(this,void 0,void 0,(function(){var i,o,s,a,u;return jt(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return jt(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=kc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),xc.reject(t)})).On(),u={},s.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,$o("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ac=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Cc(this.Zn.delete())},t}(),Nc=function(t){function e(e,n){var r=this;return(r=t.call(this,ts.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Mt(e,t),e}(es);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Dc(t){return"IndexedDbTransactionError"===t.name}var Oc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?($o("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):($o("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Cc(n)},t.prototype.add=function(t){return $o("SimpleDb","ADD",this.store.name,t,t),Cc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Cc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),$o("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return $o("SimpleDb","DELETE",this.store.name,t),Cc(this.store.delete(t))},t.prototype.count=function(){return $o("SimpleDb","COUNT",this.store.name),Cc(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){$o("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new xc((function(n,r){e.onerror=function(t){var e=Mc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new xc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ac(i),s=e(i.primaryKey,i.value,o);if(s instanceof xc){var a=s.catch((function(t){return o.done(),xc.reject(t)}));n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return xc.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Cc(t){return new xc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Mc(t.target.error);n(e)}}))}var Pc=!1;function Mc(t){var e=Sc.Qn(Bt());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new es("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pc||(Pc=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rc=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new _c,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new es(ts.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Lc(t,e){if(qo("AsyncQueue",e+": "+t),Dc(t))return new es(ts.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var jc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vc=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Fc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=$c(e)),e=Uc(t.get(n),e);return $c(e)}function Uc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function $c(t){return t+""}function qc(t){var e=t.length;if(Go(e>=2),2===e)return Go(""===t.charAt(0)&&""===t.charAt(1)),ds.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Ho(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Ho()}o=s+2}return new ds(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zc=function(t,e){this.seconds=t,this.nanoseconds=e},Bc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Bc.store="owner",Bc.key="owner";var Hc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Hc.store="mutationQueues",Hc.keyPath="userId";var Gc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Gc.store="mutations",Gc.keyPath="batchId",Gc.userMutationsIndex="userMutationsIndex",Gc.userMutationsKeyPath=["userId","batchId"];var Yc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Fc(e)]},t.key=function(t,e,n){return[t,Fc(e),n]},t}();Yc.store="documentMutations",Yc.PLACEHOLDER=new Yc;var Kc=function(t,e){this.path=t,this.readTime=e},Wc=function(t,e){this.path=t,this.version=e},Xc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xc.store="remoteDocuments",Xc.readTimeIndex="readTimeIndex",Xc.readTimeIndexPath="readTime",Xc.collectionReadTimeIndex="collectionReadTimeIndex",Xc.collectionReadTimeIndexPath=["parentPath","readTime"];var Jc=function(t){this.byteSize=t};Jc.store="remoteDocumentGlobal",Jc.key="remoteDocumentGlobalKey";var Qc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Qc.store="targets",Qc.keyPath="targetId",Qc.queryTargetsIndexName="queryTargetsIndex",Qc.queryTargetsKeyPath=["canonicalId","targetId"];var Zc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Zc.store="targetDocuments",Zc.keyPath=["targetId","path"],Zc.documentTargetsIndex="documentTargetsIndex",Zc.documentTargetsKeyPath=["path","targetId"];var tl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};tl.key="targetGlobalKey",tl.store="targetGlobal";var el=function(t,e){this.collectionId=t,this.parent=e};el.store="collectionParents",el.keyPath=["collectionId","parent"];var nl=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};nl.store="clientMetadata",nl.keyPath="clientId";var rl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};rl.store="bundles",rl.keyPath="bundleId";var il=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};il.store="namedQueries",il.keyPath="name";var ol=$t($t($t($t([Hc.store,Gc.store,Yc.store,Xc.store,Qc.store,Bc.store,tl.store,Zc.store],[nl.store]),[Jc.store]),[el.store]),[rl.store,il.store]),sl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Mt(e,t),e}(Vc);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function al(t,e){var n=Yo(t);return Sc.zn(n.ps,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ul=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=eu(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=nu(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=nu(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ou())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Jo(this.mutations,t.mutations,(function(t,e){return iu(t,e)}))&&Jo(this.baseMutations,t.baseMutations,(function(t,e){return iu(t,e)}))},t}(),cl=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Go(e.mutations.length===r.length);for(var i=Nu,o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ll=function(t){this.Fs=t};function hl(t,e){if(e.document)return function(t,e,n){var r=nc(t,e.name),i=Qu(e.updateTime),o=new Bs({mapValue:{fields:e.fields}});return new Ks(r,i,o,{hasCommittedMutations:!!n})}(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ms.Et(e.noDocument.path),r=ml(e.noDocument.readTime);return new Ws(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ms.Et(e.unknownDocument.path);return r=ml(e.unknownDocument.version),new Xs(i,r)}return Ho()}function fl(t,e,n){var r=dl(n),i=e.key.path.X().it();if(e instanceof Ks){var o=function(t,e){return{name:ec(t,e.key),fields:e.bt().mapValue.fields,updateTime:Wu(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Xc(null,null,o,s,r,i)}if(e instanceof Ws){var a=e.key.path.it(),u=vl(e.version);return s=e.hasCommittedMutations,new Xc(null,new Kc(a,u),null,s,r,i)}if(e instanceof Xs){var c=e.key.path.it(),l=vl(e.version);return new Xc(new Wc(c,l),null,null,!0,r,i)}return Ho()}function dl(t){var e=t.j();return[e.seconds,e.nanoseconds]}function pl(t){var e=new ls(t[0],t[1]);return hs.K(e)}function vl(t){var e=t.j();return new zc(e.seconds,e.nanoseconds)}function ml(t){var e=new ls(t.seconds,t.nanoseconds);return hs.K(e)}function gl(t,e){for(var n=(e.baseMutations||[]).map((function(e){return cc(t.Fs,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return cc(t.Fs,e)})),a=ls.fromMillis(e.localWriteTimeMs);return new ul(e.batchId,a,n,s)}function yl(t){var e,n,r=ml(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ml(t.lastLimboFreeSnapshotVersion):hs.min();return void 0!==t.query.documents?(Go(1===(n=t.query).documents.length),e=ka(ba(ic(n.documents[0])))):e=function(t){return ka(fc(t))}(t.query),new Ma(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Zo.fromBase64String(t.resumeToken))}function bl(t,e){var n,r=vl(e.Ot),i=vl(e.lastLimboFreeSnapshotVersion);n=ea(e.target)?lc(t.Fs,e.target):hc(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Qc(e.targetId,Zs(e.target),r,o,e.sequenceNumber,i,n)}function wl(t){var e=fc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Sa(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Il=function(){function t(){}return t.prototype.Os=function(t,e){return El(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:ml(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return El(t).put({bundleId:(n=e).id,createTime:vl(Qu(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Tl(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:wl(e.bundledQuery),readTime:ml(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return Tl(t).put(function(t){return{name:t.name,readTime:vl(Qu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function El(t){return al(t,rl.store)}function Tl(t){return al(t,il.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _l=function(){function t(){this.Bs=new xl}return t.prototype.qs=function(t,e){return this.Bs.add(e),xc.resolve()},t.prototype.Us=function(t,e){return xc.resolve(this.Bs.getEntries(e))},t}(),xl=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Eu(ds.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Eu(ds.H)).it()},t}(),kl=function(){function t(){this.Qs=new xl}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:Fc(i)};return Sl(t).put(o)}return xc.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Qo(e),""],!1,!0);return Sl(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(qc(o.parent))}return n}))},t}();function Sl(t){return al(t,el.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Al={Ks:!1,Ws:0,js:0,Gs:0},Nl=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Dl(t){return Lt(this,void 0,void 0,(function(){return jt(this,(function(e){if(t.code!==ts.FAILED_PRECONDITION||t.message!==jc)throw t;return $o("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Nl.Xs=10,Nl.Zs=1e3,Nl.ti=new Nl(41943040,Nl.Xs,Nl.Zs),Nl.ei=new Nl(-1,0,0);var Ol=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.si(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ys(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.et=function(){return bs(this.ii)},t}(),Cl=function(){function t(){this.ri=new Ol((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:hs.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?xc.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Pl(t,e,n){var r=t.store(Gc.store),i=t.store(Yc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Go(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Yc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return xc.Mn(o).next((function(){return c}))}function Ml(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ho();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rl=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Go(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).hs({index:Gc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=Vl(t),s=jl(t);return s.add({}).next((function(a){Go("number"==typeof a);for(var u=new ul(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return uc(t.Fs,e)})),i=n.mutations.map((function(e){return uc(t.Fs,e)}));return new Gc(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new Eu((function(t,e){return Xo(t.rt(),e.rt())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Yc.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(v,Yc.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[a]=u.keys()})),xc.Mn(l).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return jl(t).get(e).next((function(t){return t?(Go(t.userId===n.userId),gl(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?xc.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jl(t).hs({index:Gc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Go(e.batchId>=r),o=gl(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jl(t).hs({index:Gc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).rs(Gc.userMutationsIndex,n).next((function(t){return t.map((function(t){return gl(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=Yc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Vl(t).hs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=qc(u);if(a===n.userId&&e.path.isEqual(l))return jl(t).get(c).next((function(t){if(!t)throw Ho();Go(t.userId===n.userId),o.push(gl(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new Eu(Xo),i=[];return e.forEach((function(e){var o=Yc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Vl(t).hs({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=qc(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),xc.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Yc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Eu(Xo);return Vl(t).hs({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=qc(u);s===n.userId&&r.nt(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Si(t,a)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(jl(t).get(e).next((function(t){if(null===t)throw Ho();Go(t.userId===n.userId),r.push(gl(n.Qt,t))})))})),xc.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return Pl(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),xc.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return xc.resolve();var r=IDBKeyRange.lowerBound(Yc.prefixForUser(e.userId)),i=[];return Vl(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=qc(t[1]);i.push(o)}else r.done()})).next((function(){Go(0===i.length)}))}))},t.prototype.Fi=function(t,e){return Ll(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Fl(t).get(this.userId).next((function(t){return t||new Hc(e.userId,-1,"")}))},t}();function Ll(t,e,n){var r=Yc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Vl(t).hs({range:o,us:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function jl(t){return al(t,Gc.store)}function Vl(t){return al(t,Yc.store)}function Fl(t){return al(t,Hc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ul=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),$l=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new Ul(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return hs.K(new ls(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return ql(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return Go(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return ql(t).hs((function(s,a){var u=yl(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return xc.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return ql(t).hs((function(t,n){var r=yl(n);e(r)}))},t.prototype.qi=function(t){return zl(t).get(tl.key).next((function(t){return Go(null!==t),t}))},t.prototype.Ui=function(t,e){return zl(t).put(tl.key,e)},t.prototype.Gi=function(t,e){return ql(t).put(bl(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Zs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ql(t).hs({range:r,index:Qc.queryTargetsIndexName},(function(t,n,r){var o=yl(n);ta(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=Bl(t);return e.forEach((function(e){var s=Fc(e.path);i.push(o.put(new Zc(n,s))),i.push(r.Ti.nr(t,n,e))})),xc.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Bl(t);return xc.forEach(e,(function(e){var o=Fc(e.path);return xc.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=Bl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Bl(t),i=Ou();return r.hs({range:n,us:!0},(function(t,e,n){var r=qc(t[1]),o=new ms(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=Fc(e.path),r=IDBKeyRange.bound([n],[Qo(n)],!1,!0),i=0;return Bl(t).hs({index:Zc.documentTargetsIndex,us:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return ql(t).get(e).next((function(t){return t?yl(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ql(t){return al(t,Qc.store)}function zl(t){return al(t,tl.store)}function Bl(t){return al(t,Zc.store)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Hl(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Xo(n,i);return 0===s?Xo(r,o):s}var Gl=function(){function t(t){this.cr=t,this.buffer=new Eu(Hl),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Hl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Yl=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;$o("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return Lt(e,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Dc(e=n.sent())?($o("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Dl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Kl=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return xc.resolve(cs.q);var r=new Gl(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?($o("LruGarbageCollector","Garbage collection skipped; disabled"),xc.resolve(Al)):this.pr(t).next((function(r){return r<n.params.zs?($o("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Al):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?($o("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.gr(t,n)})).next((function(t){return u=Date.now(),Uo()<=se.DEBUG&&$o("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),xc.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),Wl=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Kl(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Xl(t,n)},t.prototype.ir=function(t,e,n){return Xl(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Xl(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Fl(t).ls((function(r){return Ll(t,r,e).next((function(t){return t&&(n=!0),xc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,a){if(a<=e){var u=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),Bl(t).delete([0,Fc(s.path)])}))}));i.push(u)}})).next((function(){return xc.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Xl(t,e)},t.prototype.Dr=function(t,e){var n,r=Bl(t),i=cs.q;return r.hs({index:Zc.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==cs.q&&e(new ms(qc(n)),i),i=a,n=s):i=cs.q})).next((function(){i!==cs.q&&e(new ms(qc(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Xl(t,e){return Bl(t).put(function(t,e){return new Zc(0,Fc(t.path),e)}(e,t.bs))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jl=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return th(t).put(eh(e),n)},t.prototype.li=function(t,e){var n=th(t),r=eh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return th(t).get(eh(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return th(t).get(eh(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:Ml(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ku();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=ku(),i=new bu(ms.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Ml(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return xc.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return th(t).hs({range:r},(function(t,e,r){for(var s=ms.Et(t);o&&ms.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=Au(),o=e.path.length+1,s={};if(n.isEqual(hs.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=dl(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Xc.collectionReadTimeIndex}return th(t).hs(s,(function(t,n,s){if(t.length===o){var a=hl(r.Qt,n);e.path.nt(a.key.path)?a instanceof Ks&&Oa(e,a)&&(i=i.zt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new Ql(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Zl(t).get(Jc.key).next((function(t){return Go(!!t),t}))},t.prototype.kr=function(t,e){return Zl(t).put(Jc.key,e)},t.prototype.Mr=function(t){if(t){var e=hl(this.Qt,t);return e instanceof Ws&&e.version.isEqual(hs.min())?null:e}return null},t}(),Ql=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Ol((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Mt(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Eu((function(t,e){return Xo(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var a=e.Gr.get(o);if(s.hi){var u=fl(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Ml(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=fl(e.jr.Qt,new Ws(o,hs.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),xc.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(Cl);function Zl(t){return al(t,Jc.store)}function th(t){return al(t,Xc.store)}function eh(t){return t.path.it()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nh=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Go(n<r&&n>=0&&r<=11);var o=new kc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Bc.store)}(t),function(t){t.createObjectStore(Hc.store,{keyPath:Hc.keyPath}),t.createObjectStore(Gc.store,{keyPath:Gc.keyPath,autoIncrement:!0}).createIndex(Gc.userMutationsIndex,Gc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Yc.store)}(t),rh(t),function(t){t.createObjectStore(Xc.store)}(t));var s=xc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Zc.store),t.deleteObjectStore(Qc.store),t.deleteObjectStore(tl.store)}(t),rh(t)),s=s.next((function(){return function(t){var e=t.store(tl.store),n=new tl(0,0,hs.min().j(),0);return e.put(tl.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Gc.store).rs().next((function(n){t.deleteObjectStore(Gc.store),t.createObjectStore(Gc.store,{keyPath:Gc.keyPath,autoIncrement:!0}).createIndex(Gc.userMutationsIndex,Gc.userMutationsKeyPath,{unique:!0});var r=e.store(Gc.store),i=n.map((function(t){return r.put(t)}));return xc.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(nl.store,{keyPath:nl.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Jc.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xc.store);e.createIndex(Xc.readTimeIndex,Xc.readTimeIndexPath,{unique:!1}),e.createIndex(Xc.collectionReadTimeIndex,Xc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(rl.store,{keyPath:rl.keyPath})}(t),function(t){t.createObjectStore(il.store,{keyPath:il.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(Xc.store).hs((function(t,n){e+=Ml(n)})).next((function(){var n=new Jc(e);return t.store(Jc.store).put(Jc.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Hc.store),r=t.store(Gc.store);return n.rs().next((function(n){return xc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Gc.userMutationsIndex,i).next((function(r){return xc.forEach(r,(function(r){Go(r.userId===n.userId);var i=gl(e.Qt,r);return Pl(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Zc.store),n=t.store(Xc.store);return t.store(tl.store).get(tl.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new ds(n),s=function(t){return[0,Fc(t)]}(o);r.push(e.get(s).next((function(n){return n?xc.resolve():function(n){return e.put(new Zc(0,Fc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return xc.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(el.store,{keyPath:el.keyPath});var n=e.store(el.store),r=new xl,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Fc(i)})}};return e.store(Xc.store).hs({us:!0},(function(t,e){var n=new ds(t);return i(n.X())})).next((function(){return e.store(Yc.store).hs({us:!0},(function(t,e){t[0];var n=t[1],r=(t[2],qc(n));return i(r.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(Qc.store);return n.hs((function(t,r){var i=yl(r),o=bl(e.Qt,i);return n.put(o)}))},t}();function rh(t){t.createObjectStore(Zc.store,{keyPath:Zc.keyPath}).createIndex(Zc.documentTargetsIndex,Zc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qc.store,{keyPath:Qc.keyPath}).createIndex(Qc.queryTargetsIndexName,Qc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(tl.store)}var ih="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",oh=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new es(ts.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Wl(this,i),this.ho=n+"main",this.Qt=new ll(u),this.lo=new Sc(this.ho,11,new nh(this.Qt)),this._o=new $l(this.Ti,this.Qt),this.Ei=new kl,this.fo=function(t,e){return new Jl(t,e)}(this.Qt,this.Ei),this.wo=new Il,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&qo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new es(ts.FAILED_PRECONDITION,ih);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new cs(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Lt(e,void 0,void 0,(function(){return jt(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return Lt(e,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return Lt(e,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ah(e).put(new nl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(Dc(e))return $o("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return $o("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return sh(t).get(Bc.key).next((function(t){return xc.resolve(e.Do(t))}))},t.prototype.Co=function(t){return ah(t).delete(this.clientId)},t.prototype.xo=function(){return Lt(this,void 0,void 0,(function(){var t,e,n,r,i=this;return jt(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=al(t,nl.store);return e.rs().next((function(t){var n=i.$o(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return xc.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Fo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?xc.resolve(!0):sh(t).get(Bc.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new es(ts.FAILED_PRECONDITION,ih);return!1}}return!(!e.networkEnabled||!e.inForeground)||ah(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&$o("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return Lt(this,void 0,void 0,(function(){var t=this;return jt(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Bc.store,nl.store],(function(e){var n=new sl(e,cs.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ah(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Rl.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;$o("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.lo.runTransaction(t,o,ol,(function(o){return i=new sl(o,r.so?r.so.next():cs.q),"readwrite-primary"===e?r.Vo(i).next((function(t){return!!t||r.bo(i)})).next((function(e){if(!e)throw qo("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Zr.po((function(){return r.uo(!1)})),new es(ts.FAILED_PRECONDITION,jc);return n(i)})).next((function(t){return r.So(i).next((function(){return t}))})):r.jo(i).next((function(){return n(i)}))})).then((function(t){return i.Vs(),t}))},t.prototype.jo=function(t){var e=this;return sh(t).get(Bc.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new es(ts.FAILED_PRECONDITION,ih)}))},t.prototype.So=function(t){var e=new Bc(this.clientId,this.allowTabSynchronization,Date.now());return sh(t).put(Bc.key,e)},t.Kn=function(){return Sc.Kn()},t.prototype.vo=function(t){var e=this,n=sh(t);return n.get(Bc.key).next((function(t){return e.Do(t)?($o("IndexedDbPersistence","Releasing primary lease."),n.delete(Bc.key)):xc.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(qo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return $o("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return qo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){qo("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function sh(t){return al(t,Bc.store)}function ah(t){return al(t,nl.store)}function uh(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var ch=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=ku();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=xu();return i.forEach((function(t,e){e||(e=new Ws(t,hs.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return ms.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):_a(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new ms(e)).next((function(t){var e=Au();return t instanceof Ks&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Au();return this.Ei.Us(t,i).next((function(s){return xc.forEach(s,(function(s){var a=function(t,e){return new ga(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return i=e,o.sc(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=nu(u,r.get(c),o.vs);r=l instanceof Ks?r.zt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Oa(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=Ou(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof au&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Ks&&(c=c.zt(t,e))})),c}))},t}(),lh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Ou(),i=Ou(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),hh=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(hs.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(o){var s=i.hc(e,o);return(wa(e)||Ia(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Uo()<=se.DEBUG&&$o("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Da(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new Eu(Ca(t));return e.forEach((function(e,r){r instanceof Ks&&Oa(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Uo()<=se.DEBUG&&$o("QueryEngine","Using full collection scan to execute query:",Da(e)),this.ac.Kr(t,e,hs.min())},t}(),fh=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new bu(Xo),this.dc=new Ol((function(t){return Zs(t)}),ta),this.wc=hs.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new ch(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function dh(t,e,n,r){return new fh(t,e,n,r)}function ph(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o;return jt(this,(function(s){switch(s.label){case 0:return n=Yo(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new ch(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=Ou(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];s=s.add(y.key)}}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function vh(t,e){var n=Yo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=xc.resolve();return o.forEach((function(t){s=s.next((function(){return r._i(e,t)})).next((function(e){var o=e,s=n.$s.get(t);Go(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),s.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function mh(t){var e=Yo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function gh(t,e){var n=Yo(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Go(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}}));var a=xu();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(function(t,e,n,r,i){var o=Ou();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=xu();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Ws&&s.version.isEqual(hs.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):$o("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.Oe,r,void 0).next((function(t){a=t}))),!r.isEqual(hs.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(u)}return xc.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,a)}))})).then((function(t){return n.fc=i,t}))}function yh(t,e){var n=Yo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function bh(t,e){var n=Yo(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?(r=i,xc.resolve(r)):n._o.Bi(t).next((function(i){return r=new Ma(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function wh(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i,o,s;return jt(this,(function(a){switch(a.label){case 0:r=Yo(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Dc(s=a.sent()))throw s;return $o("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function Ih(t,e,n){var r=Yo(t),i=hs.min(),o=Ou();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Yo(t),i=r.dc.get(n);return void 0!==i?xc.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,ka(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:hs.min(),n?o:Ou())})).next((function(t){return{documents:t,Rc:o}}))}))}function Eh(t,e){var n=Yo(t),r=Yo(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function Th(t){var e=Yo(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Yo(t),i=xu(),o=dl(n),s=th(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Xc.readTimeIndex,range:a},(function(t,e){var n=hl(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:pl(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go,r=t.readTime;return e.wc=r,n}))}function _h(t){return Lt(this,void 0,void 0,(function(){var e;return jt(this,(function(n){return[2,(e=Yo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=th(t),n=hs.min();return e.hs({index:Xc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=pl(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xh=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return xc.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Qu(n.createTime)}),xc.resolve()},t.prototype.Ms=function(t,e){return xc.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:wl(t.bundledQuery),readTime:Qu(t.readTime)}}(e)),xc.resolve()},t}(),kh=function(){function t(){this.vc=new Eu(Sh.Sc),this.Dc=new Eu(Sh.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Sh(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new Sh(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new ms(new ds([])),r=new Sh(n,t),i=new Sh(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new ms(new ds([])),n=new Sh(e,t),r=new Sh(e,t+1),i=Ou();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new Sh(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Sh=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return ms.H(t.key,e.key)||Xo(t.Mc,e.Mc)},t.Cc=function(t,e){return Xo(t.Mc,e.Mc)||ms.H(t.key,e.key)},t}(),Ah=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new Eu(Sh.Sc)}return t.prototype.Ai=function(t){return xc.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new ul(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new Sh(u.key,i)),this.Ei.qs(t,u.key.path.X())}return xc.resolve(o)},t.prototype.Pi=function(t,e){return xc.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=e+1,r=this.Uc(n),i=r<0?0:r;return xc.resolve(this.zo.length>i?this.zo[i]:null)},t.prototype.Vi=function(){return xc.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return xc.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Sh(e,0),i=new Sh(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),xc.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Eu(Xo);return e.forEach((function(t){var e=new Sh(t,0),i=new Sh(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),xc.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;ms.wt(i)||(i=i.child(""));var o=new Sh(new ms(i),0),s=new Eu(Xo);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),xc.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;Go(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return xc.forEach(e.mutations,(function(i){var o=new Sh(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Sh(e,0),r=this.Bc.Re(n);return xc.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return this.zo.length,xc.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Nh=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new bu(ms.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return xc.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=ku();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),xc.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Au(),i=new ms(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.key,u=s.value,c=u.hi,l=u.readTime;if(!e.path.nt(a.path))break;l._(n)<=0||c instanceof Ks&&Oa(e,c)&&(r=r.zt(c.key,c))}return xc.resolve(r)},t.prototype.jc=function(t,e){return xc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new Dh(this)},t.prototype.Or=function(t){return xc.resolve(this.size)},t}(),Dh=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Mt(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),xc.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Cl),Oh=function(){function t(t){this.persistence=t,this.Gc=new Ol((function(t){return Zs(t)}),ta),this.lastRemoteSnapshotVersion=hs.min(),this.highestTargetId=0,this.zc=0,this.Hc=new kh,this.targetCount=0,this.Jc=Ul.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),xc.resolve()},t.prototype.Qi=function(t){return xc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return xc.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),xc.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),xc.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Ul(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,xc.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),xc.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,xc.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)})),xc.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return xc.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return xc.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),xc.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),xc.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),xc.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return xc.resolve(n)},t.prototype.Fi=function(t,e){return xc.resolve(this.Hc.Fi(e))},t}(),Ch=function(){function t(t,e){var n=this;this.Yc={},this.so=new cs(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Oh(this),this.Ei=new _l,this.fo=function(t,e){return new Nh(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new ll(e),this.wo=new xh(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Ah(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;$o("MemoryPersistence","Starting transaction:",t);var i=new Ph(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return xc.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),Ph=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Mt(e,t),e}(Vc),Mh=function(){function t(t){this.persistence=t,this.na=new kh,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ho()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),xc.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),xc.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),xc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return xc.forEach(this.ra,(function(r){var i=ms._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return xc.Ln([function(){return xc.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Rh(t,e){return"firestore_clients_"+t+"_"+e}function Lh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function jh(t,e){return"firestore_targets_"+t+"_"+e}var Vh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new es(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(qo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new es(i.error.code,i.error.message)),o?new t(e,i.state,r):(qo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Uh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Pu(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ds(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(qo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$h=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(qo("SharedClientState","Failed to parse online state: "+e),null)},t}(),qh=function(){function t(){this.activeTargetIds=Pu()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zh=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new bu(Xo),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Rh(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new qh),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Lt(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return jt(this,(function(f){switch(f.label){case 0:return[4,this._a.Uo()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Rh(this.persistenceKey,r)))&&(o=Uh.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)l=c[u],this.wa(l);return this.Ta=[],this.window.addEventListener("unload",(function(){return h.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(jh(this.persistenceKey,t));if(n){var r=Fh.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(jh(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return $o("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){$o("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){$o("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if($o("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void qo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return Lt(e,void 0,void 0,(function(){var t,e,r,i,o,s;return jt(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=cs.q;if(null!=t)try{var n=JSON.parse(t);Go("number"==typeof n),e=n}catch(t){qo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==cs.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Vh(this.currentUser,t,e,n),i=Lh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Lh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=jh(this.persistenceKey,t),i=new Fh(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Uh.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Vh.ca(new rs(i),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Fh.ca(r,e)},t.prototype.pa=function(t){return $h.ca(t)},t.prototype.Ya=function(t){return Lt(this,void 0,void 0,(function(){return jt(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:($o("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._a.su(s,a).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Pu();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),Bh=function(){function t(){this.iu=new qh,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new qh,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Hh=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Gh=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){$o("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){$o("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Yh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Kh=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Wh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Mt(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new Lo;s.listenOnce(Oo.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Do.NO_ERROR:var e=s.getResponseJson();$o("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Do.TIMEOUT:$o("Connection",'RPC "'+t+'" timed out'),o(new es(ts.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:var n=s.getStatus();if($o("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ts).indexOf(e)>=0?e:ts.UNKNOWN}(r.status);o(new es(a,r.message))}else o(new es(ts.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new es(ts.UNAVAILABLE,"Connection failed."));break;default:Ho()}}finally{$o("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Cu=function(t,e){var n,r=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new xo,o=kr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())||"object"==typeof navigator&&"ReactNative"===navigator.product||Bt().indexOf("Electron/")>=0||function(){var t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Bt().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");$o("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new Kh({fu:function(t){l?$o("Connection","Not sending because WebChannel is closed:",t):(c||($o("Connection","Opening WebChannel transport."),u.open(),c=!0),$o("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,Ro.EventType.OPEN,(function(){l||$o("Connection","WebChannel transport opened.")})),f(u,Ro.EventType.CLOSE,(function(){l||(l=!0,$o("Connection","WebChannel transport closed"),h.Ru())})),f(u,Ro.EventType.ERROR,(function(t){l||(l=!0,zo("Connection","WebChannel transport errored:",t),h.Ru(new es(ts.UNAVAILABLE,"The operation could not be completed")))})),f(u,Ro.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Go(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){$o("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=fu[t];if(void 0!==e)return yu(e)}(o),a=i.message;void 0===s&&(s=ts.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Ru(new es(s,a)),u.close()}else $o("Connection","WebChannel received:",n),h.Pu(n)}})),f(o,Co.STAT_EVENT,(function(t){t.stat===Po?$o("Connection","Detected buffering proxy"):t.stat===Mo&&$o("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Au()}),0),h},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);$o("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return $o("RestConnection","Received: ",t),t}),(function(e){throw zo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=Yh[t];return this.gu+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xh(){return"undefined"!=typeof window?window:null}function Jh(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Qh(t){return new Ku(t,!0)}var Zh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&$o("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),tf=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Zh(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Lt(this,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Lt(this,void 0,void 0,(function(){return jt(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Lt(this,void 0,void 0,(function(){return jt(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===ts.RESOURCE_EXHAUSTED?(qo(e.toString()),qo("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===ts.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new es(ts.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return Lt(t,void 0,void 0,(function(){return jt(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return $o("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():($o("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ef=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Mt(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ho()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Go(void 0===e||"string"==typeof e),Zo.fromBase64String(e||"")):(Go(void 0===e||e instanceof Uint8Array),Zo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ts.UNKNOWN:yu(t.code);return new es(e,t.message||"")}(a);n=new $u(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=nc(t,r.document.name),o=Qu(r.document.updateTime);var a=new Bs({mapValue:{fields:r.document.fields}}),u=(s=new Ks(i,o,a,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new Fu(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=nc(t,r.document),o=r.readTime?Qu(r.readTime):hs.min(),a=new Ws(i,o),s=r.removedTargetIds||[],n=new Fu([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=nc(t,r.document),o=r.removedTargetIds||[],n=new Fu([],o,i,null);else{if(!("filter"in e))return Ho();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new mu(r),o=l.targetId,n=new Uu(o,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return hs.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?hs.min():e.readTime?Qu(e.readTime):hs.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=oc(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=ea(r)?{documents:lc(t,r)}:{query:hc(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Xu(t,e.resumeToken):e.Ot._(hs.min())>0&&(n.readTime=Wu(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ho()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(this.Qt,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=oc(this.Qt),e.removeTarget=t,this.th(e)},e}(tf),nf=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Mt(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Go(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Go(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Qu(t.updateTime):Qu(e);n.isEqual(hs.min())&&(n=Qu(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ja(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Qu(t.commitTime);return this.listener.dh(n,e)}return Go(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=oc(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return uc(e.Qt,t)}))};this.th(n)},e}(tf),rf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Mt(e,t),e.prototype.Ih=function(){if(this.Th)throw new es(ts.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===ts.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===ts.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),of=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(qo(e),this.Rh=!1):$o("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),sf=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return Lt(o,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return vf(this)?($o("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Lt(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return(e=Yo(t)).Nh.add(4),[4,uf(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,af(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new of(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function af(t){return Lt(this,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:if(!vf(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uf(t){return Lt(this,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function cf(t,e){var n=Yo(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),pf(n)?df(n):Df(n).Hu()&&hf(n,e))}function lf(t,e){var n=Yo(t),r=Df(n);n.xh.delete(e),r.Hu()&&ff(n,e),0===n.xh.size&&(r.Hu()?r.Xu():vf(n)&&n.Oh.set("Unknown"))}function hf(t,e){t.kh.on(e.targetId),Df(t).uh(e)}function ff(t,e){t.kh.on(e),Df(t).hh(e)}function df(t){t.kh=new zu({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Df(t).start(),t.Oh.Ph()}function pf(t){return vf(t)&&!Df(t).zu()&&t.xh.size>0}function vf(t){return 0===Yo(t).Nh.size}function mf(t){t.kh=void 0}function gf(t){return Lt(this,void 0,void 0,(function(){return jt(this,(function(e){return t.xh.forEach((function(e,n){hf(t,e)})),[2]}))}))}function yf(t,e){return Lt(this,void 0,void 0,(function(){return jt(this,(function(n){return mf(t),pf(t)?(t.Oh.Vh(e),df(t)):t.Oh.set("Unknown"),[2]}))}))}function bf(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i,o;return jt(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof $u&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o;return jt(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Mh(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),$o("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,wf(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Fu?t.kh.dn(e):e instanceof Uu?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(hs.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,mh(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Zo.T,n.Ot)),ff(t,e);var r=new Ma(n.target,e,1,n.sequenceNumber);hf(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return $o("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,wf(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function wf(t,e,n){return Lt(this,void 0,void 0,(function(){var r=this;return jt(this,(function(i){switch(i.label){case 0:if(!Dc(e))throw e;return t.Nh.add(1),[4,uf(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return mh(t.bh)}),t._s.po((function(){return Lt(r,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return $o("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,af(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function If(t,e){return e().catch((function(n){return wf(t,n,e)}))}function Ef(t){return Lt(this,void 0,void 0,(function(){var e,n,r,i,o;return jt(this,(function(s){switch(s.label){case 0:e=Yo(t),n=Of(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return vf(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,yh(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Of(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,wf(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Tf(e)&&_f(e),[2]}}))}))}function Tf(t){return vf(t)&&!Of(t).zu()&&t.Ch.length>0}function _f(t){Of(t).start()}function xf(t){return Lt(this,void 0,void 0,(function(){return jt(this,(function(e){return Of(t).Eh(),[2]}))}))}function kf(t){return Lt(this,void 0,void 0,(function(){var e,n,r,i;return jt(this,(function(o){for(e=Of(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]}))}))}function Sf(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i;return jt(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=cl.from(r,e,n),[4,If(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,Ef(t)];case 2:return o.sent(),[2]}}))}))}function Af(t,e){return Lt(this,void 0,void 0,(function(){return jt(this,(function(n){switch(n.label){case 0:return e&&Of(t)._h?[4,function(t,e){return Lt(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return gu(r=e.code)&&r!==ts.ABORTED?(n=t.Ch.shift(),Of(t).Yu(),[4,If(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ef(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Tf(t)&&_f(t),[2]}}))}))}function Nf(t,e){return Lt(this,void 0,void 0,(function(){var n;return jt(this,(function(r){switch(r.label){case 0:return n=Yo(t),e?(n.Nh.delete(2),[4,af(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,uf(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Df(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Yo(t);return r.Ih(),new ef(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:gf.bind(null,t),Tu:yf.bind(null,t),ah:bf.bind(null,t)}),t.$h.push((function(n){return Lt(e,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),pf(t)?df(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),mf(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function Of(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Yo(t);return r.Ih(),new nf(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:xf.bind(null,t),Tu:Af.bind(null,t),wh:kf.bind(null,t),dh:Sf.bind(null,t)}),t.$h.push((function(n){return Lt(e,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Ef(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&($o("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Cf=function(){this.Kh=void 0,this.listeners=[]},Pf=function(){this.queries=new Ol((function(t){return Na(t)}),Aa),this.onlineState="Unknown",this.Wh=new Set};function Mf(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return jt(this,(function(c){switch(c.label){case 0:if(n=Yo(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Cf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=Lc(a,"Initialization of query '"+Da(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Vf(n),[2]}}))}))}function Rf(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s;return jt(this,(function(a){return n=Yo(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function Lf(t,e){for(var n=Yo(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].zh(s)&&(r=!0);u.Kh=s}}r&&Vf(n)}function jf(t,e,n){var r=Yo(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Vf(t){t.Wh.forEach((function(t){t.next()}))}var Ff=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Lu(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.nl&&n||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Lu.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Uf=function(t){this.key=t},$f=function(t){this.key=t},qf=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Ou(),this.De=Ou(),this.hl=Ca(t),this.ll=new Mu(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Ru,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=wa(this.query)&&i.size===this.query.limit?i.last():null,c=Ia(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var l=i.get(t),h=e instanceof Ks?e:null;h&&(h=Oa(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),wa(this.query)||Ia(this.query))for(;s.size>this.query.limit;){var l=wa(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ho()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new Lu(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Ru,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Ou(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new $f(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new Uf(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Ou();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Lu.Ne(this.query,this.ll,this.De,0===this.al)},t}(),zf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bf=function(t){this.key=t,this.Pl=!1},Hf=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Ol((function(t){return Na(t)}),Aa),this.Sl=new Map,this.Dl=new Set,this.Cl=new bu(ms.H),this.xl=new Map,this.Nl=new kh,this.$l={},this.Fl=new Map,this.Ol=Ul.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gf(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s,a;return jt(this,(function(u){switch(u.label){case 0:return n=Id(t),(o=n.vl.get(e))?(r=o.targetId,n.Vl.Fa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,bh(n.bh,ka(e))];case 2:return s=u.sent(),a=n.Vl.Fa(s.targetId),r=s.targetId,[4,Yf(n,e,r,"current"===a)];case 3:i=u.sent(),n.Ml&&cf(n.yl,s),u.label=4;case 4:return[2,i]}}))}))}function Yf(t,e,n,r){return Lt(this,void 0,void 0,(function(){var i,o,s,a,u,c;return jt(this,(function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Lt(this,void 0,void 0,(function(){var i,o,s;return jt(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,Ih(t.bh,e.query,!1).then((function(t){var n=t.documents;return e.view.fl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(sd(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,Ih(t.bh,e,!0)];case 1:return i=l.sent(),o=new qf(e,i.Rc),s=o.fl(i.documents),a=Vu.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),sd(t,n,u.Il),c=new zf(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function Kf(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:return n=Yo(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!Aa(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,wh(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),lf(n.yl,r.targetId),id(n,r.targetId)})).catch(Dl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return id(n,r.targetId),[4,wh(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Wf(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i,o,s;return jt(this,(function(a){switch(a.label){case 0:r=Ed(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Yo(t),i=ls.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ou());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=ru(c,n.get(c.key));null!=l&&s.push(new au(c.key,l,Gs(l.proto.mapValue),Qa.exists(!0)))}return r.zo.Ri(t,i,s,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new bu(Xo)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,cd(r,i.ri)];case 3:return a.sent(),[4,Ef(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Lc(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Xf(t,e){return Lt(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:n=Yo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,gh(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(Go(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Go(r.Pl):t.Qe.size>0&&(Go(r.Pl),r.Pl=!1))})),[4,cd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Dl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Jf(t,e,n){var r=Yo(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Yo(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&Vf(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Qf(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i,o,s,a,u;return jt(this,(function(c){switch(c.label){case 0:return(r=Yo(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new bu(ms.H)).zt(o,new Ws(o,hs.min())),a=Ou().add(o),u=new ju(hs.min(),new Map,new Eu(Xo),s,a),[4,Xf(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),ud(r),[3,4];case 2:return[4,wh(r.bh,e,!1).then((function(){return id(r,e,n)})).catch(Dl)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Zf(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:n=Yo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,vh(n.bh,e)];case 2:return i=o.sent(),rd(n,r,null),nd(n,r),n.Vl.Na(r,"acknowledged"),[4,cd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function td(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i;return jt(this,(function(o){switch(o.label){case 0:r=Yo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Yo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return Go(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),rd(r,e,n),nd(r,e),r.Vl.Na(e,"rejected",n),[4,cd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ed(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s;return jt(this,(function(a){switch(a.label){case 0:vf((n=Yo(t)).yl)||$o("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Yo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Lc(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function nd(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function rd(t,e,n){var r=Yo(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function id(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||od(t,e)}))}function od(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(lf(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),ud(t))}function sd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Uf?(t.Nl.nr(o.key,e),ad(t,o)):o instanceof $f?($o("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||od(t,o.key)):Ho()}}function ad(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||($o("SyncEngine","New document in limbo: "+n),t.Dl.add(r),ud(t))}function ud(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new ms(ds.ot(e)),r=t.Ol.next();t.xl.set(r,new Bf(n)),t.Cl=t.Cl.zt(n,r),cf(t.yl,new Ma(ka(ba(n.path)),r,2,cs.q))}}function cd(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i,o,s;return jt(this,(function(a){switch(a.label){case 0:return r=Yo(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){s.push(r.Ll(a,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=lh.oc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return jt(this,(function(h){switch(h.label){case 0:n=Yo(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return xc.forEach(e,(function(e){return xc.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return xc.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Dc(r=h.sent()))throw r;return $o("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.fc.get(a),c=u.Ot,l=u.Lt(c),n.fc=n.fc.zt(a,l));return[2]}}))}))}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function ld(t,e){return Lt(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return(n=Yo(t)).currentUser.isEqual(e)?[3,3]:($o("SyncEngine","User change. New user:",e.A()),[4,ph(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new es(ts.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,cd(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function hd(t,e){var n=Yo(t),r=n.xl.get(e);if(r&&r.Pl)return Ou().add(r.key);var i=Ou(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.vl.get(u);i=i.Pe(c.view._l)}return i}function fd(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:return[4,Ih((n=Yo(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&sd(n,e.targetId,i.Il),i)]}}))}))}function dd(t){return Lt(this,void 0,void 0,(function(){var e;return jt(this,(function(n){return[2,Th((e=Yo(t)).bh).then((function(t){return cd(e,t)}))]}))}))}function pd(t,e,n,r){return Lt(this,void 0,void 0,(function(){var i,o;return jt(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Yo(t),r=Yo(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):xc.resolve(null)}))}))}((i=Yo(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ef(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rd(i,e,r||null),nd(i,e),function(t,e){Yo(Yo(t).zo).xi(e)}(i.bh,e)):Ho(),s.label=4;case 4:return[4,cd(i,o)];case 5:return s.sent(),[3,7];case 6:$o("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function vd(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return jt(this,(function(l){switch(l.label){case 0:return Id(n=Yo(t)),Ed(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,md(n,r.it())]);case 1:return i=l.sent(),n.kl=!0,[4,Nf(n.yl,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],cf(n.yl,a);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],c=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?u.push(e):c=c.then((function(){return id(n,e),wh(n.bh,e,!0)})),lf(n.yl,e)})),[4,c]);case 4:return l.sent(),[4,md(n,u)];case 5:return l.sent(),function(t){var e=Yo(t);e.xl.forEach((function(t,n){lf(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new bu(ms.H)}(n),n.kl=!1,[4,Nf(n.yl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function md(t,e,n){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,v;return jt(this,(function(m){switch(m.label){case 0:n=Yo(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Sl.get(a))&&0!==c.length?[4,bh(n.bh,ka(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.vl.get(f),[4,fd(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Eh(n.bh,a)];case 8:return v=m.sent(),[4,bh(n.bh,v)];case 9:return u=m.sent(),[4,Yf(n,gd(v),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function gd(t){return ya(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yd(t){var e=Yo(t);return Yo(Yo(e.bh).persistence).Uo()}function bd(t,e,n,r){return Lt(this,void 0,void 0,(function(){var i,o,s;return jt(this,(function(a){switch(a.label){case 0:return(i=Yo(t)).kl?($o("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Th(i.bh)];case 3:return o=a.sent(),s=ju.Me(e,"current"===n),[4,cd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,wh(i.bh,e,!0)];case 6:return a.sent(),id(i,e,r),[3,8];case 7:Ho(),a.label=8;case 8:return[2]}}))}))}function wd(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return jt(this,(function(d){switch(d.label){case 0:if(!(r=Id(t)).kl)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Sl.has(s)?($o("SyncEngine","Adding an already active target "+s),[3,5]):[4,Eh(r.bh,s)]):[3,6];case 2:return a=d.sent(),[4,bh(r.bh,a)];case 3:return u=d.sent(),[4,Yf(r,gd(a),u.targetId,!1)];case 4:d.sent(),cf(r.yl,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return jt(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,wh(r.bh,t,!1).then((function(){lf(r.yl,t),id(r,t)})).catch(Dl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Id(t){var e=Yo(t);return e.yl.Dh.Lh=Xf.bind(null,e),e.yl.Dh.vn=hd.bind(null,e),e.yl.Dh.Mh=Qf.bind(null,e),e.bl.ah=Lf.bind(null,e.gl),e.bl.Bl=jf.bind(null,e.gl),e}function Ed(t){var e=Yo(t);return e.yl.Dh.Bh=Zf.bind(null,e),e.yl.Dh.qh=td.bind(null,e),e}var Td=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Lt(this,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return this.Qt=Qh(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return dh(this.persistence,new hh,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Ch(Mh.ia,this.Qt)},t.prototype.Wl=function(t){return new Bh},t.prototype.terminate=function(){return Lt(this,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),_d=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Mt(e,t),e.prototype.initialize=function(e){return Lt(this,void 0,void 0,(function(){return jt(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_h(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Ed(this.Yl._a)];case 4:return n.sent(),[4,Ef(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return dh(this.persistence,new hh,t.Jl,this.Qt)},e.prototype.zl=function(t){var e=this.persistence.Ti.lr;return new Yl(e,t._s)},e.prototype.jl=function(t){var e=uh(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Nl.Ys(this.cacheSizeBytes):Nl.ti;return new oh(this.synchronizeTabs,e,t.clientId,n,t._s,Xh(),Jh(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Bh},e}(Td),xd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Mt(e,t),e.prototype.initialize=function(e){return Lt(this,void 0,void 0,(function(){var n,r=this;return jt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof zh?(this.Vl._a={eu:pd.bind(null,n),nu:bd.bind(null,n),su:wd.bind(null,n),Uo:yd.bind(null,n),tu:dd.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return Lt(r,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return[4,vd(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=Xh();if(!zh.Kn(e))throw new es(ts.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=uh(t.yu.t,t.yu.persistenceKey);return new zh(e,t._s,n,t.clientId,t.Jl)},e}(_d),kd=function(){function t(){}return t.prototype.initialize=function(t,e){return Lt(this,void 0,void 0,(function(){var n=this;return jt(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Jf(n._a,t,1)},this.yl.Dh.n_=ld.bind(null,this._a),[4,Nf(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new Pf},t.prototype.Xl=function(t){var e,n=Qh(t.yu.t),r=(e=t.yu,new Wh(e));return function(t,e,n){return new rf(t,e,n)}(t.credentials,r,n)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Jf(s._a,t,0)},o=Gh.Kn()?new Gh:new Hh,new sf(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Hf(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Lt(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=Yo(t),$o("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,uf(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),Sd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ad=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new es(ts.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new vs(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}(),Nd=function(t){this._methodName=t},Dd=function(t){this.d_=t};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Od(t,e,n){if(!n)throw new es(ts.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Cd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new es(ts.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Pd(t,e,n,r){if(!0===e&&!0===r)throw new es(ts.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Md(t){if(!ms.wt(t))throw new es(ts.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Rd(t){if(ms.wt(t))throw new es(ts.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ld(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ho()}function jd(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new es(ts.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ld(t);throw new es(ts.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Vd(t,e){if(e<=0)throw new es(ts.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Fd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new es(ts.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new es(ts.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Pd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ud=new Map,$d=function(){function t(t,e){this.w_="(lite)",this.E_=new Fd({}),this.T_=!1,t instanceof Vo?(this.I_=t,this.m_=new os):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new es(ts.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(t.options.projectId)}(t),this.m_=new ss(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new es(ts.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new es(ts.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Fd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new os;switch(t.type){case"gapi":var e=t.client;return Go(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new us(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new es(ts.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return this,(t=Ud.get(this))&&($o("ComponentProvider","Removing Datastore"),Ud.delete(this),t.terminate()),Promise.resolve();var t},t}(),qd=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Bd(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),zd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ba(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Mt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new qd(this.firestore,null,new ms(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(zd);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Hd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dd&&(t=t.d_),Od("collection","path",e),t instanceof $d)return Rd(n=ds.ot.apply(ds,$t([e],r))),new Bd(t,null,n);if(!(t instanceof qd||t instanceof Bd))throw new es(ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rd(n=ds.ot.apply(ds,$t([t.path],r)).child(ds.ot(e))),new Bd(t.firestore,null,n)}function Gd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dd&&(t=t.d_),1===arguments.length&&(e=Wo.u()),Od("doc","path",e),t instanceof $d)return Md(n=ds.ot.apply(ds,$t([e],r))),new qd(t,null,new ms(n));if(!(t instanceof qd||t instanceof Bd))throw new es(ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Md(n=t.D_.child(ds.ot.apply(ds,$t([e],r)))),new qd(t.firestore,t instanceof Bd?t.v_:null,new ms(n))}function Yd(t,e){return t instanceof Dd&&(t=t.d_),e instanceof Dd&&(e=e.d_),(t instanceof qd||t instanceof Bd)&&(e instanceof qd||e instanceof Bd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Kd(t,e){return t instanceof Dd&&(t=t.d_),e instanceof Dd&&(e=e.d_),t instanceof zd&&e instanceof zd&&t.firestore===e.firestore&&Aa(t.C_,e.C_)&&t.v_===e.v_
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Wd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new es(ts.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new es(ts.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Xo(this.x_,t.x_)||Xo(this.N_,t.N_)},t}(),Xd=/^__.*__$/,Jd=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new au(t,this.data,this.Gt,e,this.fieldTransforms):new su(t,this.data,e,this.fieldTransforms)},t}(),Qd=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new au(t,this.data,this.Gt,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ho()}}var tp=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return wp(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Zd(this.k_)&&Xd.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),ep=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Qh(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new tp({k_:t,methodName:e,j_:n,path:vs.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function np(t){var e=t.p_(),n=Qh(t.I_);return new ep(t.I_,!!e.ignoreUndefinedProperties,n)}function rp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);mp("Data must be an object, but it was:",s,r);var a,u,c=pp(r,s);if(o.merge)a=new ws(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=gp(e,f[h],n);if(!s.contains(d))throw new es(ts.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ip(l,d)||l.push(d)}a=new ws(l),u=s.fieldTransforms.filter((function(t){return a.Tt(t.field)}))}else a=null,u=s.fieldTransforms;return new Jd(new Bs(c),a,u)}var ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Nd);function op(t,e,n){return new tp({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.z_=function(t){return new Xa(t.path,new qa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Nd),ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Mt(e,t),e.prototype.z_=function(t){var e=op(this,t,!0),n=this.H_.map((function(t){return dp(t,e)})),r=new za(n);return new Xa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nd),up=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Mt(e,t),e.prototype.z_=function(t){var e=op(this,t,!0),n=this.H_.map((function(t){return dp(t,e)})),r=new Ha(n);return new Xa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nd),cp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Mt(e,t),e.prototype.z_=function(t){var e=new Ya(t.Qt,ja(t.Qt,this.J_));return new Xa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Nd);function lp(t,e,n,r){var i=t.G_(1,e,n);mp("Data must be an object, but it was:",i,r);var o=[],s=new Hs;ys(r,(function(t,r){var a=bp(e,t,n);r instanceof Dd&&(r=r.d_);var u=i.U_(a);if(r instanceof ip)o.push(a);else{var c=dp(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new ws(o);return new Qd(s.Pt(),a,i.fieldTransforms)}function hp(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[gp(e,r,n)],u=[i];if(o.length%2!=0)throw new es(ts.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(gp(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Hs,f=a.length-1;f>=0;--f)if(!Ip(l,a[f])){var d=a[f],p=u[f];p instanceof Dd&&(p=p.d_);var v=s.U_(d);if(p instanceof ip)l.push(d);else{var m=dp(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new ws(l);return new Qd(h.Pt(),g,s.fieldTransforms)}function fp(t,e,n,r){return void 0===r&&(r=!1),dp(n,t.G_(r?4:3,e))}function dp(t,e){if(t instanceof Dd&&(t=t.d_),vp(t))return mp("Unsupported field value:",e,t),pp(t,e);if(t instanceof Nd)return function(t,e){if(!Zd(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=dp(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Dd&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ja(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ls.fromDate(t);return{timestampValue:Wu(e.Qt,n)}}if(t instanceof ls)return n=new ls(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Wu(e.Qt,n)};if(t instanceof Wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ns)return{bytesValue:Xu(e.Qt,t.I)};if(t instanceof qd){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Zu(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Ld(t))}(t,e)}function pp(t,e){var n={};return bs(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):ys(t,(function(t,r){var i=dp(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function vp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ls||t instanceof Wd||t instanceof ns||t instanceof qd||t instanceof Nd)}function mp(t,e,n){if(!vp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ld(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function gp(t,e,n){if(e instanceof Dd&&(e=e.d_),e instanceof Ad)return e.f_;if("string"==typeof e)return bp(t,e);throw wp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yp=new RegExp("[~\\*/\\[\\]]");function bp(t,e,n){if(e.search(yp)>=0)throw wp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ad.bind.apply(Ad,$t([void 0],e.split("."))))).f_}catch(r){throw wp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function wp(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new es(ts.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ip(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ep=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Lt(this,void 0,void 0,(function(){var e,n=this;return jt(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new es(ts.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i,o,s,a;return jt(this,(function(u){switch(u.label){case 0:return n=Yo(t),r=oc(n.Qt)+"/documents",i={documents:e.map((function(t){return ec(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Go(!!e.found),e.found.name,e.found.updateTime;var n=nc(t,e.found.name),r=Qu(e.found.updateTime),i=new Bs({mapValue:{fields:e.found.fields}});return new Ks(n,r,i,{})}(t,e):"missing"in e?function(t,e){Go(!!e.missing),Go(!!e.readTime);var n=nc(t,e.missing),r=Qu(e.readTime);return new Ws(n,r)}(t,e):Ho()}(n.Qt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Go(!!e),a.push(e)})),a)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Ws||t instanceof Ks?n.sf(t):Ho()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new pu(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Lt(this,void 0,void 0,(function(){var t,e=this;return jt(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ms._t(n);e.mutations.push(new vu(r,e.jt(r)))})),[4,function(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:return n=Yo(t),r=oc(n.Qt)+"/documents",i={writes:e.map((function(t){return uc(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Ks)e=t.version;else{if(!(t instanceof Ws))throw Ho();e=hs.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new es(ts.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Qa.updateTime(e):Qa.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(hs.min()))throw new es(ts.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qa.updateTime(e)}return Qa.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Tp=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Zh(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return Lt(t,void 0,void 0,(function(){var t,e,n=this;return jt(this,(function(r){return t=new Ep(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!As(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!gu(e)}return!1},t}(),_p=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=rs.UNAUTHENTICATED,this.clientId=Wo.u(),this._f=function(){},this.C=new _c,this.credentials.v((function(t){$o("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return Lt(this,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new es(ts.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new _c;return this._s.Tf((function(){return Lt(t,void 0,void 0,(function(){var t,n;return jt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Lc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xp(t,e){return Lt(this,void 0,void 0,(function(){var n,r,i=this;return jt(this,(function(o){switch(o.label){case 0:return t._s.Af(),$o("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return Lt(i,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return[4,ph(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function kp(t,e){return Lt(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,Sp(t)];case 1:return n=i.sent(),$o("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return Lt(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return(n=Yo(t))._s.Af(),$o("RemoteStore","RemoteStore received new credentials"),r=vf(n),n.Nh.add(3),[4,uf(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,af(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function Sp(t){return Lt(this,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:($o("FirestoreClient","Using default OfflineComponentProvider"),[4,xp(t,new Td)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Ap(t){return Lt(this,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:($o("FirestoreClient","Using default OnlineComponentProvider"),[4,kp(t,new kd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Np(t){return Sp(t).then((function(t){return t.persistence}))}function Dp(t){return Sp(t).then((function(t){return t.bh}))}function Op(t){return Ap(t).then((function(t){return t.yl}))}function Cp(t){return Ap(t).then((function(t){return t._a}))}function Pp(t){return Lt(this,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:return[4,Ap(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Gf.bind(null,e._a),n.Hh=Kf.bind(null,e._a),n)]}}))}))}function Mp(t,e,n){var r=this;void 0===n&&(n={});var i=new _c;return t._s.Ps((function(){return Lt(r,void 0,void 0,(function(){var r;return jt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Sd({next:function(o){e.Ps((function(){return Rf(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new es(ts.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new es(ts.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ff(ba(n.path),o,{includeMetadataChanges:!0,nl:!0});return Mf(t,s)},[4,Pp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function Rp(t,e,n){var r=this;void 0===n&&(n={});var i=new _c;return t._s.Ps((function(){return Lt(r,void 0,void 0,(function(){var r;return jt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Sd({next:function(n){e.Ps((function(){return Rf(t,s)})),n.fromCache&&"server"===r.source?i.reject(new es(ts.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ff(n,o,{includeMetadataChanges:!0,nl:!0});return Mf(t,s)},[4,Pp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var Lp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Zh(this,"async_queue_retry"),this.vf=function(){var e=Jh();e&&$o("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Jh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Lt(this,void 0,void 0,(function(){var t,e=this;return jt(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Dc(t=n.sent()))throw t;return $o("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,qo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Rc.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ho()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Lt(this,void 0,void 0,(function(){var t;return jt(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function jp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Lp,r.w_="name"in e?e.name:"[DEFAULT]",r}return Mt(e,t),e.prototype.b_=function(){return this.qf||Up(this),this.qf.terminate()},e}($d);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Fp(t){return t.qf||Up(t),t.qf.df(),t.qf}function Up(t){var e=t.p_(),n=function(t,e,n){return new jo(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new _p(t.m_,t.Bf,n)}function $p(t,e,n){var r=this,i=new _c;return t._s.enqueue((function(){return Lt(r,void 0,void 0,(function(){var r;return jt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,xp(t,n)];case 1:return o.sent(),[4,kp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ts.FAILED_PRECONDITION||t.code===ts.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function qp(t){if(t.R_||t.P_)throw new es(ts.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zp=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ts(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(_s(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Ho()}},t.prototype.Hf=function(t,e){var n=this,r={};return ys(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new Wd(Ts(t.latitude),Ts(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=ks(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Ss(t));default:return null}},t.prototype.Qf=function(t){var e=Es(t);return new ls(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=ds.ot(t);Go(Tc(n));var r=new Vo(n.get(1),n.get(3)),i=new ms(n.Y(5));return r.isEqual(e)||qo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Bp=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qd(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Hp(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Gp("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Bp);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gp(t,e){return"string"==typeof e?bp(t,e):e instanceof Dd?e.d_.f_:e.f_}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Yp(t){if(Ia(t)&&0===t.xt.length)throw new es(ts.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kp=function(){};function Wp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Mt(e,t),e.prototype.td=function(t){var e=np(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new es(ts.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){rv(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(nv(r,t,h))}a={arrayValue:{values:u}}}else a=nv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rv(s,o),a=fp(n,"where",s,"in"===o||"not-in"===o);var f=na.create(i,o,a);return function(t,e){if(e.Ct()){var n=Ta(t);if(null!==n&&!n.isEqual(e.field))throw new es(ts.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ea(t);null!==r&&iv(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new es(ts.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new es(ts.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new zd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ga(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Kp),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Mt(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new es(ts.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new es(ts.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new da(e,n);return function(t,e){if(null===Ea(t)){var n=Ta(t);null!==n&&iv(t,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new zd(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new ga(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Kp),Qp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Mt(e,t),e.prototype.td=function(t){return new zd(t.firestore,t.v_,Sa(t.C_,this.od,this.ad))},e}(Kp),Zp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Mt(e,t),e.prototype.td=function(t){var e=ev(t,this.type,this.ud,this.hd);return new zd(t.firestore,t.v_,function(t,e){return new ga(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Kp),tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Mt(e,t),e.prototype.td=function(t){var e=ev(t,this.type,this.ud,this.hd);return new zd(t.firestore,t.v_,function(t,e){return new ga(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Kp);function ev(t,e,n,r){if(n[0]instanceof Dd&&(n[0]=n[0].d_),n[0]instanceof Bp)return function(t,e,n,r,i){if(!r)throw new es(ts.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=xa(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(Vs(e,r.key));else{var c=r.field(u.field);if(xs(c))throw new es(ts.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new es(ts.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ha(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=np(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new es(ts.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new es(ts.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_a(t)&&-1!==c.indexOf("/"))throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ds.ot(c));if(!ms.wt(l))throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ms(l);a.push(Vs(e,h))}else{var f=fp(n,r,c);a.push(f)}}return new ha(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function nv(t,e,n){if(n instanceof Dd&&(n=n.d_),"string"==typeof n){if(""===n)throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_a(e)&&-1!==n.indexOf("/"))throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ds.ot(n));if(!ms.wt(r))throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Vs(t,new ms(r))}if(n instanceof qd)return Vs(t,n.S_);throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ld(n)+".")}function rv(t,e){if(!Array.isArray(t)||0===t.length)throw new es(ts.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new es(ts.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function iv(t,e,n){if(!n.isEqual(e))throw new es(ts.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ov(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Mt(e,t),e.prototype.Wf=function(t){return new ns(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new qd(this.firestore,null,e)},e}(zp),av=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Mt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new cv(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Gp("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Bp),cv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uv),lv=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new av(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new cv(n.Yf,n.Xf,r.key,r,new av(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new es(ts.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){var r=new cv(t.Yf,t.Xf,e.doc.key,e.doc,new av(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new cv(t.Yf,t.Xf,e.doc.key,e.doc,new av(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ho()}}function fv(t,e){return t instanceof uv&&e instanceof uv?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof lv&&e instanceof lv&&t.Yf===e.Yf&&Kd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Mt(e,t),e.prototype.Wf=function(t){return new ns(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new qd(this.firestore,null,e)},e}(zp);function pv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jd(t,qd);var o=jd(t.firestore,Vp),s=np(o);return e instanceof Dd&&(e=e.d_),mv(o,[("string"==typeof e||e instanceof Ad?hp(s,"updateDoc",t.S_,e,n,r):lp(s,"updateDoc",t.S_,e)).F_(t.S_,Qa.exists(!0))])}function vv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Dd&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||jp(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(jp(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof qd)c=jd(t.firestore,Vp),l=ba(t.S_.path),u={next:function(e){i[a]&&i[a](gv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=jd(t,zd);c=jd(d.firestore,Vp),l=d.C_;var p=new dv(c);u={next:function(t){i[a]&&i[a](new lv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Yp(t.C_)}return function(t,e,n,r){var i=this,o=new Sd(r),s=new Ff(e,o,n);return t._s.Ps((function(){return Lt(i,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=Mf,[4,Pp(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return Lt(i,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=Rf,[4,Pp(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Fp(c),l,h,u)}function mv(t,e){return function(t,e){var n=this,r=new _c;return t._s.Ps((function(){return Lt(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return n=Wf,[4,Cp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Fp(t),e)}function gv(t,e,n){var r=n.docs.get(e.S_),i=new dv(t);return new uv(t,i,e.S_,r,new av(n.hasPendingWrites,n.fromCache),e.v_)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var yv=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=np(t)}return t.prototype.set=function(t,e,n){this.md();var r=bv(t,this.Yf),i=ov(r.v_,e,n),o=rp(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Qa.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=bv(t,this.Yf);return e instanceof Dd&&(e=e.d_),o="string"==typeof e||e instanceof Ad?hp(this.Id,"WriteBatch.update",s.S_,e,n,r):lp(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Qa.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=bv(t,this.Yf);return this.Ed=this.Ed.concat(new pu(e.S_,Qa.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new es(ts.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function bv(t,e){if(t instanceof Dd&&(t=t.d_),t.firestore!==e)throw new es(ts.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Mt(e,t),e.prototype.get=function(e){var n=this,r=bv(e,this.Yf),i=new dv(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new uv(n.Yf,i,r.S_,t.Zf,new av(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=np(t)}return t.prototype.get=function(t){var e=this,n=bv(t,this.Yf),r=new sv(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Ho();var i=t[0];if(i instanceof Ws)return new Bp(e.Yf,r,n.S_,null,n.v_);if(i instanceof Ks)return new Bp(e.Yf,r,i.key,i,n.v_);throw Ho()}))},t.prototype.set=function(t,e,n){var r=bv(t,this.Yf),i=ov(r.v_,e,n),o=rp(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=bv(t,this.Yf);return e instanceof Dd&&(e=e.d_),o="string"==typeof e||e instanceof Ad?hp(this.Id,"Transaction.update",s.S_,e,n,r):lp(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=bv(t,this.Yf);return this.Ad.delete(e.S_),this},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Iv(){if("undefined"==typeof Uint8Array)throw new es(ts.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ev(){if("undefined"==typeof atob)throw new es(ts.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Tv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.fromBase64String=function(t){return Ev(),new e(ns.fromBase64String(t))},e.fromUint8Array=function(t){return Iv(),new e(ns.fromUint8Array(t))},e.prototype.toBase64=function(){return Ev(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Iv(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Dd),_v=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){qp(t=jd(t,Vp));var n=Fp(t),r=t.p_(),i=new kd;return $p(n,i,new _d(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){qp(t=jd(t,Vp));var e=Fp(t),n=t.p_(),r=new kd;return $p(e,r,new xd(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new es(ts.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new _c;return t.Bf.Tf((function(){return Lt(e,void 0,void 0,(function(){var e;return jt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Lt(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return Sc.Kn()?(e=t+"main",[4,Sc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(uh(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Vo||(i.Pd=e),i}return Mt(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=jd(t,$d)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Lt(e,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:return[4,Np(t)];case 1:return e=r.sent(),[4,Op(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Yo(t);return e.Nh.delete(0),af(e)}(n))]}}))}))}))}(Fp(jd(this.d_,Vp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Lt(e,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:return[4,Np(t)];case 1:return e=r.sent(),[4,Op(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Lt(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return(e=Yo(t)).Nh.add(0),[4,uf(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Fp(jd(this.d_,Vp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Pd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new _c;return t._s.Ps((function(){return Lt(e,void 0,void 0,(function(){var e;return jt(this,(function(r){switch(r.label){case 0:return e=ed,[4,Cp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Fp(jd(this.d_,Vp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Sd(e);return t._s.Ps((function(){return Lt(n,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Yo(t).Wh.add(e),e.next()},[4,Pp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return Lt(n,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Yo(t).Wh.delete(e)},[4,Pp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Fp(t=jd(t,Vp)),jp(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new es(ts.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fv(this,Hd(this.d_,t))}catch(t){throw Ov(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Dv(this,Gd(this.d_,t))}catch(t){throw Ov(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Lv(this,function(t,e){if(t=jd(t,$d),Od("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new es(ts.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zd(t,null,function(t){return new ga(ds.ct(),t)}(e))}(this.d_,t))}catch(t){throw Ov(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new _c;return t._s.Ps((function(){return Lt(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return[4,function(t){return Ap(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new Tp(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(Fp(t),(function(n){return e(new wv(t,n))}))}(this.d_,(function(n){return t(new Sv(e,n))}))},e.prototype.batch=function(){var t=this;return Fp(this.d_),new Av(new yv(this.d_,(function(e){return mv(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new es(ts.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new es(ts.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Dd),kv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Mt(e,t),e.prototype.Wf=function(t){return new Tv(new ns(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Dv.yd(e,this.firestore,null)},e}(zp);var Sv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new kv(e),r}return Mt(e,t),e.prototype.get=function(t){var e=this,n=Uv(t);return this.d_.get(n).then((function(t){return new Mv(e.Yf,new uv(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Uv(t);return n?(Cd("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Uv(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,$t([s,e,n],i)),this},e.prototype.delete=function(t){var e=Uv(t);return this.d_.delete(e),this},e}(Dd),Av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.set=function(t,e,n){var r=Uv(t);return n?(Cd("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Uv(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,$t([s,e,n],i)),this},e.prototype.delete=function(t){var e=Uv(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Dd),Nv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Mt(e,t),e.prototype.fromFirestore=function(t,e){var n=new cv(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Rv(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new kv(t),n),i.set(n,o)),o},e}(Dd);Nv.Vd=new WeakMap;var Dv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new kv(e),r}return Mt(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new es(ts.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new qd(n.d_,r,new ms(t)))},e.yd=function(t,n,r){return new e(n,new qd(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fv(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fv(this.firestore,Hd(this.d_,t))}catch(t){throw Ov(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Dd&&(t=t.d_),t instanceof qd&&Yd(this.d_,t)},e.prototype.set=function(t,e){e=Cd("DocumentReference.set",e);try{return function(t,e,n){t=jd(t,qd);var r=jd(t.firestore,Vp),i=ov(t.v_,e,n);return mv(r,[rp(np(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Qa.Kt())])}(this.d_,t,e)}catch(t){throw Ov(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pv(this.d_,t):pv.apply(void 0,$t([this.d_,t,e],n))}catch(t){throw Ov(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return mv(jd((t=this.d_).firestore,Vp),[new pu(t.S_,Qa.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Cv(e),i=Pv(e,(function(e){return new Mv(t.firestore,new uv(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return vv(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jd(t,qd);var e=jd(t.firestore,Vp),n=Fp(e),r=new dv(e);return function(t,e){var n=this,r=new _c;return t._s.Ps((function(){return Lt(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i;return jt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Yo(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Ks?n.resolve(i):i instanceof Ws?n.resolve(null):n.reject(new es(ts.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Lc(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Dp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new uv(e,r,t.S_,n,new av(n instanceof Ks&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=jd(t,qd);var e=jd(t.firestore,Vp);return Mp(Fp(e),t.S_,{source:"server"}).then((function(n){return gv(e,t,n)}))}(this.d_):function(t){t=jd(t,qd);var e=jd(t.firestore,Vp);return Mp(Fp(e),t.S_).then((function(n){return gv(e,t,n)}))}(this.d_)).then((function(t){return new Mv(e.firestore,new uv(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Nv.gd(this.firestore,t)))},e}(Dd);function Ov(t,e,n){return t.message=t.message.replace(e,n),t}function Cv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!jp(r))return r}return{}}function Pv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=jp(t[0])?t[0]:jp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Mv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Mt(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dv(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return fv(this.d_,t.d_)},e}(Dd),Rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Mv),Lv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new kv(e),r}return Mt(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Wp(this.d_,function(t,e,n){var r=e,i=Gp("where",t);return new Xp(i,r,n)}(t,n,r)))}catch(t){throw Ov(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Wp(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Gp("orderBy",t);return new Jp(r,n)}(t,n)))}catch(t){throw Ov(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Wp(this.d_,function(t){return Vd("limit",t),new Qp("limit",t,"F")}(t)))}catch(t){throw Ov(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Wp(this.d_,function(t){return Vd("limitToLast",t),new Qp("limitToLast",t,"L")}(t)))}catch(t){throw Ov(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wp(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zp("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Ov(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wp(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zp("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Ov(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wp(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tv("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Ov(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wp(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tv("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Ov(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Kd(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jd(t,zd);var e=jd(t.firestore,Vp),n=Fp(e),r=new dv(e);return function(t,e){var n=this,r=new _c;return t._s.Ps((function(){return Lt(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Lt(this,void 0,void 0,(function(){var r,i,o,s,a;return jt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ih(t,e,!0)];case 1:return a=u.sent(),r=new qf(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Lc(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Dp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new lv(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=jd(t,zd);var e=jd(t.firestore,Vp),n=Fp(e),r=new dv(e);return Rp(n,t.C_,{source:"server"}).then((function(n){return new lv(e,r,t,n)}))}(this.d_):function(t){t=jd(t,zd);var e=jd(t.firestore,Vp),n=Fp(e),r=new dv(e);return Yp(t.C_),Rp(n,t.C_).then((function(n){return new lv(e,r,t,n)}))}(this.d_)).then((function(t){return new Vv(e.firestore,new lv(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Cv(e),i=Pv(e,(function(e){return new Vv(t.firestore,new lv(t.firestore.d_,t.Xf,t.d_,e._d))}));return vv(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Nv.gd(this.firestore,t)))},e}(Dd),jv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Mt(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Rv(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Dd),Vv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Mt(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Lv(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new Rv(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new jv(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new Rv(n.Yf,r))}))},e.prototype.isEqual=function(t){return fv(this.d_,t.d_)},e}(Dd),Fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Mt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Dv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Dv(this.firestore,void 0===t?Gd(this.d_):Gd(this.d_,t))}catch(t){throw Ov(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jd(t.firestore,Vp),r=Gd(t),i=ov(t.v_,e);return mv(n,[rp(np(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Qa.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new Dv(e.firestore,t)}))},e.prototype.isEqual=function(t){return Yd(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Nv.gd(this.firestore,t)))},e}(Lv);function Uv(t){return t instanceof Dd&&(t=t.d_),jd(t,qd)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $v,qv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ad.bind.apply(Ad,$t([void 0],e))))||this}return Mt(e,t),e.documentId=function(){return new e(vs.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Dd&&(t=t.d_),t instanceof Ad&&this.d_.f_.isEqual(t.f_)},e}(Dd),zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.serverTimestamp=function(){var t=new sp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ip("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ap("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new up("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new cp("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Dd),Bv={Firestore:xv,GeoPoint:Wd,Timestamp:ls,Blob:Tv,Transaction:Sv,WriteBatch:Av,DocumentReference:Dv,DocumentSnapshot:Mv,Query:Lv,QueryDocumentSnapshot:Rv,QuerySnapshot:Vv,CollectionReference:Fv,FieldPath:qv,FieldValue:zv,setLogLevel:function(t){var e;e=t,Fo.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new te("firestore",(function(t){return function(t,e){return new xv(t,new Vp(t,e),new _v)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Bv)))})($v=Ae),$v.registerVersion("@firebase/firestore","2.1.6");
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Ae.registerVersion("firebase","8.2.7","app");Ae.initializeApp({apiKey:"AIzaSyDD8weKH6PcweRgzGNF9pH0SjB0PFLfLTs",authDomain:"atomic-chestnut.firebaseapp.com",databaseURL:"https://atomic-chestnut-default-rtdb.europe-west1.firebasedatabase.app",projectId:"atomic-chestnut",storageBucket:"atomic-chestnut.appspot.com",messagingSenderId:"166161795500",appId:"1:166161795500:web:509a46d93c702a4468d209"});const Hv=Ae.firestore(),Gv=Ae.auth(),Yv=Ae.firestore.FieldValue;function Kv(t){return"function"==typeof t}Ae.firestore.DocumentSnapshot;var Wv=!1,Xv={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;Wv=t},get useDeprecatedSynchronousErrorHandling(){return Wv}};function Jv(t){setTimeout((function(){throw t}),0)}var Qv={closed:!0,next:function(t){},error:function(t){if(Xv.useDeprecatedSynchronousErrorHandling)throw t;Jv(t)},complete:function(){}},Zv=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function tm(t){return null!==t&&"object"==typeof t}var em=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),nm=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var a=0;a<r.length;++a){r[a].remove(this)}if(Kv(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof em?rm(t.errors):[t]}}if(Zv(s)){a=-1;for(var u=s.length;++a<u;){var c=s[a];if(tm(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof em?e=e.concat(rm(t.errors)):e.push(t)}}}if(e)throw new em(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function rm(t){return t.reduce((function(t,e){return t.concat(e instanceof em?e.errors:e)}),[])}var im=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),om=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Qv;break;case 1:if(!n){o.destination=Qv;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new sm(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new sm(o,n,r,i)}return o}return Mt(e,t),e.prototype[im]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(nm),sm=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return Kv(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Qv&&(Kv((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=r,s._complete=i,s}return Mt(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Xv.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=Xv.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Jv(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Jv(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};Xv.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Xv.useDeprecatedSynchronousErrorHandling)throw t;Jv(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!Xv.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return Xv.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Jv(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(om);var am=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function um(t){return t}function cm(t){return 0===t.length?um:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var lm=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof om)return t;if(t[im])return t[im]()}return t||e||n?new om(t,e,n):new om(Qv)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||Xv.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Xv.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Xv.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof om?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=hm(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[am]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:cm(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=hm(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function hm(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}function fm(t){return t&&"function"==typeof t.schedule}var dm=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function pm(t,e){return new lm((function(n){var r=new nm,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function vm(t,e){return e?pm(t,e):new lm(dm(t))}function mm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return fm(n)?(t.pop(),pm(t,n)):vm(t)}function gm(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new ym(t,e))}}var ym=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new bm(t,this.project,this.thisArg))},t}(),bm=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return Mt(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(om);function wm(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Im=wm(),Em=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Tm(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var _m=function(t){if(t&&"function"==typeof t[am])return n=t,function(t){var e=n[am]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Em(t))return dm(t);if(Tm(t))return function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Jv),e}}(t);if(t&&"function"==typeof t[Im])return e=t,function(t){for(var n=e[Im]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r=tm(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function xm(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[am]}(t))return function(t,e){return new lm((function(n){var r=new nm;return r.add(e.schedule((function(){var i=t[am]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Tm(t))return function(t,e){return new lm((function(n){var r=new nm;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Em(t))return pm(t,e);if(function(t){return t&&"function"==typeof t[Im]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new lm((function(n){var r,i=new nm;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[Im](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}var km=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return Mt(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(om),Sm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(om);function Am(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(Am((function(n,r){return(i=t(n,r),o?xm(i,o):i instanceof lm?i:new lm(_m(i))).pipe(gm((function(t,i){return e(n,t,r,i)})));var i,o}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new Nm(t,n))})}var Nm=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Dm(t,this.project,this.concurrent))},t}(),Dm=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return Mt(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new km(this),n=this.destination;n.add(e);var r=function(t,e){if(!e.closed)return t instanceof lm?t.subscribe(e):_m(t)(e)}(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Sm);function Om(){return void 0===(t=1)&&(t=Number.POSITIVE_INFINITY),Am(um,t);var t}function Cm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Om()(mm.apply(void 0,t))}function Pm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return fm(n)?(t.pop(),function(e){return Cm(t,e,n)}):function(e){return Cm(t,e)}}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Mm(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),"function"!=typeof t.asyncComponent)throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let e=0;e<t.conditions.length;e++)if(!t.conditions[e]||"function"!=typeof t.conditions[e])throw Error("Invalid parameter conditions["+e+"]")}t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0);return{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const Rm=[];function Lm(t,e){return{subscribe:jm(t,e).subscribe}}function jm(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!Rm.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Rm.push(n,e)}if(t){for(let t=0;t<Rm.length;t+=2)Rm[t][0](Rm[t+1]);Rm.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const u=[s,a];return i.push(u),1===i.length&&(r=n(o)||t),s(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Vm(e,n,r){const i=!Array.isArray(e),a=i?[e]:e,c=n.length<2;return Lm(r,(e=>{let r=!1;const l=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=n(i?l[0]:l,e);c?e(r):f=s(r)?r:t},p=a.map(((t,e)=>u(t,(t=>{l[e]=t,h&=~(1<<e),r&&d()}),(()=>{h|=1<<e}))));return r=!0,d(),function(){o(p),f()}}))}function Fm(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(s.push("wild"),a+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function Um(t){let e,r,i;const o=[t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[7])),{c(){e&&At(e.$$.fragment),r=N()},m(t,n){e&&Nt(e,t,n),E(t,r,n),i=!0},p(t,n){const i=4&n?xt(o,[kt(t[2])]):{};if(s!==(s=t[0])){if(e){mt();const t=e;bt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),gt()}s?(e=new s(a()),e.$on("routeEvent",t[7]),At(e.$$.fragment),yt(e.$$.fragment,1),Nt(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&yt(e.$$.fragment,t),i=!0)},o(t){e&&bt(e.$$.fragment,t),i=!1},d(t){t&&T(r),e&&Dt(e,t)}}}function $m(t){let e,r,i;const o=[{params:t[1]},t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[6])),{c(){e&&At(e.$$.fragment),r=N()},m(t,n){e&&Nt(e,t,n),E(t,r,n),i=!0},p(t,n){const i=6&n?xt(o,[2&n&&{params:t[1]},4&n&&kt(t[2])]):{};if(s!==(s=t[0])){if(e){mt();const t=e;bt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),gt()}s?(e=new s(a()),e.$on("routeEvent",t[6]),At(e.$$.fragment),yt(e.$$.fragment,1),Nt(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&yt(e.$$.fragment,t),i=!0)},o(t){e&&bt(e.$$.fragment,t),i=!1},d(t){t&&T(r),e&&Dt(e,t)}}}function qm(t){let e,n,r,i;const o=[$m,Um],s=[];function a(t,e){return t[1]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=N()},m(t,n){s[e].m(t,n),E(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(mt(),bt(s[u],1,1,(()=>{s[u]=null})),gt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&T(r)}}}function zm(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Bm=Lm(null,(function(t){t(zm());const e=()=>{t(zm())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));function Hm(t,e,n){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=Fm(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(i)if("string"==typeof i){if(!t.startsWith(i))return null;t=t.substr(i.length)||"/"}else if(i instanceof RegExp){const e=t.match(i);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((t,e)=>{a.push(new s(e,t))})):Object.keys(r).forEach((t=>{a.push(new s(t,r[t]))}));let u=null,c=null,l={};const h=W();async function f(t,e){await it(),h(t,e)}let d=null;o&&(window.addEventListener("popstate",(t=>{d=t.state&&t.state.scrollY?t.state:null})),function(t){G().$$.after_update.push(t)}((()=>{d?window.scrollTo(d.scrollX,d.scrollY):window.scrollTo(0,0)})));let p=null,v=null;return Bm.subscribe((async t=>{p=t;let e=0;for(;e<a.length;){const r=a[e].match(t.location);if(!r){e++;continue}const i={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData};if(!await a[e].checkConditions(i))return n(0,u=null),v=null,void f("conditionsFailed",i);f("routeLoading",Object.assign({},i));const o=a[e].component;if(v!=o){o.loading?(n(0,u=o.loading),v=o,n(1,c=o.loadingParams),n(2,l={}),f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))):(n(0,u=null),v=null);const e=await o();if(t!=p)return;n(0,u=e&&e.default||e),v=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,l=a[e].props),void f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))}n(0,u=null),v=null})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,i=t.prefix),"restoreScrollState"in t&&n(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,c,l,r,i,o,function(e){X(t,e)},function(e){X(t,e)}]}Vm(Bm,(t=>t.location)),Vm(Bm,(t=>t.querystring));class Gm extends Ct{constructor(t){super(),Ot(this,t,Hm,qm,a,{routes:3,prefix:4,restoreScrollState:5})}}function Ym(e){let n,r,i;return{c(){n=x("div"),r=x("img"),r.src!==(i=Km)&&C(r,"src",i),C(r,"alt",""),C(r,"width","200"),C(n,"id","pattern"),C(n,"class","flex justify-center items-center w-screen h-96 bg-scroll mt-2 hidden md:inline-flex svelte-1f640pa")},m(t,e){E(t,n,e),I(n,r)},p:t,i:t,o:t,d(t){t&&T(n)}}}let Km="chestnut-logo.png";class Wm extends Ct{constructor(t){super(),Ot(this,t,null,Ym,a,{})}}function Xm(t){const e=t-1;return e*e*e+1}function Jm(t){return"[object Date]"===Object.prototype.toString.call(t)}function Qm(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Qm(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Jm(t)&&Jm(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Qm(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Zm(t,r={}){const i=jm(t);let o,s=t;function a(a,u){if(null==t)return i.set(t=a),Promise.resolve();s=a;let c=o,l=!1,{delay:h=0,duration:f=400,easing:d=e,interpolate:p=Qm}=n(n({},r),u);if(0===f)return c&&(c.abort(),c=null),i.set(t=s),Promise.resolve();const v=m()+h;let g;return o=w((e=>{if(e<v)return!0;l||(g=p(t,a),"function"==typeof f&&(f=f(t,a)),l=!0),c&&(c.abort(),c=null);const n=e-v;return n>f?(i.set(t=a),!1):(i.set(t=g(d(n/f))),!0)})),o.promise}return{set:a,update:(e,n)=>a(e(s,t),n),subscribe:i.subscribe}}function tg(e){let n,r,i,o,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,N,D,O,P,R;return{c(){n=x("div"),r=x("div"),i=x("div"),o=x("span"),s=S(e[0]),a=A(),u=x("div"),u.textContent="Tage",c=A(),l=x("div"),h=x("span"),f=S(e[1]),d=A(),p=x("div"),p.textContent="Stunden",v=A(),m=x("div"),g=x("span"),y=S(e[2]),b=A(),w=x("div"),w.textContent="Minuten",_=A(),k=x("div"),N=x("div"),D=x("span"),O=S(e[3]),P=A(),R=x("div"),R.textContent="Sekunden",C(i,"class","p-2 sm:p-4 rounded-md bg-red-300 bg-opacity-50 md:text-2xl"),C(u,"class","smalltext"),C(r,"class","p-8 rounded-md bg-gray-300 bg-opacity-50 flex flex-col justify-center items-center"),C(h,"class","p-2 sm:p-4 rounded-md bg-yellow-300 bg-opacity-50 md:text-2xl"),C(p,"class","smalltext"),C(l,"class","p-1 rounded-md bg-gray-300 bg-opacity-50 flex flex-col justify-center items-center"),C(g,"class","p-2 sm:p-4 rounded-md bg-green-300 bg-opacity-50 md:text-2xl"),C(w,"class","smalltext"),C(m,"class","p-1 rounded-md bg-gray-300 bg-opacity-50 flex flex-col justify-center items-center"),C(N,"class","p-2 sm:p-4 rounded-md bg-blue-300 bg-opacity-50 md:text-2xl"),C(R,"class","smalltext"),C(k,"class","p-1 rounded-md bg-gray-300 bg-opacity-50 flex flex-col justify-center items-center"),C(n,"class","grid grid-cols-4 grid-rows-1 space-x-1 justify max-w-2xl mx-auto")},m(t,e){E(t,n,e),I(n,r),I(r,i),I(i,o),I(o,s),I(r,a),I(r,u),I(n,c),I(n,l),I(l,h),I(h,f),I(l,d),I(l,p),I(n,v),I(n,m),I(m,g),I(g,y),I(m,b),I(m,w),I(n,_),I(n,k),I(k,N),I(N,D),I(D,O),I(k,P),I(k,R)},p(t,[e]){1&e&&M(s,t[0]),2&e&&M(f,t[1]),4&e&&M(y,t[2]),8&e&&M(O,t[3])},i:t,o:t,d(t){t&&T(n)}}}function eg(t,e,n){let r,i,o,s,a;let u=Zm(new Date("Jul 8, 2021 12:00:00").getTime()-(new Date).getTime());return c(t,u,(t=>n(5,a=t))),setInterval((()=>{a>0&&d(u,a-=1e3,a)}),1e3),t.$$.update=()=>{32&t.$$.dirty&&n(0,r=Math.floor(a/864e5)),32&t.$$.dirty&&n(1,i=Math.floor(a%864e5/36e5)),32&t.$$.dirty&&n(2,o=Math.floor(a%36e5/6e4)),32&t.$$.dirty&&n(3,s=Math.floor(a%6e4/1e3))},[r,i,o,s,u,a]}class ng extends Ct{constructor(t){super(),Ot(this,t,eg,tg,a,{})}}function rg(e){let n,r,i,o;return n=new Wm({}),i=new ng({}),{c(){At(n.$$.fragment),r=A(),At(i.$$.fragment)},m(t,e){Nt(n,t,e),E(t,r,e),Nt(i,t,e),o=!0},p:t,i(t){o||(yt(n.$$.fragment,t),yt(i.$$.fragment,t),o=!0)},o(t){bt(n.$$.fragment,t),bt(i.$$.fragment,t),o=!1},d(t){Dt(n,t),t&&T(r),Dt(i,t)}}}class ig extends Ct{constructor(t){super(),Ot(this,t,null,rg,a,{})}}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function og(t,e){return function(t,e){return new lm((function(n){return{unsubscribe:t.onSnapshot(e||{},n)}}))}(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function sg(t){return function(t,e){return og(t,e)}(t)}function ag(t,e){return sg(t).pipe(gm((function(t){return ug(t,e)})))}function ug(t,e){var n;return Rt(Rt({},t.data()),e?((n={})[e]=t.id,n):null)}function cg(t){return(e=t,og(e,n)).pipe(gm((function(t){return t.docs})));var e,n}function lg(t,e){return cg(t).pipe(gm((function(t){return t.map((function(t){return ug(t,e)}))})))}function hg(t,e,n){const r=t.slice();return r[11]=e[n],r}function fg(t){let e,n,r=t[11]+"";return{c(){e=x("span"),n=S(r),C(e,"class","inline-block rounded-full text-white bg-gray-500 text-xs font-bold mr-1 md:mr-2 mb-2 px-2 md:px-4 py-1 opacity-90")},m(t,r){E(t,e,r),I(e,n)},p(t,e){32&e&&r!==(r=t[11]+"")&&M(n,r)},d(t){t&&T(e)}}}function dg(e){let n,r,i;return{c(){n=x("button"),n.textContent="Danke für dein Interesse! Wir melden uns.",C(n,"class","text-green-600 dark:text-blue-400 hover:text-red-600 transition-transform duration-300 ease-in transform hover:translate-x-4 ")},m(t,o){E(t,n,o),r||(i=D(n,"click",e[7]),r=!0)},p:t,d(t){t&&T(n),r=!1,i()}}}function pg(e){let n,r,i;return{c(){n=x("button"),n.textContent="Ich möchte mitmachen!",C(n,"class","text-blue-600 dark:text-blue-400 hover:text-green-600 transition-transform duration-300 ease-in transform hover:translate-x-4 ")},m(t,o){E(t,n,o),r||(i=D(n,"click",e[6]),r=!0)},p:t,d(t){t&&T(n),r=!1,i()}}}function vg(e){let n,r,i,o,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w=e[5],k=[];for(let t=0;t<w.length;t+=1)k[t]=fg(hg(e,w,t));function N(t,e){return t[0]?pg:dg}let D=N(e),O=D(e);return{c(){n=x("div"),r=x("div"),i=x("span"),o=S(e[3]),s=S(" - "),a=S(e[4]),u=A(),c=x("div");for(let t=0;t<k.length;t+=1)k[t].c();l=A(),h=x("div"),f=x("h2"),d=S(e[1]),p=A(),v=x("p"),m=S(e[2]),g=A(),y=x("div"),O.c(),C(i,"class","text-xl font-light text-gray-600 dark:text-gray-400 mb-4"),C(c,"class",""),C(r,"class","grid grid-cols-1"),C(f,"class","text-2xl font-bold text-gray-700 dark:text-white hover:text-gray-600 dark:hover:text-gray-200 hover:underline"),C(v,"class","mt-2 text-gray-600 dark:text-gray-300"),C(h,"class","mt-2"),C(y,"class","mt-4"),C(n,"class",b=(e[0]?"":"border-2 border-green-200 shadow-lg")+" max-w-2xl px-4 md:px-8 py-4 mx-auto bg-white rounded-lg mb-4 border shadow-md")},m(t,e){E(t,n,e),I(n,r),I(r,i),I(i,o),I(i,s),I(i,a),I(r,u),I(r,c);for(let t=0;t<k.length;t+=1)k[t].m(c,null);I(n,l),I(n,h),I(h,f),I(f,d),I(h,p),I(h,v),I(v,m),I(n,g),I(n,y),O.m(y,null)},p(t,[e]){if(8&e&&M(o,t[3]),16&e&&M(a,t[4]),32&e){let n;for(w=t[5],n=0;n<w.length;n+=1){const r=hg(t,w,n);k[n]?k[n].p(r,e):(k[n]=fg(r),k[n].c(),k[n].m(c,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=w.length}2&e&&M(d,t[1]),4&e&&M(m,t[2]),D===(D=N(t))&&O?O.p(t,e):(O.d(1),O=D(t),O&&(O.c(),O.m(y,null))),1&e&&b!==(b=(t[0]?"":"border-2 border-green-200 shadow-lg")+" max-w-2xl px-4 md:px-8 py-4 mx-auto bg-white rounded-lg mb-4 border shadow-md")&&C(n,"class",b)},i:t,o:t,d(t){t&&T(n),_(k,t),O.d()}}}function mg(t,e,n){const r=W();let{title:i}=e,{description:o}=e,{plannedFrom:s}=e,{plannedUntil:a}=e,{tags:u}=e,{clickTask:c=!0}=e,{id:l}=e,{signedTasks:h}=e;return Y((async()=>{h&&h.forEach((t=>{console.log("Element Id",t.id),t.id==l&&n(0,c=!1)}))})),t.$$set=t=>{"title"in t&&n(1,i=t.title),"description"in t&&n(2,o=t.description),"plannedFrom"in t&&n(3,s=t.plannedFrom),"plannedUntil"in t&&n(4,a=t.plannedUntil),"tags"in t&&n(5,u=t.tags),"clickTask"in t&&n(0,c=t.clickTask),"id"in t&&n(8,l=t.id),"signedTasks"in t&&n(9,h=t.signedTasks)},[c,i,o,s,a,u,function(){n(0,c=!1),r("signIn",{id:l})},function(){n(0,c=!0),r("signOut",{id:l})},l,h]}class gg extends Ct{constructor(t){super(),Ot(this,t,mg,vg,a,{title:1,description:2,plannedFrom:3,plannedUntil:4,tags:5,clickTask:0,id:8,signedTasks:9})}}function yg(t,e,n){const r=t.slice();return r[9]=e[n],r}function bg(t){let e,r;const i=[t[9],{signedTasks:t[0]}];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new gg({props:o}),e.$on("signIn",t[3]),e.$on("signOut",t[4]),{c(){At(e.$$.fragment)},m(t,n){Nt(e,t,n),r=!0},p(t,n){const r=3&n?xt(i,[2&n&&kt(t[9]),1&n&&{signedTasks:t[0]}]):{};e.$set(r)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){bt(e.$$.fragment,t),r=!1},d(t){Dt(e,t)}}}function wg(t){let e,n,r,i,o,s,a,u=t[1],c=[];for(let e=0;e<u.length;e+=1)c[e]=bg(yg(t,u,e));const l=t=>bt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=x("section"),e.innerHTML='<div class="container flex justify-center"><div class="space-y-4 px-5"><span class="block text-2xl text-gray-900 text-center">Arbeitskalender</span> \n    <span class="block text-lg text-gray-700 max-w-prose text-center">Auf dem Hof gibt es immer wieder viel zu tun und wir freuen uns über jede\n      Hilfe. Für einige ist diese Arbeit auch ein schöner Ausgleich zum Alltag\n      geworden. Wenn du Lust hast uns zu helfen, kannst du dich einfach bei dem\n      jeweiligen Projekt anmelden. Wir melden uns dann bei dir.</span></div></div>',n=A(),r=x("section"),i=x("div"),o=x("div"),s=x("div");for(let t=0;t<c.length;t+=1)c[t].c();C(e,"class","border-2 shadow-md m-4 p-4"),C(s,"class","flex flex-wrap"),C(o,"class","container mx-auto"),C(i,"class","text-gray-600 body-font"),C(r,"class","border-2 shadow-md m-4 p-4")},m(t,u){E(t,e,u),E(t,n,u),E(t,r,u),I(r,i),I(i,o),I(o,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null);a=!0},p(t,[e]){if(27&e){let n;for(u=t[1],n=0;n<u.length;n+=1){const r=yg(t,u,n);c[n]?(c[n].p(r,e),yt(c[n],1)):(c[n]=bg(r),c[n].c(),yt(c[n],1),c[n].m(s,null))}for(mt(),n=u.length;n<c.length;n+=1)l(n);gt()}},i(t){if(!a){for(let t=0;t<u.length;t+=1)yt(c[t]);a=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)bt(c[t]);a=!1},d(t){t&&T(e),t&&T(n),t&&T(r),_(c,t)}}}function Ig(t,e,n){let r,i,{user:o}=e;const s=lg(Hv.collection("arbeitsschichten"),"id").pipe(Pm([]));c(t,s,(t=>n(1,r=t)));const a=ag(Hv.collection("users").doc(o.uid),"uid").subscribe((t=>{n(0,i=t.taskSigned)}));return K((()=>{a.unsubscribe()})),t.$$set=t=>{"user"in t&&n(5,o=t.user)},[i,r,s,function(t){console.log("AddTask");const{id:e}=t.detail;Hv.collection("users").doc(o.uid).update({taskSigned:Yv.arrayUnion({id:e})})},function(t){console.log("RemoveTask");const{id:e}=t.detail,n={id:e};Hv.collection("users").doc(o.uid).update({taskSigned:Yv.arrayRemove(n)})},o]}class Eg extends Ct{constructor(t){super(),Ot(this,t,Ig,wg,a,{user:5})}}class Tg extends Ct{constructor(t){super(),Ot(this,t,null,null,a,{})}}function _g(e){let n;return{c(){n=x("section"),n.innerHTML='<div class="container py-12 mx-auto flex sm:flex-nowrap flex-wrap"><div class="lg:w-2/3 md:w-1/2 bg-gray-300 rounded-lg overflow-hidden sm:mr-10 p-10 flex items-end justify-start relative"><iframe width="100%" height="100%" class="absolute inset-0" frameborder="0" title="Atomic-Chestnut" marginheight="0" marginwidth="0" scrolling="no" src="https://maps.google.com/maps?width=100%&amp;height=600&amp;hl=en&amp;q=Dorfstrasse%201%20Cumlosen+(Atomic%20Chestnut)&amp;t=&amp;z=17&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe> \n      <div class="bg-white relative flex flex-wrap py-6 rounded shadow-md"><div class="lg:w-1/2 px-6"><h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs">ADDRESSE</h2> \n          <p class="mt-1">Dorfstraße (Wentdorf) 5 <br/>\n            19322 Cumlosen</p></div> \n        <div class="lg:w-1/2 px-6 mt-4 lg:mt-0"><h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs">EMAIL</h2> \n          <span class="text-indigo-500 leading-relaxed">atomic-chestnut@email.de</span> \n          <h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs mt-4">TELEFON</h2> \n          <p class="leading-relaxed">123-456-7890</p></div></div></div> \n    <div class="lg:w-1/3 md:w-1/2 bg-white flex flex-col md:ml-auto w-full md:py-8 mt-8 md:mt-0 z-0"><h2 class="text-gray-900 text-xl mb-1 font-medium title-font z-0">Anfahrtsbeschreibung</h2> \n      <h3 class="text-lg title-font">Auto</h3> \n      <ul class="leading-relaxed mb-5 text-gray-600"><li>über die A24 und A14 bis L131 in Karstädt folgen</li> \n        <li>auf A14 Ausfahrt 11-Karstädt nehmen</li> \n        <li>L131 folgen, Forsthaus bis B195 in Cumlosen nehmen.</li></ul> \n      <h3 class="text-lg title-font">Bahn</h3> \n      <ul class="leading-relaxed mb-5 text-gray-600"><li>IC 2073 Richtung Berlin Südkreuz und in Bahnhof Wittenberge aussteigen.</li> \n        <li>Von dort den Bus 944 Richtung Lenzen, Mühlenweg</li> \n        <li>Ausstieg Wntdorf nehmen. Ab da sind es noch ca. 3 Minuten Fußweg.</li></ul></div></div>',C(n,"class","text-gray-600 body-font relative z-0")},m(t,e){E(t,n,e)},p:t,i:t,o:t,d(t){t&&T(n)}}}class xg extends Ct{constructor(t){super(),Ot(this,t,null,_g,a,{})}}const kg=(t,e,n,r=0)=>{let i=new Date(e,t,1);i.setDate(i.getDate()-i.getDay()+r);let o=11===t?0:t+1,s=[];for(;i.getMonth()!==o||i.getDay()!==r||6!==s.length;){i.getDay()===r&&s.unshift({days:[],id:`${e}${t}${e}${s.length}`});const o=Object.assign({partOfMonth:i.getMonth()===t,day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),date:new Date(i)},n(i));s[0].days.push(o),i.setDate(i.getDate()+1)}return s.reverse(),{month:t,year:e,weeks:s}};function Sg(t,e,n=null,r=0){t.setHours(0,0,0,0),e.setHours(0,0,0,0);let i=new Date(e.getFullYear(),e.getMonth()+1,1),o=[],s=new Date(t.getFullYear(),t.getMonth(),1),a=((t,e,n)=>{let r=new Date;return r.setHours(0,0,0,0),i=>{const o=i>=t&&i<=e;return{isInRange:o,selectable:o&&(!n||n(i)),isToday:i.getTime()===r.getTime()}}})(t,e,n);for(;s<i;)o.push(kg(s.getMonth(),s.getFullYear(),a,r)),s.setMonth(s.getMonth()+1);return o}const Ag=(t,e)=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear();function Ng(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function Dg(t,{delay:e=0,duration:n=400,easing:r=Xm,x:i=0,y:o=0,opacity:s=0}={}){const a=getComputedStyle(t),u=+a.opacity,c="none"===a.transform?"":a.transform,l=u*(1-s);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${u-l*e}`}}function Og(t,e,n){const r=t.slice();return r[7]=e[n],r}function Cg(t){let e,n,r,i,o,s,a=t[7].date.getDate()+"";function u(){return t[6](t[7])}return{c(){e=x("div"),n=x("button"),r=S(a),i=A(),C(n,"class","day--label svelte-1f2gkwh"),C(n,"type","button"),V(n,"selected",Ag(t[7].date,t[1])),V(n,"highlighted",Ag(t[7].date,t[2])),V(n,"shake-date",t[3]&&Ag(t[7].date,t[3])),V(n,"disabled",!t[7].selectable),C(e,"class","day svelte-1f2gkwh"),V(e,"outside-month",!t[7].partOfMonth),V(e,"is-today",t[7].isToday),V(e,"is-disabled",!t[7].selectable)},m(t,a){E(t,e,a),I(e,n),I(n,r),I(e,i),o||(s=D(n,"click",u),o=!0)},p(i,o){t=i,1&o&&a!==(a=t[7].date.getDate()+"")&&M(r,a),3&o&&V(n,"selected",Ag(t[7].date,t[1])),5&o&&V(n,"highlighted",Ag(t[7].date,t[2])),9&o&&V(n,"shake-date",t[3]&&Ag(t[7].date,t[3])),1&o&&V(n,"disabled",!t[7].selectable),1&o&&V(e,"outside-month",!t[7].partOfMonth),1&o&&V(e,"is-today",t[7].isToday),1&o&&V(e,"is-disabled",!t[7].selectable)},d(t){t&&T(e),o=!1,s()}}}function Pg(n){let r,i,a,u,c=n[0],l=[];for(let t=0;t<c.length;t+=1)l[t]=Cg(Og(n,c,t));return{c(){r=x("div");for(let t=0;t<l.length;t+=1)l[t].c();C(r,"class","week svelte-1f2gkwh")},m(t,e){E(t,r,e);for(let t=0;t<l.length;t+=1)l[t].m(r,null);u=!0},p(t,[e]){if(n=t,47&e){let t;for(c=n[0],t=0;t<c.length;t+=1){const i=Og(n,c,t);l[t]?l[t].p(i,e):(l[t]=Cg(i),l[t].c(),l[t].m(r,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=c.length}},i(o){u||(o&&ot((()=>{a&&a.end(1),i||(i=function(n,r,i){let o,a,u=r(n,i),c=!1,l=0;function h(){o&&B(n,o)}function f(){const{delay:r=0,duration:i=300,easing:s=e,tick:f=t,css:d}=u||wt;d&&(o=z(n,0,1,i,r,s,d,l++)),f(0,1);const p=m()+r,v=p+i;a&&a.abort(),c=!0,ot((()=>dt(n,!0,"start"))),a=w((t=>{if(c){if(t>=v)return f(1,0),dt(n,!0,"end"),h(),c=!1;if(t>=p){const e=s((t-p)/i);f(e,1-e)}}return c}))}let d=!1;return{start(){d||(B(n),s(u)?(u=u(),ft().then(f)):f())},invalidate(){d=!1},end(){c&&(h(),c=!1)}}}(r,Dg,{x:50*n[4],duration:180,delay:90})),i.start()})),u=!0)},o(n){i&&i.invalidate(),n&&(a=function(n,r,i){let a,u=r(n,i),c=!0;const l=vt;function h(){const{delay:r=0,duration:i=300,easing:s=e,tick:h=t,css:f}=u||wt;f&&(a=z(n,1,0,i,r,s,f));const d=m()+r,p=d+i;ot((()=>dt(n,!1,"start"))),w((t=>{if(c){if(t>=p)return h(0,1),dt(n,!1,"end"),--l.r||o(l.c),!1;if(t>=d){const e=s((t-d)/i);h(1-e,e)}}return c}))}return l.r+=1,s(u)?ft().then((()=>{u=u(),h()})):h(),{end(t){t&&u.tick&&u.tick(1,0),c&&(a&&B(n,a),c=!1)}}}(r,Ng,{duration:180})),u=!1},d(t){t&&T(r),_(l,t),t&&a&&a.end()}}}function Mg(t,e,n){const r=W();let{days:i}=e,{selected:o}=e,{highlighted:s}=e,{shouldShakeDate:a}=e,{direction:u}=e;return t.$$set=t=>{"days"in t&&n(0,i=t.days),"selected"in t&&n(1,o=t.selected),"highlighted"in t&&n(2,s=t.highlighted),"shouldShakeDate"in t&&n(3,a=t.shouldShakeDate),"direction"in t&&n(4,u=t.direction)},[i,o,s,a,u,r,t=>r("dateSelected",t.date)]}class Rg extends Ct{constructor(t){super(),Ot(this,t,Mg,Pg,a,{days:0,selected:1,highlighted:2,shouldShakeDate:3,direction:4})}}function Lg(t,e,n){const r=t.slice();return r[8]=e[n],r}function jg(t,e){let n,r,i;return r=new Rg({props:{days:e[8].days,selected:e[1],highlighted:e[2],shouldShakeDate:e[3],direction:e[4]}}),r.$on("dateSelected",e[7]),{key:t,first:null,c(){n=N(),At(r.$$.fragment),this.first=n},m(t,e){E(t,n,e),Nt(r,t,e),i=!0},p(t,n){e=t;const i={};1&n&&(i.days=e[8].days),2&n&&(i.selected=e[1]),4&n&&(i.highlighted=e[2]),8&n&&(i.shouldShakeDate=e[3]),16&n&&(i.direction=e[4]),r.$set(i)},i(t){i||(yt(r.$$.fragment,t),i=!0)},o(t){bt(r.$$.fragment,t),i=!1},d(t){t&&T(n),Dt(r,t)}}}function Vg(t){let e,n,r=[],i=new Map,o=t[0].weeks;const s=t=>t[8].id;for(let e=0;e<o.length;e+=1){let n=Lg(t,o,e),a=s(n);i.set(a,r[e]=jg(a,n))}return{c(){e=x("div");for(let t=0;t<r.length;t+=1)r[t].c();C(e,"class","month-container svelte-ny3kda")},m(t,i){E(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){31&n&&(o=t[0].weeks,mt(),r=_t(r,n,s,1,t,o,i,e,Tt,jg,null,Lg),gt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)yt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)bt(r[t]);n=!1},d(t){t&&T(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Fg(t,e,n){let r,{id:i}=e,{visibleMonth:o}=e,{selected:s}=e,{highlighted:a}=e,{shouldShakeDate:u}=e,c=i;return t.$$set=t=>{"id"in t&&n(5,i=t.id),"visibleMonth"in t&&n(0,o=t.visibleMonth),"selected"in t&&n(1,s=t.selected),"highlighted"in t&&n(2,a=t.highlighted),"shouldShakeDate"in t&&n(3,u=t.shouldShakeDate)},t.$$.update=()=>{96&t.$$.dirty&&(n(4,r=c<i?1:-1),n(6,c=i))},[o,s,a,u,r,i,c,function(e){X(t,e)}]}class Ug extends Ct{constructor(t){super(),Ot(this,t,Fg,Vg,a,{id:5,visibleMonth:0,selected:1,highlighted:2,shouldShakeDate:3})}}function $g(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function qg(t){let e,n,r,i,o,s,a=t[15].abbrev+"";function u(...e){return t[14](t[15],t[17],...e)}return{c(){e=x("div"),n=x("span"),r=S(a),i=A(),C(n,"class","svelte-1dqf106"),C(e,"class","month-selector--month svelte-1dqf106"),V(e,"selected",t[17]===t[0]),V(e,"selectable",t[15].selectable)},m(t,a){E(t,e,a),I(e,n),I(n,r),I(e,i),o||(s=D(e,"click",u),o=!0)},p(n,i){t=n,64&i&&a!==(a=t[15].abbrev+"")&&M(r,a),1&i&&V(e,"selected",t[17]===t[0]),64&i&&V(e,"selectable",t[15].selectable)},d(t){t&&T(e),o=!1,s()}}}function zg(e){let n,r,i,s,a,u,c,l,h,f,d,p,v,m,g=e[4][e[0]][0]+"",y=e[6],b=[];for(let t=0;t<y.length;t+=1)b[t]=qg($g(e,y,t));return{c(){n=x("div"),r=x("div"),i=x("div"),i.innerHTML='<i class="arrow left svelte-1dqf106"></i>',s=A(),a=x("div"),u=S(g),c=A(),l=S(e[1]),h=A(),f=x("div"),f.innerHTML='<i class="arrow right svelte-1dqf106"></i>',d=A(),p=x("div");for(let t=0;t<b.length;t+=1)b[t].c();C(i,"class","control svelte-1dqf106"),V(i,"enabled",e[3]),C(a,"class","label svelte-1dqf106"),C(f,"class","control svelte-1dqf106"),V(f,"enabled",e[2]),C(r,"class","heading-section svelte-1dqf106"),C(p,"class","month-selector svelte-1dqf106"),V(p,"open",e[5]),C(n,"class","title")},m(t,o){E(t,n,o),I(n,r),I(r,i),I(r,s),I(r,a),I(a,u),I(a,c),I(a,l),I(r,h),I(r,f),I(n,d),I(n,p);for(let t=0;t<b.length;t+=1)b[t].m(p,null);v||(m=[D(i,"click",e[12]),D(a,"click",e[8]),D(f,"click",e[13])],v=!0)},p(t,[e]){if(8&e&&V(i,"enabled",t[3]),17&e&&g!==(g=t[4][t[0]][0]+"")&&M(u,g),2&e&&M(l,t[1]),4&e&&V(f,"enabled",t[2]),577&e){let n;for(y=t[6],n=0;n<y.length;n+=1){const r=$g(t,y,n);b[n]?b[n].p(r,e):(b[n]=qg(r),b[n].c(),b[n].m(p,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=y.length}32&e&&V(p,"open",t[5])},i:t,o:t,d(t){t&&T(n),_(b,t),v=!1,o(m)}}}function Bg(t,e,n){const r=W();let i,{month:o}=e,{year:s}=e,{start:a}=e,{end:u}=e,{canIncrementMonth:c}=e,{canDecrementMonth:l}=e,{monthsOfYear:h}=e,f=!1;function d(){n(5,f=!f)}function p(t,{m:e,i:n}){t.stopPropagation(),e.selectable&&(r("monthSelected",n),d())}return t.$$set=t=>{"month"in t&&n(0,o=t.month),"year"in t&&n(1,s=t.year),"start"in t&&n(10,a=t.start),"end"in t&&n(11,u=t.end),"canIncrementMonth"in t&&n(2,c=t.canIncrementMonth),"canDecrementMonth"in t&&n(3,l=t.canDecrementMonth),"monthsOfYear"in t&&n(4,h=t.monthsOfYear)},t.$$.update=()=>{if(3090&t.$$.dirty){let t=a.getFullYear()===s,e=u.getFullYear()===s;n(6,i=h.map(((n,r)=>Object.assign({},{name:n[0],abbrev:n[1]},{selectable:!t&&!e||(!t||r>=a.getMonth())&&(!e||r<=u.getMonth())}))))}},[o,s,c,l,h,f,i,r,d,p,a,u,()=>r("incrementMonth",-1),()=>r("incrementMonth",1),(t,e,n)=>p(n,{m:t,i:e})]}class Hg extends Ct{constructor(t){super(),Ot(this,t,Bg,zg,a,{month:0,year:1,start:10,end:11,canIncrementMonth:2,canDecrementMonth:3,monthsOfYear:4})}}const{window:Gg}=Et,Yg=t=>({}),Kg=t=>({}),Wg=t=>({}),Xg=t=>({});function Jg(t){let e,n,r,i,s,a,u,c,h;ot(t[14]);const d=t[13].trigger,p=l(d,t,t[12],Xg),v=t[13].contents,m=l(v,t,t[12],Kg);return{c(){e=x("div"),n=x("div"),p&&p.c(),r=A(),i=x("div"),s=x("div"),a=x("div"),m&&m.c(),C(n,"class","trigger"),C(a,"class","contents-inner svelte-mc1z8c"),C(s,"class","contents svelte-mc1z8c"),C(i,"class","contents-wrapper svelte-mc1z8c"),L(i,"transform","translate(-50%,-50%) translate("+t[8]+"px, "+t[7]+"px)"),V(i,"visible",t[0]),V(i,"shrink",t[1]),C(e,"class","sc-popover svelte-mc1z8c")},m(o,l){E(o,e,l),I(e,n),p&&p.m(n,null),t[15](n),I(e,r),I(e,i),I(i,s),I(s,a),m&&m.m(a,null),t[16](s),t[17](i),t[18](e),u=!0,c||(h=[D(Gg,"resize",t[14]),D(n,"click",t[9])],c=!0)},p(t,[e]){p&&p.p&&4096&e&&f(p,d,t,t[12],e,Wg,Xg),m&&m.p&&4096&e&&f(m,v,t,t[12],e,Yg,Kg),(!u||384&e)&&L(i,"transform","translate(-50%,-50%) translate("+t[8]+"px, "+t[7]+"px)"),1&e&&V(i,"visible",t[0]),2&e&&V(i,"shrink",t[1])},i(t){u||(yt(p,t),yt(m,t),u=!0)},o(t){bt(p,t),bt(m,t),u=!1},d(n){n&&T(e),p&&p.d(n),t[15](null),m&&m.d(n),t[16](null),t[17](null),t[18](null),c=!1,o(h)}}}function Qg(t,e,n){let{$$slots:r={},$$scope:i}=e;const o=W();let s,a,u,c,l,h=(t,e,n)=>{t.addEventListener(e,(function r(){n.apply(this,arguments),t.removeEventListener(e,r)}))},f=0,d=0,{open:p=!1}=e,{shrink:v}=e,{trigger:m}=e;const g=()=>{n(1,v=!0),h(c,"animationend",(()=>{n(1,v=!1),n(0,p=!1),o("closed")}))};function y(t){if(!p)return;let e=t.target;do{if(e===s)return}while(e=e.parentNode);g()}Y((()=>{if(document.addEventListener("click",y),m)return u.appendChild(m.parentNode.removeChild(m)),()=>{document.removeEventListener("click",y)}}));const b=async()=>{let t,e,r=await(async()=>{p||n(0,p=!0),await it();let t=l.getBoundingClientRect();return{top:t.top+-1*f,bottom:window.innerHeight-t.bottom+f,left:t.left+-1*d,right:document.body.clientWidth-t.right+d}})();return e=a<480?r.bottom:r.top<0?Math.abs(r.top):r.bottom<0?r.bottom:0,t=r.left<0?Math.abs(r.left):r.right<0?r.right:0,{x:t,y:e}};return t.$$set=t=>{"open"in t&&n(0,p=t.open),"shrink"in t&&n(1,v=t.shrink),"trigger"in t&&n(10,m=t.trigger),"$$scope"in t&&n(12,i=t.$$scope)},[p,v,s,a,u,c,l,f,d,async()=>{const{x:t,y:e}=await b();n(8,d=t),n(7,f=e),n(0,p=!0),o("opened")},m,g,i,r,function(){n(3,a=Gg.innerWidth)},function(t){Q[t?"unshift":"push"]((()=>{u=t,n(4,u)}))},function(t){Q[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(t){Q[t?"unshift":"push"]((()=>{l=t,n(6,l)}))},function(t){Q[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}class Zg extends Ct{constructor(t){super(),Ot(this,t,Qg,Jg,a,{open:0,shrink:1,trigger:10,close:11})}get close(){return this.$$.ctx[11]}}const ty=(t,e,n)=>t.replace(new RegExp("#{"+e+"}","g"),n),ey=function(t,e,n){if(t=t.toString(),void 0===e)return t;if(t.length==e)return t;if(n=void 0!==n&&n,t.length<e)for(;e-t.length>0;)t="0"+t;else t.length>e&&(t=n?t.substring(t.length-e):t.substring(0,e));return t};let ny={daysOfWeek:[["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"],["Saturday","Sat"]],monthsOfYear:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]]};var ry=[{key:"d",method:function(t){return ey(t.getDate(),2)}},{key:"D",method:function(t){return ny.daysOfWeek[t.getDay()][1]}},{key:"j",method:function(t){return t.getDate()}},{key:"l",method:function(t){return ny.daysOfWeek[t.getDay()][0]}},{key:"F",method:function(t){return ny.monthsOfYear[t.getMonth()][0]}},{key:"m",method:function(t){return ey(t.getMonth()+1,2)}},{key:"M",method:function(t){return ny.monthsOfYear[t.getMonth()][1]}},{key:"n",method:function(t){return t.getMonth()+1}},{key:"Y",method:function(t){return t.getFullYear()}},{key:"y",method:function(t){return ey(t.getFullYear(),2,!0)}}],iy=[{key:"a",method:function(t){return t.getHours()>11?"pm":"am"}},{key:"A",method:function(t){return t.getHours()>11?"PM":"AM"}},{key:"g",method:function(t){return t.getHours()%12||12}},{key:"G",method:function(t){return t.getHours()}},{key:"h",method:function(t){return ey(t.getHours()%12||12,2)}},{key:"H",method:function(t){return ey(t.getHours(),2)}},{key:"i",method:function(t){return ey(t.getMinutes(),2)}},{key:"s",method:function(t){return ey(t.getSeconds(),2)}}];const oy=(t={})=>{(t=>{Object.keys(t).forEach((e=>{ny[e]&&ny[e].length==t[e].length&&(ny[e]=t[e])}))})(t)},sy={left:37,up:38,right:39,down:40,pgup:33,pgdown:34,enter:13,escape:27,tab:9},ay=Object.keys(sy).map((t=>sy[t]));function uy(t,e,n){const r=t.slice();return r[63]=e[n],r}const cy=t=>({selected:1&t[0],formattedSelected:4&t[0]}),ly=t=>({selected:t[0],formattedSelected:t[2]});function hy(t){let e,n;return{c(){e=x("button"),n=S(t[2]),C(e,"class","calendar-button svelte-1lorc63"),C(e,"type","button")},m(t,r){E(t,e,r),I(e,n)},p(t,e){4&e[0]&&M(n,t[2])},d(t){t&&T(e)}}}function fy(t){let e,n;const r=t[40].default,i=l(r,t,t[47],ly),o=i||function(t){let e,n=!t[1]&&hy(t);return{c(){n&&n.c(),e=N()},m(t,r){n&&n.m(t,r),E(t,e,r)},p(t,r){t[1]?n&&(n.d(1),n=null):n?n.p(t,r):(n=hy(t),n.c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&T(e)}}}(t);return{c(){e=x("div"),o&&o.c(),C(e,"slot","trigger"),C(e,"class","svelte-1lorc63")},m(t,r){E(t,e,r),o&&o.m(e,null),n=!0},p(t,e){i?i.p&&5&e[0]|65536&e[1]&&f(i,r,t,t[47],e,cy,ly):o&&o.p&&6&e[0]&&o.p(t,e)},i(t){n||(yt(o,t),n=!0)},o(t){bt(o,t),n=!1},d(t){t&&T(e),o&&o.d(t)}}}function dy(e){let n,r,i=e[63][1]+"";return{c(){n=x("span"),r=S(i),C(n,"class","svelte-1lorc63")},m(t,e){E(t,n,e),I(n,r)},p:t,d(t){t&&T(n)}}}function py(t){let e,n,r,i,o,s,a,u;r=new Hg({props:{month:t[6],year:t[7],canIncrementMonth:t[15],canDecrementMonth:t[16],start:t[3],end:t[4],monthsOfYear:t[5]}}),r.$on("monthSelected",t[41]),r.$on("incrementMonth",t[42]);let c=t[18],l=[];for(let e=0;e<c.length;e+=1)l[e]=dy(uy(t,c,e));return a=new Ug({props:{visibleMonth:t[8],selected:t[0],highlighted:t[10],shouldShakeDate:t[11],id:t[14]}}),a.$on("dateSelected",t[43]),{c(){e=x("div"),n=x("div"),At(r.$$.fragment),i=A(),o=x("div");for(let t=0;t<l.length;t+=1)l[t].c();s=A(),At(a.$$.fragment),C(o,"class","legend svelte-1lorc63"),C(n,"class","calendar svelte-1lorc63"),C(e,"slot","contents"),C(e,"class","svelte-1lorc63")},m(t,c){E(t,e,c),I(e,n),Nt(r,n,null),I(n,i),I(n,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);I(n,s),Nt(a,n,null),u=!0},p(t,e){const n={};if(64&e[0]&&(n.month=t[6]),128&e[0]&&(n.year=t[7]),32768&e[0]&&(n.canIncrementMonth=t[15]),65536&e[0]&&(n.canDecrementMonth=t[16]),8&e[0]&&(n.start=t[3]),16&e[0]&&(n.end=t[4]),32&e[0]&&(n.monthsOfYear=t[5]),r.$set(n),262144&e[0]){let n;for(c=t[18],n=0;n<c.length;n+=1){const r=uy(t,c,n);l[n]?l[n].p(r,e):(l[n]=dy(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=c.length}const i={};256&e[0]&&(i.visibleMonth=t[8]),1&e[0]&&(i.selected=t[0]),1024&e[0]&&(i.highlighted=t[10]),2048&e[0]&&(i.shouldShakeDate=t[11]),16384&e[0]&&(i.id=t[14]),a.$set(i)},i(t){u||(yt(r.$$.fragment,t),yt(a.$$.fragment,t),u=!0)},o(t){bt(r.$$.fragment,t),bt(a.$$.fragment,t),u=!1},d(t){t&&T(e),Dt(r),_(l,t),Dt(a)}}}function vy(e){let n;return{c(){n=A()},m(t,e){E(t,n,e)},p:t,i:t,o:t,d(t){t&&T(n)}}}function my(t){let e,n,r,i,o;function s(e){t[45](e)}function a(e){t[46](e)}let u={trigger:t[1],$$slots:{default:[vy],contents:[py],trigger:[fy]},$$scope:{ctx:t}};return void 0!==t[12]&&(u.open=t[12]),void 0!==t[13]&&(u.shrink=t[13]),n=new Zg({props:u}),t[44](n),Q.push((()=>St(n,"open",s))),Q.push((()=>St(n,"shrink",a))),n.$on("opened",t[23]),n.$on("closed",t[22]),{c(){e=x("div"),At(n.$$.fragment),C(e,"class","datepicker svelte-1lorc63"),C(e,"style",t[17]),V(e,"open",t[12]),V(e,"closing",t[13])},m(t,r){E(t,e,r),Nt(n,e,null),o=!0},p(t,s){const a={};2&s[0]&&(a.trigger=t[1]),118271&s[0]|65536&s[1]&&(a.$$scope={dirty:s,ctx:t}),!r&&4096&s[0]&&(r=!0,a.open=t[12],st((()=>r=!1))),!i&&8192&s[0]&&(i=!0,a.shrink=t[13],st((()=>i=!1))),n.$set(a),(!o||131072&s[0])&&C(e,"style",t[17]),4096&s[0]&&V(e,"open",t[12]),8192&s[0]&&V(e,"closing",t[13])},i(t){o||(yt(n.$$.fragment,t),o=!0)},o(t){bt(n.$$.fragment,t),o=!1},d(r){r&&T(e),t[44](null),Dt(n)}}}function gy(t,e,n){let r,i,o,s,a,u,c,l,{$$slots:h={},$$scope:f}=e;const d=W(),p=new Date,v=31536e6;let m,{format:g="#{m}/#{d}/#{Y}"}=e,{start:y=new Date(Date.now()-v)}=e,{end:b=new Date(Date.now()+v)}=e,{selected:w=p}=e,{dateChosen:I=!1}=e,{trigger:E=null}=e,{selectableCallback:T=null}=e,{weekStart:_=0}=e,{daysOfWeek:x=[["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"],["Saturday","Sat"]]}=e,{monthsOfYear:k=[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]]}=e;w=w.getTime()<y.getTime()||w.getTime()>b.getTime()?y:w;let{style:S=""}=e,{buttonBackgroundColor:A="#fff"}=e,{buttonBorderColor:N="#eee"}=e,{buttonTextColor:D="#333"}=e,{highlightColor:O="#f7901e"}=e,{dayBackgroundColor:C="none"}=e,{dayTextColor:P="#4a4a4a"}=e,{dayHighlightedBackgroundColor:M="#efefef"}=e,{dayHighlightedTextColor:R="#4a4a4a"}=e;oy({daysOfWeek:x,monthsOfYear:k});let L,j=0===_?x:(()=>{let t=x.slice();return t.push(t.shift()),t})(),V=p,F=!1,U=p.getMonth(),$=p.getFullYear(),q=!1,z=!1;p.setHours(0,0,0,0);let B=0,{formattedSelected:H}=e;function G(t){n(6,U=t),n(10,V=new Date($,U,1))}function K(t,e=1){if(1===t&&!u)return;if(-1===t&&!c)return;let r=new Date($,U,1);r.setMonth(r.getMonth()+t),n(6,U=r.getMonth()),n(7,$=r.getFullYear()),n(10,V=new Date($,U,e))}Y((()=>{n(6,U=w.getMonth()),n(7,$=w.getFullYear())}));const X=(t,e,n)=>{let i=r.find((e=>e.month===t&&e.year===n));if(!i)return null;for(let r=0;r<i.weeks.length;++r)for(let o=0;o<i.weeks[r].days.length;++o){let s=i.weeks[r].days[o];if(s.month===t&&s.day===e&&s.year===n)return s}return null};function J(t){let e=new Date(V);e.setDate(V.getDate()+t);let r=X(e.getMonth(),e.getDate(),e.getFullYear());r&&r.isInRange&&(n(10,V=e),t>0&&V>s&&K(1,V.getDate()),t<0&&V<a&&K(-1,V.getDate()))}function Z(t){!function(t){E&&n(1,E.innerHTML=t,E)}(t)}function tt(t){return function(t){const e=X(t.getMonth(),t.getDate(),t.getFullYear());return e&&e.selectable}(t)?(rt(),n(0,w=t),n(24,I=!0),Z(H),d("dateSelected",{date:t})):(e=t,clearTimeout(L),n(11,F=e),void(L=setTimeout((()=>{n(11,F=!1)}),700)));var e}function et(t){if(-1!==ay.indexOf(t.keyCode))switch(t.preventDefault(),t.keyCode){case sy.left:J(-1);break;case sy.up:J(-7);break;case sy.right:J(1);break;case sy.down:J(7);break;case sy.pgup:K(-1);break;case sy.pgdown:K(1);break;case sy.escape:rt();break;case sy.enter:tt(V)}}function nt(){document.removeEventListener("keydown",et),d("close")}function rt(){m.close(),nt()}return t.$$set=t=>{"format"in t&&n(25,g=t.format),"start"in t&&n(3,y=t.start),"end"in t&&n(4,b=t.end),"selected"in t&&n(0,w=t.selected),"dateChosen"in t&&n(24,I=t.dateChosen),"trigger"in t&&n(1,E=t.trigger),"selectableCallback"in t&&n(26,T=t.selectableCallback),"weekStart"in t&&n(27,_=t.weekStart),"daysOfWeek"in t&&n(28,x=t.daysOfWeek),"monthsOfYear"in t&&n(5,k=t.monthsOfYear),"style"in t&&n(29,S=t.style),"buttonBackgroundColor"in t&&n(30,A=t.buttonBackgroundColor),"buttonBorderColor"in t&&n(31,N=t.buttonBorderColor),"buttonTextColor"in t&&n(32,D=t.buttonTextColor),"highlightColor"in t&&n(33,O=t.highlightColor),"dayBackgroundColor"in t&&n(34,C=t.dayBackgroundColor),"dayTextColor"in t&&n(35,P=t.dayTextColor),"dayHighlightedBackgroundColor"in t&&n(36,M=t.dayHighlightedBackgroundColor),"dayHighlightedTextColor"in t&&n(37,R=t.dayHighlightedTextColor),"formattedSelected"in t&&n(2,H=t.formattedSelected),"$$scope"in t&&n(47,f=t.$$scope)},t.$$.update=()=>{if(201326616&t.$$.dirty[0]&&n(39,r=Sg(y,b,T,_)),192&t.$$.dirty[0]|256&t.$$.dirty[1]){n(38,B=0);for(let t=0;t<r.length;t+=1)r[t].month===U&&r[t].year===$&&n(38,B=t)}384&t.$$.dirty[1]&&n(8,i=r[B]),192&t.$$.dirty[0]&&n(14,o=$+U/100),256&t.$$.dirty[0]&&(s=i.weeks[i.weeks.length-1].days[6].date),256&t.$$.dirty[0]&&(a=i.weeks[0].days[0].date),384&t.$$.dirty[1]&&n(15,u=B<r.length-1),128&t.$$.dirty[1]&&n(16,c=B>0),1610612736&t.$$.dirty[0]|127&t.$$.dirty[1]&&n(17,l=`\n    --button-background-color: ${A};\n    --button-border-color: ${N};\n    --button-text-color: ${D};\n    --highlight-color: ${O};\n    --day-background-color: ${C};\n    --day-text-color: ${P};\n    --day-highlighted-background-color: ${M};\n    --day-highlighted-text-color: ${R};\n    ${S}\n  `),33554433&t.$$.dirty[0]&&n(2,H="function"==typeof g?g(w):((t,e="#{m}/#{d}/#{Y}")=>(ry.forEach((n=>{-1!=e.indexOf(`#{${n.key}}`)&&(e=ty(e,n.key,n.method(t)))})),iy.forEach((n=>{-1!=e.indexOf(`#{${n.key}}`)&&(e=ty(e,n.key,n.method(t)))})),e))(w,g))},[w,E,H,y,b,k,U,$,i,m,V,F,q,z,o,u,c,l,j,G,K,tt,nt,function(){n(10,V=new Date(w)),n(6,U=w.getMonth()),n(7,$=w.getFullYear()),document.addEventListener("keydown",et),d("open")},I,g,T,_,x,S,A,N,D,O,C,P,M,R,B,r,h,t=>G(t.detail),t=>K(t.detail),t=>tt(t.detail),function(t){Q[t?"unshift":"push"]((()=>{m=t,n(9,m)}))},function(t){q=t,n(12,q)},function(t){z=t,n(13,z)},f]}class yy extends Ct{constructor(t){super(),Ot(this,t,gy,my,a,{format:25,start:3,end:4,selected:0,dateChosen:24,trigger:1,selectableCallback:26,weekStart:27,daysOfWeek:28,monthsOfYear:5,style:29,buttonBackgroundColor:30,buttonBorderColor:31,buttonTextColor:32,highlightColor:33,dayBackgroundColor:34,dayTextColor:35,dayHighlightedBackgroundColor:36,dayHighlightedTextColor:37,formattedSelected:2},[-1,-1,-1])}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function by(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var wy=by((function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",i="day",o="week",s="month",a="quarter",u="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},p={s:d,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+d(r,2,"0")+":"+d(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,s),o=n-i<0,a=e.clone().add(r+(o?-1:1),s);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:s,y:u,w:o,d:i,D:c,h:r,m:n,s:e,ms:t,Q:a}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",m={};m[v]=f;var g=function(t){return t instanceof I},y=function(t,e,n){var r;if(!t)return v;if("string"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return!n&&r&&(v=r),r||!n&&v},b=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new I(n)},w=p;w.l=y,w.i=g,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var I=function(){function f(t){this.$L=y(t.locale,null,!0),this.parse(t)}var d=f.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return w},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return b(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<b(t)},d.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,a){var l=this,h=!!w.u(a)||a,f=w.p(t),d=function(t,e){var n=w.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return h?n:n.endOf(i)},p=function(t,e){return w.w(l.toDate()[t].apply(l.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case u:return h?d(1,0):d(31,11);case s:return h?d(1,m):d(0,m+1);case o:var b=this.$locale().weekStart||0,I=(v<b?v+7:v)-b;return d(h?g-I:g+(6-I),m);case i:case c:return p(y+"Hours",0);case r:return p(y+"Minutes",1);case n:return p(y+"Seconds",2);case e:return p(y+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(o,a){var l,h=w.p(o),f="set"+(this.$u?"UTC":""),d=(l={},l[i]=f+"Date",l[c]=f+"Date",l[s]=f+"Month",l[u]=f+"FullYear",l[r]=f+"Hours",l[n]=f+"Minutes",l[e]=f+"Seconds",l[t]=f+"Milliseconds",l)[h],p=h===i?this.$D+(a-this.$W):a;if(h===s||h===u){var v=this.clone().set(c,1);v.$d[d](p),v.init(),this.$d=v.set(c,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[w.p(t)]()},d.add=function(t,a){var c,l=this;t=Number(t);var h=w.p(a),f=function(e){var n=b(l);return w.w(n.date(n.date()+Math.round(e*t)),l)};if(h===s)return this.set(s,this.$M+t);if(h===u)return this.set(u,this.$y+t);if(h===i)return f(1);if(h===o)return f(7);var d=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[h]||1,p=this.$d.getTime()+t*d;return w.w(p,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,u=i.weekdays,c=i.months,l=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},f=function(t){return w.s(o%12||12,t,"0")},d=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:l(i.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,u,2),ddd:l(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:w.s(o,2,"0"),h:f(1),hh:f(2),a:d(o,s,!0),A:d(o,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(h,(function(t,e){return e||p[t]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,c,l){var h,f=w.p(c),d=b(t),p=6e4*(d.utcOffset()-this.utcOffset()),v=this-d,m=w.m(this,d);return m=(h={},h[u]=m/12,h[s]=m,h[a]=m/3,h[o]=(v-p)/6048e5,h[i]=(v-p)/864e5,h[r]=v/36e5,h[n]=v/6e4,h[e]=v/1e3,h)[f]||v,l?m:w.a(m)},d.daysInMonth=function(){return this.endOf(s).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return w.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},f}(),E=I.prototype;return b.prototype=E,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",s],["$y",u],["$D",c]].forEach((function(t){E[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,I,b),t.$i=!0),b},b.locale=y,b.isDayjs=g,b.unix=function(t){return b(1e3*t)},b.en=m[v],b.Ls=m,b.p={},b}()}));function Iy(t,e,n){const r=t.slice();return r[4]=e[n],r}function Ey(t){let e,n,r,i=t[4].label+"";return{c(){e=x("option"),n=S(i),e.__value=r=t[4].label,e.value=e.__value},m(t,r){E(t,e,r),I(e,n)},p(t,o){2&o&&i!==(i=t[4].label+"")&&M(n,i),2&o&&r!==(r=t[4].label)&&(e.__value=r,e.value=e.__value)},d(t){t&&T(e)}}}function Ty(e){let n,r,i,o=e[1],s=[];for(let t=0;t<o.length;t+=1)s[t]=Ey(Iy(e,o,t));return{c(){n=x("select");for(let t=0;t<s.length;t+=1)s[t].c();C(n,"class","border w-full px-2 py-4"),void 0===e[0]&&ot((()=>e[2].call(n)))},m(t,o){E(t,n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null);j(n,e[0]),r||(i=D(n,"change",e[2]),r=!0)},p(t,[e]){if(2&e){let r;for(o=t[1],r=0;r<o.length;r+=1){const i=Iy(t,o,r);s[r]?s[r].p(i,e):(s[r]=Ey(i),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}3&e&&j(n,t[0])},i:t,o:t,d(t){t&&T(n),_(s,t),r=!1,i()}}}function _y(t,e,n){W();let{times:r}=e,{selected:i}=e;return t.$$set=t=>{"times"in t&&n(1,r=t.times),"selected"in t&&n(0,i=t.selected)},[i,r,function(){i=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,i),n(1,r)}]}class xy extends Ct{constructor(t){super(),Ot(this,t,_y,Ty,a,{times:1,selected:0})}}function ky(t){let e,n,r,i,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,N,O,P,L,j,V,F,U,$,q,z,B,H,G,Y,K;function W(e){t[14](e)}function X(e){t[15](e)}function J(e){t[16](e)}let Z={format:t[13],daysOfWeek:t[5],monthsOfYear:t[6]};function tt(e){t[17](e)}void 0!==t[7]&&(Z.selected=t[7]),void 0!==t[0]&&(Z.formattedSelected=t[0]),void 0!==t[8]&&(Z.dateChosen=t[8]),h=new yy({props:Z}),Q.push((()=>St(h,"selected",W))),Q.push((()=>St(h,"formattedSelected",X))),Q.push((()=>St(h,"dateChosen",J)));let et={times:t[9]};return void 0!==t[2]&&(et.selected=t[2]),m=new xy({props:et}),Q.push((()=>St(m,"selected",tt))),{c(){e=x("div"),n=x("div"),r=x("div"),r.innerHTML='<h2 class="text-2xl">Mitfahrgelegenheit anbieten</h2>',i=A(),s=x("div"),s.innerHTML="<p>Hier kannst du deine Mitfahrgelegenheit anbieten. Freigeschaltete\n        Nutties sehen dein Angebot und können dich über deine Handynummer\n        kontaktieren. Du kannst nur eine Mitfahrangelegenheit anbieten.</p>",a=A(),u=x("form"),c=x("input"),l=A(),At(h.$$.fragment),v=A(),At(m.$$.fragment),y=A(),b=x("div"),w=x("button"),_=S("-"),N=A(),O=x("span"),P=S(t[3]),L=S(" Mitfahrer"),j=A(),V=x("button"),V.textContent="+",F=A(),U=x("textarea"),$=A(),q=x("div"),z=x("button"),z.textContent="Anbieten",B=A(),H=x("button"),H.textContent="Abbrechen",C(r,"class","mb-4"),C(s,"class","mb-8"),C(c,"type","text"),C(c,"placeholder","Start..."),C(c,"class","border w-full px-2 py-4"),C(w,"class","bg-blue-1000 px-4 py-4 text-lg text-white"),w.disabled=k=0===t[3],C(V,"class","bg-blue-1000 px-4 py-4 text-lg text-white"),C(b,"class","flex justify-between space-x-4 items-center"),C(U,"type","text"),C(U,"placeholder","Zusatzinfos (optional)"),C(U,"class","resize-none border w-full px-2 py-4"),C(z,"class","flex-no-shrink text-white px-2 py-4 w-full rounded bg-green-400 hover:bg-green-600 focus:outline-none"),C(z,"type","submit"),C(H,"class","flex-no-shrink text-white px-2 py-4 w-full rounded bg-red-400 hover:bg-red-600 focus:outline-none"),C(q,"class","flex w-full justify-evenly space-x-4"),C(u,"class","space-y-4"),C(n,"class","absolute z-50 overflow-auto bg-white rounded shadow-lg p-5 m-4 max-w-lg max-h-full text-center"),C(e,"class","fixed z-50 top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-blue-500 bg-opacity-50")},m(o,f){E(o,e,f),I(e,n),I(n,r),I(n,i),I(n,s),I(n,a),I(n,u),I(u,c),R(c,t[1]),I(u,l),Nt(h,u,null),I(u,v),Nt(m,u,null),I(u,y),I(u,b),I(b,w),I(w,_),I(b,N),I(b,O),I(O,P),I(O,L),I(b,j),I(b,V),I(u,F),I(u,U),R(U,t[4]),I(u,$),I(u,q),I(q,z),I(q,B),I(q,H),G=!0,Y||(K=[D(c,"input",t[12]),D(w,"click",t[18]),D(V,"click",t[19]),D(U,"input",t[20]),D(z,"click",t[10]),D(H,"click",t[11])],Y=!0)},p(t,[e]){2&e&&c.value!==t[1]&&R(c,t[1]);const n={};32&e&&(n.daysOfWeek=t[5]),64&e&&(n.monthsOfYear=t[6]),!f&&128&e&&(f=!0,n.selected=t[7],st((()=>f=!1))),!d&&1&e&&(d=!0,n.formattedSelected=t[0],st((()=>d=!1))),!p&&256&e&&(p=!0,n.dateChosen=t[8],st((()=>p=!1))),h.$set(n);const r={};!g&&4&e&&(g=!0,r.selected=t[2],st((()=>g=!1))),m.$set(r),(!G||8&e&&k!==(k=0===t[3]))&&(w.disabled=k),(!G||8&e)&&M(P,t[3]),16&e&&R(U,t[4])},i(t){G||(yt(h.$$.fragment,t),yt(m.$$.fragment,t),G=!0)},o(t){bt(h.$$.fragment,t),bt(m.$$.fragment,t),G=!1},d(t){t&&T(e),Dt(h),Dt(m),Y=!1,o(K)}}}function Sy(t,e,n){const r=W();let i,{daysOfWeek:o=[["Sonntag","So"],["Montag","Mo"],["Dienstag","Di"],["Mittwoch","Mi"],["Donnerstag","Do"],["Freitag","Fr"],["Samstag","Sa"]]}=e,{monthsOfYear:s=[["Januar","Jan"],["Februar","Feb"],["März","Mär"],["April","Apr"],["Mai","Mai"],["Juni","Jun"],["Juli","Jul"],["August","Aug"],["September","Sep"],["Oktober","Okt"],["November","Nov"],["Dezember","Dez"]]}=e,{formattedSelected:a}=e,u=!1;let{startFrom:c}=e,{uhrzeit:l}=e,{counter:h=0}=e,{zusatzinfos:f}=e;return t.$$set=t=>{"daysOfWeek"in t&&n(5,o=t.daysOfWeek),"monthsOfYear"in t&&n(6,s=t.monthsOfYear),"formattedSelected"in t&&n(0,a=t.formattedSelected),"startFrom"in t&&n(1,c=t.startFrom),"uhrzeit"in t&&n(2,l=t.uhrzeit),"counter"in t&&n(3,h=t.counter),"zusatzinfos"in t&&n(4,f=t.zusatzinfos)},[a,c,l,h,f,o,s,i,u,[{value:"0800",label:"08:00"},{value:"0900",label:"09:00"},{value:"1000",label:"10:00"},{value:"1100",label:"11:00"},{value:"1200",label:"12:00"},{value:"1300",label:"13:00"},{value:"1400",label:"14:00"},{value:"1500",label:"15:00"},{value:"1600",label:"16:00"},{value:"1700",label:"17:00"},{value:"1800",label:"18:00"},{value:"1900",label:"19:00"},{value:"2000",label:"20:00"},{value:"2100",label:"21:00"},{value:"2200",label:"22:00"}],function(){r("neueMitfahrgelegenheit")},function(){r("close")},function(){c=this.value,n(1,c)},t=>wy(t).format("DD.MM.YYYY"),function(t){i=t,n(7,i)},function(t){a=t,n(0,a)},function(t){u=t,n(8,u)},function(t){l=t,n(2,l)},()=>n(3,h-=1),()=>n(3,h+=1),function(){f=this.value,n(4,f)}]}class Ay extends Ct{constructor(t){super(),Ot(this,t,Sy,ky,a,{daysOfWeek:5,monthsOfYear:6,formattedSelected:0,startFrom:1,uhrzeit:2,counter:3,zusatzinfos:4})}}const Ny=jm({message:"",color:""});function Dy(e){let n,r,i,s,a,u;return{c(){n=x("div"),r=x("button"),r.innerHTML='<svg class="z-0 h-6 w-6 text-red-500 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',i=A(),s=x("button"),s.innerHTML='<svg class="h-6 w-6 text-gray-500 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>',C(r,"class","inline-block rounded-full text-white bg-gray-100 text-xs font-bold mr-1 md:mr-2 mb-2 px-2 md:px-4 py-1 opacity-90"),C(s,"class","inline-block rounded-full text-white bg-gray-100 text-xs font-bold mr-1 md:mr-2 mb-2 px-2 md:px-4 py-1 opacity-90"),C(n,"class","")},m(t,o){E(t,n,o),I(n,r),I(n,i),I(n,s),a||(u=[D(r,"click",e[9]),D(s,"click",e[10])],a=!0)},p:t,d(t){t&&T(n),a=!1,o(u)}}}function Oy(e){let n,r,i,o,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,N,D,O,P,R,L,j,V,F=e[6]===e[8].uid&&Dy(e);return{c(){n=x("div"),r=x("div"),i=x("span"),o=S("Von "),s=S(e[5]),a=S(" - am "),u=S(e[0]),c=S(" - um "),l=S(e[7]),h=A(),F&&F.c(),f=A(),d=x("div"),p=x("h2"),v=S("Angeboten von: "),m=x("span"),g=S(e[2]),y=A(),b=x("h2"),w=S("Handynummer: "),_=x("span"),k=S(e[3]),N=A(),D=x("h2"),O=S("Mitfahrer: "),P=x("span"),R=S(e[1]),L=A(),j=x("p"),V=S(e[4]),C(i,"class","text-xl font-light text-gray-600 dark:text-gray-400 mb-4"),C(r,"class","grid grid-cols-1"),C(m,"class","text-xl font-bold text-gray-700 "),C(p,"class","text-md text-gray-700"),C(_,"class","text-xl font-bold text-gray-700 "),C(b,"class","text-md text-gray-700"),C(P,"class","text-xl font-bold text-gray-700 "),C(D,"class","text-md text-gray-700"),C(j,"class","mt-2 text-gray-600"),C(d,"class","mt-2"),C(n,"class","max-w-2xl px-4 md:px-8 py-4 mx-auto bg-white rounded-lg mb-4 border shadow-md")},m(t,e){E(t,n,e),I(n,r),I(r,i),I(i,o),I(i,s),I(i,a),I(i,u),I(i,c),I(i,l),I(r,h),F&&F.m(r,null),I(n,f),I(n,d),I(d,p),I(p,v),I(p,m),I(m,g),I(d,y),I(d,b),I(b,w),I(b,_),I(_,k),I(d,N),I(d,D),I(D,O),I(D,P),I(P,R),I(d,L),I(d,j),I(j,V)},p(t,[e]){32&e&&M(s,t[5]),1&e&&M(u,t[0]),128&e&&M(l,t[7]),t[6]===t[8].uid?F?F.p(t,e):(F=Dy(t),F.c(),F.m(r,null)):F&&(F.d(1),F=null),4&e&&M(g,t[2]),8&e&&M(k,t[3]),2&e&&M(R,t[1]),16&e&&M(V,t[4])},i:t,o:t,d(t){t&&T(n),F&&F.d()}}}function Cy(t,e,n){const r=W();let{datum:i}=e,{mitfahrer:o}=e,{vorname:s}=e,{handynummer:a}=e,{zusatzinfos:u}=e,{abfahrt:c}=e,{uid:l}=e,{uhrzeit:h}=e,{profileData:f}=e;return t.$$set=t=>{"datum"in t&&n(0,i=t.datum),"mitfahrer"in t&&n(1,o=t.mitfahrer),"vorname"in t&&n(2,s=t.vorname),"handynummer"in t&&n(3,a=t.handynummer),"zusatzinfos"in t&&n(4,u=t.zusatzinfos),"abfahrt"in t&&n(5,c=t.abfahrt),"uid"in t&&n(6,l=t.uid),"uhrzeit"in t&&n(7,h=t.uhrzeit),"profileData"in t&&n(8,f=t.profileData)},[i,o,s,a,u,c,l,h,f,function(){r("deleteMifa",{uid:l})},function(){r("editMifa",{uid:l})}]}class Py extends Ct{constructor(t){super(),Ot(this,t,Cy,Oy,a,{datum:0,mitfahrer:1,vorname:2,handynummer:3,zusatzinfos:4,abfahrt:5,uid:6,uhrzeit:7,profileData:8})}}function My(t,e,n){const r=t.slice();return r[25]=e[n],r}function Ry(e){let n,r,i,o;return{c(){n=x("section"),r=x("button"),r.textContent="Mitfahrgelegenheit anbieten",C(r,"class","px-2 py-4 bg-blue-200"),C(n,"class","border-2 shadow-md m-4 p-4 flex justify-center")},m(t,s){E(t,n,s),I(n,r),i||(o=D(r,"click",e[20]),i=!0)},p:t,i:t,o:t,d(t){t&&T(n),i=!1,o()}}}function Ly(t){let e,n,r,i,o,s,a;function u(e){t[14](e)}function c(e){t[15](e)}function l(e){t[16](e)}function h(e){t[17](e)}function f(e){t[18](e)}let d={};return void 0!==t[1]&&(d.startFrom=t[1]),void 0!==t[2]&&(d.formattedSelected=t[2]),void 0!==t[3]&&(d.uhrzeit=t[3]),void 0!==t[4]&&(d.counter=t[4]),void 0!==t[5]&&(d.zusatzinfos=t[5]),e=new Ay({props:d}),Q.push((()=>St(e,"startFrom",u))),Q.push((()=>St(e,"formattedSelected",c))),Q.push((()=>St(e,"uhrzeit",l))),Q.push((()=>St(e,"counter",h))),Q.push((()=>St(e,"zusatzinfos",f))),e.$on("close",t[19]),e.$on("neueMitfahrgelegenheit",t[10]),{c(){At(e.$$.fragment)},m(t,n){Nt(e,t,n),a=!0},p(t,a){const u={};!n&&2&a&&(n=!0,u.startFrom=t[1],st((()=>n=!1))),!r&&4&a&&(r=!0,u.formattedSelected=t[2],st((()=>r=!1))),!i&&8&a&&(i=!0,u.uhrzeit=t[3],st((()=>i=!1))),!o&&16&a&&(o=!0,u.counter=t[4],st((()=>o=!1))),!s&&32&a&&(s=!0,u.zusatzinfos=t[5],st((()=>s=!1))),e.$set(u)},i(t){a||(yt(e.$$.fragment,t),a=!0)},o(t){bt(e.$$.fragment,t),a=!1},d(t){Dt(e,t)}}}function jy(t){let e,n,r,i,o=[],s=new Map,a=t[8];const u=t=>t[25].uid;for(let e=0;e<a.length;e+=1){let n=My(t,a,e),r=u(n);s.set(r,o[e]=Vy(r,n))}return{c(){e=x("section"),n=x("div"),r=x("div");for(let t=0;t<o.length;t+=1)o[t].c();C(r,"class","grid grid-cols-1 md:grid-cols-2"),C(n,"class","text-gray-600 body-font"),C(e,"class","border-2 shadow-md m-4 p-4")},m(t,s){E(t,e,s),I(e,n),I(n,r);for(let t=0;t<o.length;t+=1)o[t].m(r,null);i=!0},p(t,e){6401&e&&(a=t[8],mt(),o=_t(o,e,u,1,t,a,s,r,Tt,Vy,null,My),gt())},i(t){if(!i){for(let t=0;t<a.length;t+=1)yt(o[t]);i=!0}},o(t){for(let t=0;t<o.length;t+=1)bt(o[t]);i=!1},d(t){t&&T(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Vy(t,e){let r,i,o;const s=[e[25],{profileData:e[0]}];let a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return i=new Py({props:a}),i.$on("deleteMifa",e[11]),i.$on("editMifa",e[12]),{key:t,first:null,c(){r=N(),At(i.$$.fragment),this.first=r},m(t,e){E(t,r,e),Nt(i,t,e),o=!0},p(t,n){e=t;const r=257&n?xt(s,[256&n&&kt(e[25]),1&n&&{profileData:e[0]}]):{};i.$set(r)},i(t){o||(yt(i.$$.fragment,t),o=!0)},o(t){bt(i.$$.fragment,t),o=!1},d(t){t&&T(r),Dt(i,t)}}}function Fy(t){let e,n,r,i,o,s,a,u,c,l;i=new xg({});const h=[Ly,Ry],f=[];function d(t,e){return t[6]?0:t[7]?-1:1}~(s=d(t))&&(a=f[s]=h[s](t));let p=t[8].length>0&&jy(t);return{c(){e=x("section"),e.innerHTML='<div class="container flex justify-center"><div class="space-y-4 px-5"><span class="block text-2xl text-gray-900 text-center">Anfahrt &amp; Mitfahrgelegenheiten</span> \n      <span class="block text-lg text-gray-700 max-w-prose text-center">Du fährst mit dem Auto zum Atomic Chestnut und hast noch Plätze frei?</span></div></div>',n=A(),r=x("section"),At(i.$$.fragment),o=A(),a&&a.c(),u=A(),p&&p.c(),c=N(),C(e,"class","border-2 shadow-md m-4 p-4"),C(r,"class","border-2 shadow-md m-4 p-4 z-0")},m(t,a){E(t,e,a),E(t,n,a),E(t,r,a),Nt(i,r,null),E(t,o,a),~s&&f[s].m(t,a),E(t,u,a),p&&p.m(t,a),E(t,c,a),l=!0},p(t,[e]){let n=s;s=d(t),s===n?~s&&f[s].p(t,e):(a&&(mt(),bt(f[n],1,1,(()=>{f[n]=null})),gt()),~s?(a=f[s],a?a.p(t,e):(a=f[s]=h[s](t),a.c()),yt(a,1),a.m(u.parentNode,u)):a=null),t[8].length>0?p?(p.p(t,e),256&e&&yt(p,1)):(p=jy(t),p.c(),yt(p,1),p.m(c.parentNode,c)):p&&(mt(),bt(p,1,1,(()=>{p=null})),gt())},i(t){l||(yt(i.$$.fragment,t),yt(a),yt(p),l=!0)},o(t){bt(i.$$.fragment,t),bt(a),bt(p),l=!1},d(t){t&&T(e),t&&T(n),t&&T(r),Dt(i),t&&T(o),~s&&f[s].d(t),t&&T(u),p&&p.d(t),t&&T(c)}}}function Uy(t,e,n){let r,i;c(t,Ny,(t=>n(21,r=t)));let{user:o}=e,s=[],a=Hv.collection("users").doc(o.uid);const u=ag(a,"uid").subscribe((t=>n(0,s=t)));const l=lg(Hv.collection("mitfahrgelegenheiten"),"uid").pipe(Pm([]));let h,f,p,v,m;c(t,l,(t=>n(8,i=t)));let g,y=!1;l.forEach((t=>{t.forEach((t=>{t.uid===o.uid&&n(7,g=o.uid)}))})),K((()=>{u.unsubscribe()}));return t.$$set=t=>{"user"in t&&n(13,o=t.user)},[s,h,f,p,v,m,y,g,i,l,function(){let t=s.uid,e=s.vorname,i=s.handynummer;Hv.collection("mitfahrgelegenheiten").doc(t).set({uid:t,vorname:e,handynummer:i,abfahrt:h,datum:f,uhrzeit:p,mitfahrer:v,zusatzinfos:m}).then((()=>{d(Ny,r={message:"Mitfahrgelegenheit angelegt. Vielen Dank",color:"bg-green-600"},r)})).catch((t=>{d(Ny,r={message:t.message,color:"bg-red-600"},r)})),n(6,y=!1),a.update({bietetMifa:{uid:t,vorname:e,handynummer:i,abfahrt:h,datum:f,uhrzeit:p,mitfahrer:v,zusatzinfos:m}}).then((()=>{console.log("User updated")})).catch((t=>{console.log(t.message)}))},function(t){const{uid:e}=t.detail;Hv.collection("users").doc(e).update({bietetMifa:Yv.arrayRemove()}),Hv.collection("mitfahrgelegenheiten").doc(e).delete()},function(t){const{uid:e}=t.detail;Hv.collection("mitfahrgelegenheiten").doc(e).get().then((t=>{let e=t.data();n(6,y=!0),n(1,h=e.abfahrt),n(3,p=e.uhrzeit),n(2,f=e.datum),n(4,v=e.mitfahrer),n(5,m=e.zusatzinfos)})).catch((t=>{console.log(t)}))},o,function(t){h=t,n(1,h)},function(t){f=t,n(2,f)},function(t){p=t,n(3,p)},function(t){v=t,n(4,v)},function(t){m=t,n(5,m)},()=>{n(6,y=!1)},()=>n(6,y=!0)]}class $y extends Ct{constructor(t){super(),Ot(this,t,Uy,Fy,a,{user:13})}}function qy(e){let n,r,i,o,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,S,N,D,O,P,M,R,L,j,V;return{c(){n=x("div"),r=x("div"),i=x("img"),s=A(),a=x("div"),u=x("div"),c=x("div"),c.innerHTML='<p class="font-light">Name</p> \n          <p class="font-medium tracking-widest">Atomic Chestnut</p>',l=A(),h=x("img"),d=A(),p=x("div"),p.innerHTML='<p class="font-light">Card Number</p> \n        <p class="font-medium tracking-more-wider">1234 4567 8901 2345</p>',v=A(),m=x("div"),m.innerHTML='<div class="flex justify-between"><div class=""><p class="font-light text-xs">Valid</p> \n            <p class="font-medium tracking-wider text-sm">6/21</p></div> \n          <div class=""><p class="font-light text-xs">Expiry</p> \n            <p class="font-medium tracking-wider text-sm">07/21</p></div> \n\n          <div class=""><p class="font-light text-xs">CVV</p> \n            <p class="font-bold tracking-more-wider text-sm">···</p></div></div>',g=A(),y=x("div"),b=x("div"),w=x("img"),k=A(),S=x("div"),N=x("div"),D=x("div"),D.innerHTML='<p class="font-light">Name</p> \n          <p class="font-medium tracking-widest">Chestnut PayPal</p>',O=A(),P=x("img"),R=A(),L=x("div"),L.innerHTML='<p class="font-light">Card Number</p> \n        <p class="font-medium tracking-more-wider">1234 4567 8901 2345</p>',j=A(),V=x("div"),V.innerHTML='<div class="flex justify-between"><div class=""><p class="font-light text-xs">Valid</p> \n            <p class="font-medium tracking-wider text-sm">6/21</p></div> \n          <div class=""><p class="font-light text-xs">Expiry</p> \n            <p class="font-medium tracking-wider text-sm">07/21</p></div> \n\n          <div class=""><p class="font-light text-xs">CVV</p> \n            <p class="font-bold tracking-more-wider text-sm">···</p></div></div>',C(i,"class","relative object-cover w-full h-full rounded-xl"),i.src!==(o=By)&&C(i,"src",o),C(i,"alt","Payment"),C(c,"class",""),C(h,"class","w-14 h-14"),h.src!==(f=Hy)&&C(h,"src",f),C(h,"alt","MasterCard"),C(u,"class","flex justify-between"),C(p,"class","pt-1"),C(m,"class","pt-6 pr-6"),C(a,"class","w-full px-8 absolute top-8"),C(r,"class","w-full sm:w-96 h-56 m-auto bg-red-100 rounded-xl relative text-white shadow-2xl transition-transform transform md:hover:scale-110"),C(n,"class","h-full col-span-12 md:row-span-4 md:col-span-5"),C(w,"class","relative object-cover w-full h-full rounded-xl"),w.src!==(_=zy)&&C(w,"src",_),C(w,"alt","Payment"),C(D,"class",""),C(P,"class","w-14 h-14"),P.src!==(M=Gy)&&C(P,"src",M),C(P,"alt","MasterCard"),C(N,"class","flex justify-between"),C(L,"class","pt-1"),C(V,"class","pt-6 pr-6"),C(S,"class","w-full px-8 absolute top-8"),C(b,"class","w-full sm:w-96 h-56 m-auto bg-red-100 rounded-xl relative text-white shadow-2xl transition-transform transform md:hover:scale-110"),C(y,"class","h-full col-span-12 md:row-span-4 md:col-span-5 mt-10")},m(t,e){E(t,n,e),I(n,r),I(r,i),I(r,s),I(r,a),I(a,u),I(u,c),I(u,l),I(u,h),I(a,d),I(a,p),I(a,v),I(a,m),E(t,g,e),E(t,y,e),I(y,b),I(b,w),I(b,k),I(b,S),I(S,N),I(N,D),I(N,O),I(N,P),I(S,R),I(S,L),I(S,j),I(S,V)},p:t,i:t,o:t,d(t){t&&T(n),t&&T(g),t&&T(y)}}}let zy="mastercard-bg.png",By="mastercard-bg-red.png",Hy="mastercard.png",Gy="paypal-logo.png";class Yy extends Ct{constructor(t){super(),Ot(this,t,null,qy,a,{})}}function Ky(e){let n,r,i,o,s,a,u;return{c(){n=x("h2"),n.textContent="Du bist dabei!",r=A(),i=x("p"),i.textContent="Du kannst deine Teilnahme jetzt bis zum XX.XX.2021 annehmen und mit\r\n          der Bezahlung fortfahren. Danach verfällt dein Ticket leider.",o=A(),s=x("button"),s.textContent="Teilnahme annehmen",C(n,"class","text-2xl mb-2"),C(i,"class","leading-relaxed mb-5 text-gray-600"),C(s,"class","self-center bg-red-600 text-white p-2 rounded hover:bg-green-600")},m(t,c){E(t,n,c),E(t,r,c),E(t,i,c),E(t,o,c),E(t,s,c),a||(u=D(s,"click",e[7]),a=!0)},p:t,i:t,o:t,d(t){t&&T(n),t&&T(r),t&&T(i),t&&T(o),t&&T(s),a=!1,u()}}}function Wy(e){let n,r,i,o,s,a;return s=new Yy({}),{c(){n=x("h2"),n.textContent="Bitte überweisen",r=A(),i=x("p"),i.textContent="Bitte überweise den Betrag von XX € auf das angegebene Konto oder per\r\n          PayPal. Solltest du auch für andere Teilnehmer überweisen, gib die\r\n          Vor- und Nachnamen bitte als Referenz an.",o=A(),At(s.$$.fragment),C(n,"class","text-2xl mb-2"),C(i,"class","text-base mb-8")},m(t,e){E(t,n,e),E(t,r,e),E(t,i,e),E(t,o,e),Nt(s,t,e),a=!0},p:t,i(t){a||(yt(s.$$.fragment,t),a=!0)},o(t){bt(s.$$.fragment,t),a=!1},d(t){t&&T(n),t&&T(r),t&&T(i),t&&T(o),Dt(s,t)}}}function Xy(e){let n,r,i;return{c(){n=x("h2"),n.textContent="Teilnahme unbestaetigt",r=A(),i=x("p"),i.textContent="Sobald deine Teilnahme bestätigt ist, kannst du Sie annehmen und mit\r\n          dem Kauf des Tickets fortfahren.",C(n,"class","text-2xl mb-2"),C(i,"class","text-base mb-8")},m(t,e){E(t,n,e),E(t,r,e),E(t,i,e)},p:t,i:t,o:t,d(t){t&&T(n),t&&T(r),t&&T(i)}}}function Jy(e){let n,r,i,o,s,a,u;return{c(){n=x("h2"),n.textContent="Vielen Dank für deine Überweisung",r=A(),i=x("p"),i.textContent="Dein Ticket wirst du in der kommenden Zeit erhalten. Falls du fragen\r\n          hast du uns gerne jederzeit kontaktieren.",o=A(),s=x("div"),a=x("img"),C(n,"class","text-2xl mb-2"),C(i,"class","leading-relaxed mb-5 text-gray-600"),a.src!==(u=Zy)&&C(a,"src",u),C(a,"alt","Partygif"),C(s,"class","w-full")},m(t,e){E(t,n,e),E(t,r,e),E(t,i,e),E(t,o,e),E(t,s,e),I(s,a)},p:t,i:t,o:t,d(t){t&&T(n),t&&T(r),t&&T(i),t&&T(o),t&&T(s)}}}function Qy(t){let e,n,r,i,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,N,O,L,j,V,F,U,$,q,z,B,H,G,Y,K,W,X,J,Q,Z,tt,et,nt,rt,it,ot,st,at,ut,ct,lt,ht,ft,dt,pt,vt,wt,It,Et,Tt,_t,xt,kt,St,At,Nt,Dt,Ot,Ct,Pt,Mt,Rt,Lt,jt,Vt=t[0].vorname+"",Ft=t[0].nachname+"",Ut=t[0].strasse+"",$t=t[0].hausnummer+"",qt=t[0].handynummer+"";const zt=[Jy,Xy,Wy,Ky],Bt=[];function Ht(t,e){return t[0].hasPayed&&t[0].confirmedParticipant&&t[0].bestaetigterTeilnehmer?0:t[0].bestaetigterTeilnehmer||t[0].confirmedParticipant?t[0].bestaetigterTeilnehmer&&t[0].confirmedParticipant?2:t[0].bestaetigterTeilnehmer?3:-1:1}return~(i=Ht(t))&&(s=Bt[i]=zt[i](t)),{c(){e=x("div"),n=x("div"),r=x("div"),s&&s.c(),a=A(),u=x("div"),c=x("div"),l=x("div"),l.innerHTML='<svg class="inline-block w-10 mr-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> \n        <h2 class="inline-block">Dein Profil</h2>',h=A(),f=x("div"),d=x("div"),p=x("div"),p.textContent="Vorname",v=A(),m=x("div"),g=S(Vt),y=A(),b=x("div"),w=x("div"),w.textContent="Nachname",_=A(),k=x("div"),N=S(Ft),O=A(),L=x("div"),j=x("div"),j.textContent="Strasse",V=A(),F=x("div"),U=S(Ut),$=A(),q=x("div"),z=x("div"),z.textContent="Hausnummer",B=A(),H=x("div"),G=S($t),Y=A(),K=x("div"),W=x("div"),W.textContent="Handynummer",X=A(),J=x("div"),Q=S(qt),Z=A(),tt=x("div"),et=x("div"),nt=x("div"),nt.innerHTML='<svg class="inline-block w-10 mr-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg> \n        <h2 class="inline-block">Dein Profil bearbeiten</h2>',rt=A(),it=x("div"),ot=x("div"),st=x("div"),st.textContent="Vorname",at=A(),ut=x("input"),ct=A(),lt=x("div"),ht=x("div"),ht.textContent="Nachname",ft=A(),dt=x("input"),pt=A(),vt=x("div"),wt=x("div"),wt.textContent="Strasse",It=A(),Et=x("input"),Tt=A(),_t=x("div"),xt=x("div"),xt.textContent="Hausnummer",kt=A(),St=x("input"),At=A(),Nt=x("div"),Dt=x("div"),Dt.textContent="Telefonnummer",Ot=A(),Ct=x("input"),Pt=A(),Mt=x("button"),Mt.textContent="Daten speichern",C(r,"class","flex flex-col p-4"),C(n,"class","h-full col-span-12 md:row-span-4 md:col-span-5 border-2 shadow-md"),C(l,"class","mb-4"),C(p,"class","px-4 py-2 font-semibold"),C(m,"class","px-4 py-2 break-words"),C(d,"class","grid grid-cols-2 mb-8"),C(w,"class","px-4 py-2 font-semibold"),C(k,"class","px-4 py-2 break-words"),C(b,"class","grid grid-cols-2 mb-8"),C(j,"class","px-4 py-2 font-semibold"),C(F,"class","px-4 py-2 break-words"),C(L,"class","grid grid-cols-2 mb-8"),C(z,"class","px-4 py-2 font-semibold"),C(H,"class","px-4 py-2"),C(q,"class","grid grid-cols-2 mb-8"),C(W,"class","px-4 py-2 font-semibold"),C(J,"class","px-4 py-2 break-words"),C(K,"class","grid grid-cols-2 mb-8"),C(f,"class",""),C(c,"class","flex flex-col p-4"),C(u,"class","border-2 shadow-md col-span-12 md:row-span-2 min-w-full"),C(nt,"class","mb-4"),C(st,"class","px-4 py-2 font-semibold"),C(ut,"class","shadow-md px-4 py-2 border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"),C(ut,"placeholder","Vorname"),C(ot,"class","grid grid-cols-2 mb-8"),C(ht,"class","px-4 py-2 font-semibold"),C(dt,"class","shadow-md px-4 py-2 border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"),C(dt,"placeholder","Nachname"),C(lt,"class","grid grid-cols-2 mb-8"),C(wt,"class","px-4 py-2 font-semibold"),C(Et,"class","shadow-md px-4 py-2 border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"),C(Et,"placeholder","Strasse"),C(vt,"class","grid grid-cols-2 mb-8"),C(xt,"class","px-4 py-2 font-semibold"),C(St,"class","shadow-md px-4 py-2 border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"),C(St,"placeholder","Hausnummer"),C(St,"type","number"),C(_t,"class","grid grid-cols-2 mb-8"),C(Dt,"class","px-4 py-2 font-semibold"),C(Ct,"class","shadow-md px-4 py-2 border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"),C(Ct,"placeholder","Hausnummer"),C(Ct,"type","text"),C(Nt,"class","grid grid-cols-2 mb-8"),C(Mt,"class","self-center border-2 border-green-600 text-gray-900 p-2 rounded hover:bg-green-600 hover:text-white"),C(it,"class",""),C(et,"class","flex flex-col p-4"),C(tt,"class","border-2 col-span-12 md:row-span-2 shadow-md"),C(e,"class","grid grid-rows-4 grid-cols-12 grid-flow-col gap-4 auto-cols-auto m-4")},m(o,s){E(o,e,s),I(e,n),I(n,r),~i&&Bt[i].m(r,null),I(e,a),I(e,u),I(u,c),I(c,l),I(c,h),I(c,f),I(f,d),I(d,p),I(d,v),I(d,m),I(m,g),I(f,y),I(f,b),I(b,w),I(b,_),I(b,k),I(k,N),I(f,O),I(f,L),I(L,j),I(L,V),I(L,F),I(F,U),I(f,$),I(f,q),I(q,z),I(q,B),I(q,H),I(H,G),I(f,Y),I(f,K),I(K,W),I(K,X),I(K,J),I(J,Q),I(e,Z),I(e,tt),I(tt,et),I(et,nt),I(et,rt),I(et,it),I(it,ot),I(ot,st),I(ot,at),I(ot,ut),R(ut,t[1]),I(it,ct),I(it,lt),I(lt,ht),I(lt,ft),I(lt,dt),R(dt,t[2]),I(it,pt),I(it,vt),I(vt,wt),I(vt,It),I(vt,Et),R(Et,t[3]),I(it,Tt),I(it,_t),I(_t,xt),I(_t,kt),I(_t,St),R(St,t[4]),I(it,At),I(it,Nt),I(Nt,Dt),I(Nt,Ot),I(Nt,Ct),R(Ct,t[5]),I(it,Pt),I(it,Mt),Rt=!0,Lt||(jt=[D(ut,"input",t[9]),D(dt,"input",t[10]),D(Et,"input",t[11]),D(St,"input",t[12]),D(Ct,"input",t[13]),D(Mt,"click",t[6])],Lt=!0)},p(t,[e]){let n=i;i=Ht(t),i===n?~i&&Bt[i].p(t,e):(s&&(mt(),bt(Bt[n],1,1,(()=>{Bt[n]=null})),gt()),~i?(s=Bt[i],s?s.p(t,e):(s=Bt[i]=zt[i](t),s.c()),yt(s,1),s.m(r,null)):s=null),(!Rt||1&e)&&Vt!==(Vt=t[0].vorname+"")&&M(g,Vt),(!Rt||1&e)&&Ft!==(Ft=t[0].nachname+"")&&M(N,Ft),(!Rt||1&e)&&Ut!==(Ut=t[0].strasse+"")&&M(U,Ut),(!Rt||1&e)&&$t!==($t=t[0].hausnummer+"")&&M(G,$t),(!Rt||1&e)&&qt!==(qt=t[0].handynummer+"")&&M(Q,qt),2&e&&ut.value!==t[1]&&R(ut,t[1]),4&e&&dt.value!==t[2]&&R(dt,t[2]),8&e&&Et.value!==t[3]&&R(Et,t[3]),16&e&&P(St.value)!==t[4]&&R(St,t[4]),32&e&&Ct.value!==t[5]&&R(Ct,t[5])},i(t){Rt||(yt(s),Rt=!0)},o(t){bt(s),Rt=!1},d(t){t&&T(e),~i&&Bt[i].d(),Lt=!1,o(jt)}}}let Zy="giphy.gif";function tb(t,e,n){let r;c(t,Ny,(t=>n(16,r=t)));let i,o,s,a,u,{user:l}=e,{profileData:h=[]}=e,f={},p=Hv.collection("users").doc(l.uid);return ag(p,"uid").subscribe((t=>n(0,h=t))),t.$$set=t=>{"user"in t&&n(8,l=t.user),"profileData"in t&&n(0,h=t.profileData)},[h,i,o,s,a,u,function(){i&&(f.vorname=i),o&&(f.nachname=o),s&&(f.strasse=s),a&&(f.hausnummer=a),u&&(f.hadynummer=u),p.update(f).then((()=>d(Ny,r={message:"Infos aktualisiert",color:"bg-green-600"},r))).catch((t=>d(Ny,r={message:t.message,color:"bg-red-600"},r))),n(1,i=""),n(2,o=""),n(3,s=""),n(4,a=""),n(5,u="")},function(){p.update({confirmedParticipant:!0}).then((()=>{d(Ny,r={message:"Du bist dabei!",color:"bg-green-600"},r)})).catch((t=>console.log(t)))},l,function(){i=this.value,n(1,i)},function(){o=this.value,n(2,o)},function(){s=this.value,n(3,s)},function(){a=P(this.value),n(4,a)},function(){u=this.value,n(5,u)}]}class eb extends Ct{constructor(t){super(),Ot(this,t,tb,Qy,a,{user:8,profileData:0})}}class nb extends Ct{constructor(t){super(),Ot(this,t,null,null,a,{})}}const rb=[];let ib;function ob(t){const e=t.pattern.test(ib);sb(t,t.className,e),sb(t,t.inactiveClassName,!e)}function sb(t,e,n){(e||"").split(" ").forEach((e=>{e&&(t.node.classList.remove(e),n&&t.node.classList.add(e))}))}function ab(t,e){if(!(e=e&&("string"==typeof e||"object"==typeof e&&e instanceof RegExp)?{path:e}:e||{}).path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&"#"==e.path.charAt(0)&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||"string"==typeof e.path&&(e.path.length<1||"/"!=e.path.charAt(0)&&"*"!=e.path.charAt(0)))throw Error('Invalid value for "path" argument');const{pattern:n}="string"==typeof e.path?Fm(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return rb.push(r),ob(r),{destroy(){rb.splice(rb.indexOf(r),1)}}}Bm.subscribe((t=>{ib=t.location+(t.querystring?"?"+t.querystring:""),rb.map(ob)}));const ub=jm();function cb(t){let e,n,r;return{c(){e=x("a"),e.innerHTML='<svg class="h-8 w-8 text-gray-700 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>',C(e,"href","#/admin"),C(e,"class","transition duration-500 ease-in-out p-2 mr-2 md:mr-6 hover:shadow-md lg:hover:bg-blue-300 text-2xl rounded-md transform lg:hover:scale-110")},m(t,i){E(t,e,i),n||(r=p(ab.call(null,e,{path:"/admin",className:"active",inactiveClassName:"inactive"})),n=!0)},d(t){t&&T(e),n=!1,r()}}}function lb(t){let e,n,r,i=t[0].vorname+"";return{c(){e=x("span"),n=S("Willkommen "),r=S(i),C(e,"class","ml-3 text-xl")},m(t,i){E(t,e,i),I(e,n),I(e,r)},p(t,e){1&e&&i!==(i=t[0].vorname+"")&&M(r,i)},d(t){t&&T(e)}}}function hb(e){let n;return{c(){n=x("span"),n.textContent="Willkommen",C(n,"class","ml-3 text-xl")},m(t,e){E(t,n,e)},p:t,d(t){t&&T(n)}}}function fb(e){let n,r,i,s,a,u,c,l,h,f,d,v,m,g,y,b,w,_,k,S,N,O,P="admin"===e[0].status&&cb();function M(t,e){return t[0]?lb:hb}let R=M(e),L=R(e);return{c(){n=x("header"),r=x("div"),i=x("nav"),s=x("a"),s.innerHTML='<svg class="h-8 w-8 text-gray-700 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>',a=A(),u=x("a"),u.innerHTML='<svg class="h-8 w-8 text-gray-700 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg>',c=A(),l=x("a"),l.innerHTML='<svg class="h-8 w-8 text-gray-700 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',h=A(),f=x("a"),f.innerHTML='<svg class="h-8 w-8 text-gray-700 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',d=A(),P&&P.c(),v=A(),m=x("a"),g=x("div"),y=x("img"),w=A(),L.c(),_=A(),k=x("div"),S=x("button"),S.innerHTML='Ausloggen\n        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1 transition duration-500 transform group-hover:translate-x-2 group-hover:text-red-400" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"></path></svg>',C(s,"href","#/kalender"),C(s,"class","transition duration-500 ease-in-out p-2 mr-2 md:mr-6 lg:hover:shadow-md lg:hover:bg-blue-300 text-2xl rounded-md transform lg:hover:scale-110"),C(s,"refs","link"),C(u,"href","#/lineup"),C(u,"class","transition duration-500 ease-in-out p-2 mr-2 md:mr-6 hover:shadow-md lg:hover:bg-blue-300 text-2xl rounded-md transform lg:hover:scale-110"),C(l,"href","#/mitfahrgelegenheiten"),C(l,"class","transition duration-500 ease-in-out p-2 mr-2 md:mr-6 hover:shadow-md lg:hover:bg-blue-300 text-2xl rounded-md transform lg:hover:scale-110"),C(f,"href","#/profil"),C(f,"class","transition duration-500 ease-in-out p-2 mr-2 md:mr-6 hover:shadow-md lg:hover:bg-blue-300 text-2xl rounded-md transform lg:hover:scale-110"),C(i,"class","flex lg:w-1/3 flex-wrap items-center justify-center text-base md:ml-auto"),y.src!==(b=db)&&C(y,"src",b),C(y,"width","80"),C(y,"alt",""),C(y,"class","md:hidden lg:hidden"),C(g,"class",""),C(m,"href","#/"),C(m,"class","flex flex-col order-first lg:order-none lg:w-1/3 title-font cursor-pointer font-medium items-center text-gray-900 lg:items-center lg:justify-center mb-4 md:mb-0"),C(S,"class","inline-flex items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none group-hover:bg-gray-200 rounded text-base mt-4 md:mt-0"),C(k,"class","group lg:w-1/3 inline-flex lg:justify-center ml-5 lg:ml-0"),C(r,"class","container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center"),C(n,"class","text-gray-600 body-font shadow-md")},m(t,o){E(t,n,o),I(n,r),I(r,i),I(i,s),I(i,a),I(i,u),I(i,c),I(i,l),I(i,h),I(i,f),I(i,d),P&&P.m(i,null),I(r,v),I(r,m),I(m,g),I(g,y),I(m,w),L.m(m,null),I(r,_),I(r,k),I(k,S),N||(O=[p(ab.call(null,s,{path:"/kalender",className:"active",inactiveClassName:"inactive"})),p(ab.call(null,u,{path:"/lineup",className:"active",inactiveClassName:"inactive"})),p(ab.call(null,l,{path:"/mitfahrgelegenheiten",className:"active",inactiveClassName:"inactive"})),p(ab.call(null,f,{path:"/profil",className:"active",inactiveClassName:"inactive"})),D(S,"click",e[1])],N=!0)},p(t,[e]){"admin"===t[0].status?P||(P=cb(),P.c(),P.m(i,null)):P&&(P.d(1),P=null),R===(R=M(t))&&L?L.p(t,e):(L.d(1),L=R(t),L&&(L.c(),L.m(m,null)))},i:t,o:t,d(t){t&&T(n),P&&P.d(),L.d(),N=!1,o(O)}}}let db="chestnut-logo.png";function pb(t,e,n){let r;c(t,ub,(t=>n(3,r=t)));let i=[],{user:o}=e;return ag(Hv.collection("users").doc(o.uid),"uid").subscribe((t=>n(0,i=t))),d(ub,r=i,r),t.$$set=t=>{"user"in t&&n(2,o=t.user)},[i,function(){Gv.signOut(),async function(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await it(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}("/")},o]}class vb extends Ct{constructor(t){super(),Ot(this,t,pb,fb,a,{user:2})}}function mb(e){let n,r,i,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,S,N,P,M,j,V,F,U,$,q,z,B,H,G,Y,K,W,X,J,Q,Z;return{c(){n=x("form"),r=x("div"),r.textContent="Neuer Nutzer",i=A(),s=x("div"),a=x("input"),u=A(),c=x("div"),l=x("input"),h=A(),f=x("div"),d=x("input"),p=A(),v=x("div"),m=x("input"),g=A(),y=x("div"),b=x("input"),w=A(),_=x("div"),k=x("input"),S=A(),N=x("div"),P=x("input"),M=A(),j=x("div"),j.textContent="Account Informationen",V=A(),F=x("div"),U=x("input"),$=A(),q=x("div"),z=x("input"),B=A(),H=x("div"),G=x("button"),G.textContent="Account erstellen",Y=A(),K=x("div"),K.innerHTML='<div class="rounded-full h-20 w-20 bg-gray-300 flex items-center justify-center">oder</div>',W=A(),X=x("div"),J=x("button"),J.textContent="Zurück zum Login",C(r,"class","col-span-10 text-center"),C(a,"class","px-2 py-4 w-full"),C(a,"type","text"),C(a,"placeholder","Vorname"),C(s,"class","col-span-5"),C(l,"class","px-2 py-4 w-full"),C(l,"type","text"),C(l,"placeholder","Nachname"),C(c,"class","col-span-5"),C(d,"class","px-2 py-4 w-full"),C(d,"type","text"),C(d,"placeholder","Straße"),C(f,"class","col-span-8"),C(m,"class","px-2 py-4 w-full"),C(m,"type","text"),C(m,"placeholder","Nr."),C(v,"class","col-span-2"),C(b,"class","px-2 py-4 w-full"),C(b,"type","text"),C(b,"placeholder","Postleitzahl"),C(y,"class","col-span-5"),C(k,"class","px-2 py-4 w-full"),C(k,"type","text"),C(k,"placeholder","Stadt"),C(_,"class","col-span-5"),C(P,"class","px-2 py-4 w-full"),C(P,"type","text"),C(P,"placeholder","Handynummer"),C(N,"class","col-span-10"),C(j,"class","col-span-10"),C(U,"class","px-2 py-4 w-full"),C(U,"type","text"),C(U,"placeholder","E-Mail"),C(F,"class","col-span-10"),C(z,"class","px-2 py-4 w-full"),C(z,"type","text"),C(z,"placeholder","password"),C(q,"class","col-span-10"),C(G,"class","bg-gray-300 px-2 py-4 text-xl col-span-6 w-full"),C(G,"type","submit"),C(H,"class","col-span-10 flex justify-self-center w-full"),C(K,"class","col-span-10 flex justify-self-center"),C(J,"class","bg-gray-300 px-2 py-4 text-xl col-span-6 w-full"),C(J,"type","submit"),C(X,"class","col-span-10"),C(n,"class","grid grid-cols-10 space-y-2 gap-2 md:p-8 grid-rows-10 mx-auto bg-white shadow-lg w-11/12 md:w-6/12 bg-opacity-80 bg-clip-padding px-4 py-8"),L(n,"backdrop-filter","blur(20px)")},m(t,o){E(t,n,o),I(n,r),I(n,i),I(n,s),I(s,a),R(a,e[0]),I(n,u),I(n,c),I(c,l),R(l,e[1]),I(n,h),I(n,f),I(f,d),R(d,e[2]),I(n,p),I(n,v),I(v,m),R(m,e[3]),I(n,g),I(n,y),I(y,b),R(b,e[4]),I(n,w),I(n,_),I(_,k),R(k,e[5]),I(n,S),I(n,N),I(N,P),R(P,e[6]),I(n,M),I(n,j),I(n,V),I(n,F),I(F,U),R(U,e[7]),I(n,$),I(n,q),I(q,z),R(z,e[8]),I(n,B),I(n,H),I(H,G),I(n,Y),I(n,K),I(n,W),I(n,X),I(X,J),Q||(Z=[D(a,"input",e[11]),D(l,"input",e[12]),D(d,"input",e[13]),D(m,"input",e[14]),D(b,"input",e[15]),D(k,"input",e[16]),D(P,"input",e[17]),D(U,"input",e[18]),D(z,"input",e[19]),D(G,"click",e[10]),D(J,"click",e[9]),D(n,"submit",O(e[10]))],Q=!0)},p(t,[e]){1&e&&a.value!==t[0]&&R(a,t[0]),2&e&&l.value!==t[1]&&R(l,t[1]),4&e&&d.value!==t[2]&&R(d,t[2]),8&e&&m.value!==t[3]&&R(m,t[3]),16&e&&b.value!==t[4]&&R(b,t[4]),32&e&&k.value!==t[5]&&R(k,t[5]),64&e&&P.value!==t[6]&&R(P,t[6]),128&e&&U.value!==t[7]&&R(U,t[7]),256&e&&z.value!==t[8]&&R(z,t[8])},i:t,o:t,d(t){t&&T(n),Q=!1,o(Z)}}}function gb(t,e,n){const r=W();let i,o,s,a,u,c,l,h,f;return[i,o,s,a,u,c,l,h,f,function(){r("toggleLogin")},function(){Gv.createUserWithEmailAndPassword(h,f).then((t=>Hv.collection("users").doc(t.user.uid).set({vorname:i,nachname:o,strasse:s,hausnummer:a,postleitzahl:u,stadt:c,handynummer:l,email:h,bestaetigterTeilnehmer:!1,confirmedParticipant:!1,hasPayed:!1,status:"user",uid:t.user.uid}))).catch((t=>{console.log(t)}))},function(){i=this.value,n(0,i)},function(){o=this.value,n(1,o)},function(){s=this.value,n(2,s)},function(){a=this.value,n(3,a)},function(){u=this.value,n(4,u)},function(){c=this.value,n(5,c)},function(){l=this.value,n(6,l)},function(){h=this.value,n(7,h)},function(){f=this.value,n(8,f)}]}by((function(t,e){!function(t){try{(function(){function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n=n||Promise)((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,(s=i?[2&s[0],i.value]:s)[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var a,u="FirebaseError",c=(i(l,a=Error),l);function l(t,e,n){return(e=a.call(this,e)||this).code=t,e.customData=n,e.name=u,Object.setPrototypeOf(e,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,h.prototype.create),e}var h=(f.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;return t=(t=this.errors[t])?(r=i,t.replace(d,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",t=this.serviceName+": "+t+" ("+o+").",new c(o,t,i)},f);function f(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var d=/\{\$([^}]+)}/g,p=(v.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},v.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},v.prototype.setServiceProps=function(t){return this.serviceProps=t,this},v);function v(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var m,g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},y=(i(b,m=Error),b);function b(t,e,n){return e=m.call(this,e)||this,Object.setPrototypeOf(e,b.prototype),e.code=t,e.details=n,e}function w(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!g[a])return new y("internal","internal");r=g[a],i=a}"string"==typeof(a=s.message)&&(i=a),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new y(r,i,o)}var I=(E.prototype.getAuthToken=function(){return o(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},E.prototype.getInstanceIdToken=function(){return o(this,void 0,void 0,(function(){return s(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},E.prototype.getContext=function(){return o(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},E);function E(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}function T(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var _=(x.prototype.encode=function(t){var e=this;if(null==t)return null;if("number"==typeof(t=t instanceof Number?t.valueOf():t)&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return T(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},x.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?T(t,(function(t){return e.decode(t)})):t},x);function x(){}var k,S,A,N=(Object.defineProperty(D.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),D.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},D.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},D.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},D.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},D.prototype.postJSON=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},D.prototype.call=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i,o,a,u;return s(this,(function(s){switch(s.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=s.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=n.timeout||7e4,c=u,h=new Promise((function(t,e){l=setTimeout((function(){e(new y("deadline-exceeded","deadline-exceeded"))}),c)})),u=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([O(u,this.postJSON(r,i,o)),a,O(u,this.cancelAllRequests)])];case 2:if(!(a=s.sent()))throw new y("cancelled","Firebase Functions instance was deleted.");if(u=w(a.status,a.json,this.serializer))throw u;if(!a.json)throw new y("internal","Response is not valid JSON object.");if(void 0===(u=void 0===(u=a.json.data)?a.json.result:u))throw new y("internal","Response is missing data field.");return[2,{data:this.serializer.decode(u)}]}var c,l,h}))}))},D);function D(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new _,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new I(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function O(t,e){return o(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}k=n.default,S=fetch.bind(self),A={Functions:N},k.INTERNAL.registerComponent(new p("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return t=t.getProvider("messaging"),new N(n,r,t,e,S)}),"PUBLIC").setServiceProps(A).setMultipleInstances(!0)),n.default.registerVersion("@firebase/functions","0.6.1")}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-functions.js - be sure to load firebase-app.js first.")}}(Ae)}));class yb extends Ct{constructor(t){super(),Ot(this,t,gb,mb,a,{})}}function bb(e){let n,r;return n=new yb({}),n.$on("toggleLogin",e[3]),{c(){At(n.$$.fragment)},m(t,e){Nt(n,t,e),r=!0},p:t,i(t){r||(yt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function wb(e){let n,r,i,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w;return{c(){n=x("form"),r=x("div"),r.textContent="Einloggen",i=A(),s=x("div"),a=x("input"),u=A(),c=x("div"),l=x("input"),h=A(),f=x("div"),d=x("button"),d.textContent="Einloggen",p=A(),v=x("div"),v.innerHTML='<div class="rounded-full h-20 w-20 bg-gray-300 flex items-center justify-center">oder</div>',m=A(),g=x("div"),y=x("button"),y.textContent="Account erstellen",C(r,"class","col-span-6 text-center"),C(a,"class","px-2 py-4 w-full md:w-8/12"),C(a,"type","text"),C(a,"placeholder","email"),C(s,"class","col-span-6 flex justify-center"),C(l,"class","px-2 py-4 w-full md:w-8/12"),C(l,"type","text"),C(l,"placeholder","password"),C(c,"class","col-span-6 flex justify-center"),C(d,"class","bg-gray-300 px-2 py-4 text-xl col-span-6 w-full md:w-8/12"),C(d,"type","submit"),C(f,"class","col-span-6 flex justify-center"),C(v,"class","col-span-6 flex justify-center"),C(y,"class","bg-gray-300 px-2 py-4 text-xl col-span-6 w-full md:w-8/12"),C(g,"class","col-span-6 flex justify-center"),C(n,"class","grid grid-cols-6 space-y-4 grid-rows-1 mx-auto bg-white shadow-lg w-11/12 md:w-6/12 bg-opacity-80 bg-clip-padding px-4 py-8"),L(n,"backdrop-filter","blur(20px)")},m(t,o){E(t,n,o),I(n,r),I(n,i),I(n,s),I(s,a),R(a,e[0]),I(n,u),I(n,c),I(c,l),R(l,e[1]),I(n,h),I(n,f),I(f,d),I(n,p),I(n,v),I(n,m),I(n,g),I(g,y),b||(w=[D(a,"input",e[5]),D(l,"input",e[6]),D(d,"click",e[4]),D(y,"click",e[3]),D(n,"submit",O(e[4]))],b=!0)},p(t,e){1&e&&a.value!==t[0]&&R(a,t[0]),2&e&&l.value!==t[1]&&R(l,t[1])},i:t,o:t,d(t){t&&T(n),b=!1,o(w)}}}function Ib(t){let e,n,r,i;const o=[wb,bb],s=[];function a(t,e){return t[2]?1:0}return n=a(t),r=s[n]=o[n](t),{c(){e=x("div"),r.c(),C(e,"class","min-h-screen w-full flex items-center"),L(e,"background-image","url('"+Eb+"')"),L(e,"background-size","cover"),L(e,"background-repeat","no-repeat")},m(t,r){E(t,e,r),s[n].m(e,null),i=!0},p(t,[i]){let u=n;n=a(t),n===u?s[n].p(t,i):(mt(),bt(s[u],1,1,(()=>{s[u]=null})),gt(),r=s[n],r?r.p(t,i):(r=s[n]=o[n](t),r.c()),yt(r,1),r.m(e,null))},i(t){i||(yt(r),i=!0)},o(t){bt(r),i=!1},d(t){t&&T(e),s[n].d()}}}let Eb="background-square.jpg";function Tb(t,e,n){let r,i,o,s;return c(t,Ny,(t=>n(7,r=t))),[i,o,s,function(){n(2,s=!s)},function(){Gv.signInWithEmailAndPassword(i,o).then((()=>{})).catch((t=>{let e=t.code,n=t.message;d(Ny,r="auth/wrong-password"===e?{message:"Falsches Passwort",color:"bg-red-600"}:{message:n,color:"bg-red-600"},r),console.log(t)}))},function(){i=this.value,n(0,i)},function(){o=this.value,n(1,o)}]}class _b extends Ct{constructor(t){super(),Ot(this,t,Tb,Ib,a,{})}}function xb(e){let n,r,i,s,a,u,c,l,h,f,d;return{c(){n=x("div"),r=x("div"),i=x("img"),a=A(),u=x("form"),c=x("input"),l=A(),h=x("button"),h.textContent="Enter",i.src!==(s=Ab)&&C(i,"src",s),C(i,"alt",""),C(c,"class","border px-4 py-2 border-blue-800 rounded-none"),C(c,"type","text"),C(h,"class","px-4 py-2 bg-blue-800 text-white rounded-none"),C(h,"type","submit"),C(u,"class","flex flex-row"),C(r,"class","flex flex-col justify-center items-center rounded-md p-4 bg-white bg-opacity-80 bg-clip-padding"),L(r,"backdrop-filter","blur(2px)"),C(n,"class","flex justify-center items-center h-screen w-full overflow-hidden"),L(n,"background-image","url('"+Nb+"')"),L(n,"background-size","cover"),L(n,"background-repeat","no-repeat"),L(n,"background-position","center")},m(t,o){E(t,n,o),I(n,r),I(r,i),I(r,a),I(r,u),I(u,c),R(c,e[0]),I(u,l),I(u,h),f||(d=[D(c,"input",e[3]),D(h,"click",e[2]),D(u,"submit",O(e[2]))],f=!0)},p(t,e){1&e&&c.value!==t[0]&&R(c,t[0])},i:t,o:t,d(t){t&&T(n),f=!1,o(d)}}}function kb(e){let n,r;return n=new _b({}),{c(){At(n.$$.fragment)},m(t,e){Nt(n,t,e),r=!0},p:t,i(t){r||(yt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function Sb(t){let e,n,r,i;const o=[kb,xb],s=[];function a(t,e){return t[1]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=N()},m(t,n){s[e].m(t,n),E(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(mt(),bt(s[u],1,1,(()=>{s[u]=null})),gt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&T(r)}}}let Ab="chestnut-claim.png",Nb="170820-moss-utopian-society-hero_u3rkbi.jpg";function Db(t,e,n){let r,i,o=!1;return[i,o,function(){Hv.collection("master-password").doc("master-password").get().then((t=>{r=t.data(),i===r["master-password"]&&n(1,o=!0)})).catch((t=>{console.log(t,"master-password")}))},function(){i=this.value,n(0,i)}]}class Ob extends Ct{constructor(t){super(),Ot(this,t,Db,Sb,a,{})}}function Cb(e){let n,r,i,s,a,u,c,l,h,f,d,p,v,m,g,y;return{c(){n=x("div"),r=x("div"),i=x("div"),s=x("h1"),a=S(e[0]),u=A(),c=x("div"),l=x("p"),h=S(e[1]),f=A(),d=x("div"),p=x("button"),p.textContent="Bestätigen",v=A(),m=x("button"),m.textContent="Abbrechen",C(i,"class","mb-4"),C(c,"class","mb-8"),C(p,"class","flex-no-shrink text-white py-2 px-4 rounded bg-green-500 hover:bg-green-800 focus:outline-none"),C(m,"class","flex-no-shrink text-white py-2 px-4 rounded bg-red-500 hover:bg-red-800 focus:outline-none"),C(d,"class","flex justify-center space-x-4"),C(r,"class","absolute z-50 overflow-auto bg-white rounded shadow-lg p-8 m-4 max-w-xs max-h-full text-center"),C(n,"class","fixed z-50 top-0 left-0 h-screen w-screen flex flex-col items-center justify-center bg-blue-500 bg-opacity-50")},m(t,o){E(t,n,o),I(n,r),I(r,i),I(i,s),I(s,a),I(r,u),I(r,c),I(c,l),I(l,h),I(r,f),I(r,d),I(d,p),I(d,v),I(d,m),g||(y=[D(p,"click",e[2]),D(m,"click",e[3])],g=!0)},p(t,[e]){1&e&&M(a,t[0]),2&e&&M(h,t[1])},i:t,o:t,d(t){t&&T(n),g=!1,o(y)}}}function Pb(t,e,n){const r=W();let{titleMessage:i}=e,{bodyMessage:o}=e;return t.$$set=t=>{"titleMessage"in t&&n(0,i=t.titleMessage),"bodyMessage"in t&&n(1,o=t.bodyMessage)},[i,o,function(){r("deleteUser")},function(){r("close")}]}class Mb extends Ct{constructor(t){super(),Ot(this,t,Pb,Cb,a,{titleMessage:0,bodyMessage:1})}}function Rb(t,e,n){const r=t.slice();return r[13]=e[n],r}function Lb(t){let e,n;return e=new Mb({props:{titleMessage:"Bitte Bestätigen",bodyMessage:"Durch Bestätigen wird der Nutzer unwiderruflich aus der Datenbank gelöscht. Der Nutzer hat weiterhin Zugriff auf die Seite."}}),e.$on("close",t[8]),e.$on("deleteUser",(function(){s(t[7](t[13]))&&t[7](t[13]).apply(this,arguments)})),{c(){At(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(e,n){t=e},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function jb(t){let e,n,r;return{c(){e=x("button"),e.textContent="Freischalten",C(e,"class","bg-red-200 text-red-600 py-1 px-3 rounded-full text-xs hover:bg-green-800 hover:text-white active:bg-green-900 focus:outline-none")},m(i,o){E(i,e,o),n||(r=D(e,"click",(function(){s(t[5](t[13]))&&t[5](t[13]).apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&T(e),n=!1,r()}}}function Vb(e){let n;return{c(){n=x("button"),n.textContent="Freigeschaltet",C(n,"class","bg-green-200 text-green-600 text-white py-1 px-3 rounded-full text-xs focus:outline-none cursor-default")},m(t,e){E(t,n,e)},p:t,d(t){t&&T(n)}}}function Fb(e){let n;return{c(){n=x("button"),n.textContent="Bezahlt",C(n,"class","bg-green-200 text-green-600 py-1 px-3 rounded-full text-xs focus:outline-none cursor-default")},m(t,e){E(t,n,e)},p:t,d(t){t&&T(n)}}}function Ub(t){let e,n,r;return{c(){e=x("button"),e.textContent="Nicht Bezahlt",C(e,"class","bg-red-200 text-red-600 py-1 px-3 rounded-full text-xs hover:bg-green-800 hover:text-white active:bg-green-900 focus:outline-none")},m(i,o){E(i,e,o),n||(r=D(e,"click",(function(){s(t[6](t[13]))&&t[6](t[13]).apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&T(e),n=!1,r()}}}function $b(t){let e;return{c(){e=x("span"),e.textContent="Bestätigt",C(e,"class","bg-green-200 text-green-600 py-1 px-3 rounded-full text-xs focus:outline-none")},m(t,n){E(t,e,n)},d(t){t&&T(e)}}}function qb(t){let e;return{c(){e=x("span"),e.textContent="Unbestätigt",C(e,"class","bg-red-200 text-red-600 py-1 px-3 rounded-full text-xs focus:outline-none")},m(t,n){E(t,e,n)},d(t){t&&T(e)}}}function zb(t,e){let n,r,i,o,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,O,P,R,L,j,V,F,U,$,q,z,B,H,G,Y=e[13].vorname+"",K=e[13].nachname+"",W=e[13].handynummer+"",X=e[13].strasse+"",J=e[13].hausnummer+"",Q=e[13].postleitzahl+"",Z=e[13].email+"",tt=e[0]&&Lb(e);function et(t,e){return t[13].bestaetigterTeilnehmer?Vb:jb}let nt=et(e),rt=nt(e);function it(t,e){return t[13].hasPayed?Fb:Ub}let ot=it(e),st=ot(e);function at(t,e){return t[13].confirmedParticipant?$b:qb}let ut=at(e),ct=ut(e);return{key:t,first:null,c(){n=N(),tt&&tt.c(),r=A(),i=x("tr"),o=x("td"),s=S(Y),a=A(),u=x("td"),c=S(K),l=A(),h=x("td"),rt.c(),f=A(),d=x("td"),st.c(),p=A(),ct.c(),v=A(),m=x("td"),g=S(W),y=A(),b=x("td"),w=S(X),_=A(),k=x("td"),O=S(J),P=A(),R=x("td"),L=S(Q),j=A(),V=x("td"),F=S(Z),U=A(),$=x("td"),q=x("button"),q.innerHTML='<svg class="z-0 h-4 w-4 text-red-500 pointer-events-none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',z=A(),C(o,"class","py-3 px-6 text-center"),C(u,"class","py-3 px-6 text-center"),C(h,"class","py-3 px-6 text-center"),C(d,"class","py-3 px-6 text-center"),C(m,"class","py-3 px-6 text-center"),C(b,"class","py-3 px-6 text-center"),C(k,"class","py-3 px-6 text-center"),C(R,"class","py-3 px-6 text-center"),C(V,"class","py-3 px-6 text-center"),C(q,"class","border-2 border-red-200 rounded-md p-1 transform md:hover:scale-110 z-0"),C($,"class","py-3 px-6 text-center flex justify-start space-x-4"),C(i,"class","border-b border-gray-200 lg:hover:bg-gray-100"),this.first=n},m(t,T){E(t,n,T),tt&&tt.m(t,T),E(t,r,T),E(t,i,T),I(i,o),I(o,s),I(i,a),I(i,u),I(u,c),I(i,l),I(i,h),rt.m(h,null),I(i,f),I(i,d),st.m(d,null),I(i,p),ct.m(i,null),I(i,v),I(i,m),I(m,g),I(i,y),I(i,b),I(b,w),I(i,_),I(i,k),I(k,O),I(i,P),I(i,R),I(R,L),I(i,j),I(i,V),I(V,F),I(i,U),I(i,$),I($,q),I(i,z),B=!0,H||(G=D(q,"click",e[9]),H=!0)},p(t,n){(e=t)[0]?tt?(tt.p(e,n),1&n&&yt(tt,1)):(tt=Lb(e),tt.c(),yt(tt,1),tt.m(r.parentNode,r)):tt&&(mt(),bt(tt,1,1,(()=>{tt=null})),gt()),(!B||8&n)&&Y!==(Y=e[13].vorname+"")&&M(s,Y),(!B||8&n)&&K!==(K=e[13].nachname+"")&&M(c,K),nt===(nt=et(e))&&rt?rt.p(e,n):(rt.d(1),rt=nt(e),rt&&(rt.c(),rt.m(h,null))),ot===(ot=it(e))&&st?st.p(e,n):(st.d(1),st=ot(e),st&&(st.c(),st.m(d,null))),ut!==(ut=at(e))&&(ct.d(1),ct=ut(e),ct&&(ct.c(),ct.m(i,v))),(!B||8&n)&&W!==(W=e[13].handynummer+"")&&M(g,W),(!B||8&n)&&X!==(X=e[13].strasse+"")&&M(w,X),(!B||8&n)&&J!==(J=e[13].hausnummer+"")&&M(O,J),(!B||8&n)&&Q!==(Q=e[13].postleitzahl+"")&&M(L,Q),(!B||8&n)&&Z!==(Z=e[13].email+"")&&M(F,Z)},i(t){B||(yt(tt),B=!0)},o(t){bt(tt),B=!1},d(t){t&&T(n),tt&&tt.d(t),t&&T(r),t&&T(i),rt.d(),st.d(),ct.d(),H=!1,G()}}}function Bb(t){let e,n,r,i,o,s,a,u,c,l,h,f,d,p,v,m,g,y,b,w,_,k,N=t[3].length+"",D=t[1].length+"",O=t[2].length+"",P=[],R=new Map,L=t[3];const j=t=>t[13].id;for(let e=0;e<L.length;e+=1){let n=Rb(t,L,e),r=j(n);R.set(r,P[e]=zb(r,n))}return{c(){e=x("div"),n=x("div"),r=x("div"),i=S("Gesamt "),o=x("p"),s=S(N),a=A(),u=x("div"),c=S("Freigeschaltet "),l=x("p"),h=S(D),f=A(),d=x("div"),p=S("Bezahlt "),v=x("p"),m=S(O),g=A(),y=x("div"),b=x("table"),w=x("tr"),w.innerHTML='<th class="py-3 px-6">Vorname</th> \n      <th class="py-3 px-6">Nachname</th> \n      <th class="py-3 px-6">Teilnahme</th> \n      <th class="py-3 px-6">Bezahlstatus</th> \n      <th class="py-3 px-6">Nutzer Best.</th> \n      <th class="py-3 px-6">Mobil</th> \n      <th class="py-3 px-6">Straße</th> \n      <th class="py-3 px-6">Nr.</th> \n      <th class="py-3 px-6">Plz.</th> \n      <th class="py-3 px-6">E-Mail</th> \n      <th class="py-3 px-6">Aktionen</th>',_=A();for(let t=0;t<P.length;t+=1)P[t].c();C(o,"class","font-bold"),C(r,"class","text-sm"),C(l,"class","font-bold"),C(u,"class","text-sm"),C(v,"class","font-bold"),C(d,"class","text-sm"),C(n,"class","grid grid-cols-1 gap-2 grid-rows-3 md:grid-cols-3 md:grid-rows-1 text-center"),C(e,"class","border-2 shadow-md p-4 m-4"),C(w,"class","bg-gray-200 text-gray-600 uppercase text-sm leading-normal"),C(b,"class","border-2 shadow-md w-full"),C(y,"class","overflow-auto border-2 shadow-md p-4 m-4")},m(t,T){E(t,e,T),I(e,n),I(n,r),I(r,i),I(r,o),I(o,s),I(n,a),I(n,u),I(u,c),I(u,l),I(l,h),I(n,f),I(n,d),I(d,p),I(d,v),I(v,m),E(t,g,T),E(t,y,T),I(y,b),I(b,w),I(b,_);for(let t=0;t<P.length;t+=1)P[t].m(b,null);k=!0},p(t,[e]){(!k||8&e)&&N!==(N=t[3].length+"")&&M(s,N),(!k||2&e)&&D!==(D=t[1].length+"")&&M(h,D),(!k||4&e)&&O!==(O=t[2].length+"")&&M(m,O),233&e&&(L=t[3],mt(),P=_t(P,e,j,1,t,L,R,b,Tt,zb,null,Rb),gt())},i(t){if(!k){for(let t=0;t<L.length;t+=1)yt(P[t]);k=!0}},o(t){for(let t=0;t<P.length;t+=1)bt(P[t]);k=!1},d(t){t&&T(e),t&&T(g),t&&T(y);for(let t=0;t<P.length;t+=1)P[t].d()}}}function Hb(t,e,n){let r,i;c(t,Ny,(t=>n(11,r=t)));let o=lg(Hv.collection("users").orderBy("vorname","desc"),"id").pipe(Pm([]));c(t,o,(t=>n(3,i=t)));let s=!1,a=[],u=[],l=[];Y((()=>{Hv.collection("users").where("bestaetigterTeilnehmer","==",!0).get().then((t=>{t.forEach((t=>{n(1,a=[...a,t.data().uid])}))})),Hv.collection("users").where("hasPayed","==",!0).get().then((t=>{t.forEach((t=>{n(2,u=[...u,t.data().uid])}))})),Hv.collection("users").where("confirmedParticipant","==",!0).get().then((t=>{t.forEach((t=>{l=[...l,t.data().uid]}))}))}));return[s,a,u,i,o,function(t){Hv.collection("users").doc(t.uid).update({bestaetigterTeilnehmer:!0}).then((()=>{d(Ny,r={message:`${t.vorname} die Chestnut freigeschaltet!`,color:"bg-green-600"},r),n(1,a=[...a,t.uid])})).catch((t=>{d(Ny,r={message:t.message,color:"bg-red-600"},r)}))},function(t){Hv.collection("users").doc(t.uid).update({hasPayed:!0}).then((()=>{d(Ny,r={message:`${t.vorname} die Chestnut hat bezahlt!`,color:"bg-green-600"},r),n(2,u=[...u,t])})).catch((t=>{d(Ny,r={message:t.message,color:"bg-red-600"},r)}))},function(t){Hv.collection("users").doc(t.uid).delete().then((()=>{d(Ny,r={message:`${t.vorname} weg mit Splasher`,color:"bg-yellow-600"},r)})).catch((t=>{d(Ny,r={message:t.message,color:"bg-red-600"},r)}))},()=>{n(0,s=!1)},()=>{n(0,s=!0)}]}class Gb extends Ct{constructor(t){super(),Ot(this,t,Hb,Bb,a,{})}}function Yb(t){let e,n,r,i,o,s,a,u,c,l,h,f=t[0].message+"";return{c(){e=x("div"),n=k("svg"),r=k("path"),i=A(),o=x("p"),s=S(f),C(r,"stroke-linecap","round"),C(r,"stroke-linejoin","round"),C(r,"stroke-width","2"),C(r,"d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),C(n,"class","h-6 w-6 text-gray-100"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"fill","none"),C(n,"viewBox","0 0 24 24"),C(n,"stroke","currentColor"),C(o,"class","text-gray-100 z-50"),C(e,"class",a="fixed shadow-lg cursor-pointer right-0 "+t[0].color+" px-2 py-4 flex justify-center items-center z-50")},m(a,u){E(a,e,u),I(e,n),I(n,r),I(e,i),I(e,o),I(o,s),c=!0,l||(h=D(e,"click",t[3]),l=!0)},p(t,n){(!c||1&n)&&f!==(f=t[0].message+"")&&M(s,f),(!c||1&n&&a!==(a="fixed shadow-lg cursor-pointer right-0 "+t[0].color+" px-2 py-4 flex justify-center items-center z-50"))&&C(e,"class",a)},i(t){c||(ot((()=>{u||(u=It(e,Ng,{},!0)),u.run(1)})),c=!0)},o(t){u||(u=It(e,Ng,{},!1)),u.run(0),c=!1},d(t){t&&T(e),t&&u&&u.end(),l=!1,h()}}}function Kb(t){let e,n,r=t[1]&&Yb(t);return{c(){r&&r.c(),e=N()},m(t,i){r&&r.m(t,i),E(t,e,i),n=!0},p(t,[n]){t[1]?r?(r.p(t,n),2&n&&yt(r,1)):(r=Yb(t),r.c(),yt(r,1),r.m(e.parentNode,e)):r&&(mt(),bt(r,1,1,(()=>{r=null})),gt())},i(t){n||(yt(r),n=!0)},o(t){bt(r),n=!1},d(t){r&&r.d(t),t&&T(e)}}}function Wb(t,e,n){let r;c(t,Ny,(t=>n(0,r=t)));let i,o,{ms:s=1500}=e;K((()=>clearTimeout(o)));return t.$$set=t=>{"ms"in t&&n(2,s=t.ms)},t.$$.update=()=>{5&t.$$.dirty&&((t,e)=>{clearTimeout(o),t?(n(1,i=!0),e>0&&(o=setTimeout((()=>n(1,i=!1)),e))):n(1,i=!1)})(r,s)},[r,i,s,()=>n(1,i=!1)]}class Xb extends Ct{constructor(t){super(),Ot(this,t,Wb,Kb,a,{ms:2})}}function Jb(e){let n,r;return n=new Ob({}),{c(){At(n.$$.fragment)},m(t,e){Nt(n,t,e),r=!0},p:t,i(t){r||(yt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function Qb(t){let e,n,r,i,o,s,a;return n=new vb({props:{user:t[0]}}),i=new Xb({}),s=new Gm({props:{routes:{"/":ig,"/kalender":Mm({component:Eg,props:{user:t[0]}}),"/lineup":Tg,"/mitfahrgelegenheiten":Mm({component:$y,props:{user:t[0]}}),"/profil":Mm({component:eb,props:{user:t[0]}}),"/admin":Gb,"*":nb}}}),{c(){e=x("main"),At(n.$$.fragment),r=A(),At(i.$$.fragment),o=A(),At(s.$$.fragment)},m(t,u){E(t,e,u),Nt(n,e,null),I(e,r),Nt(i,e,null),I(e,o),Nt(s,e,null),a=!0},p(t,e){const r={};1&e&&(r.user=t[0]),n.$set(r);const i={};1&e&&(i.routes={"/":ig,"/kalender":Mm({component:Eg,props:{user:t[0]}}),"/lineup":Tg,"/mitfahrgelegenheiten":Mm({component:$y,props:{user:t[0]}}),"/profil":Mm({component:eb,props:{user:t[0]}}),"/admin":Gb,"*":nb}),s.$set(i)},i(t){a||(yt(n.$$.fragment,t),yt(i.$$.fragment,t),yt(s.$$.fragment,t),a=!0)},o(t){bt(n.$$.fragment,t),bt(i.$$.fragment,t),bt(s.$$.fragment,t),a=!1},d(t){t&&T(e),Dt(n),Dt(i),Dt(s)}}}function Zb(t){let e,n,r,i,o;const s=[Qb,Jb],a=[];function u(t,e){return t[0]?0:1}return n=u(t),r=a[n]=s[n](t),{c(){e=A(),r.c(),i=N(),document.title="\r\n    Atomic Chestnut\r\n  "},m(t,r){E(t,e,r),a[n].m(t,r),E(t,i,r),o=!0},p(t,[e]){let o=n;n=u(t),n===o?a[n].p(t,e):(mt(),bt(a[o],1,1,(()=>{a[o]=null})),gt(),r=a[n],r?r.p(t,e):(r=a[n]=s[n](t),r.c()),yt(r,1),r.m(i.parentNode,i))},i(t){o||(yt(r),o=!0)},o(t){bt(r),o=!1},d(t){t&&T(e),a[n].d(t),t&&T(i)}}}function tw(t,e,n){let r;return function(t){return new lm((function(e){return{unsubscribe:t.onAuthStateChanged(e)}}))}(Gv).subscribe((t=>{n(0,r=t)})),[r]}return new class extends Ct{constructor(t){super(),Ot(this,t,tw,Zb,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
